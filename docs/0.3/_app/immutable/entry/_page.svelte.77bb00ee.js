import{S as Tt,i as vt,s as Et,k as Fe,q as Se,l as He,m as $e,r as we,h as q,b as J,G as et,u as bt,H as Ft,I as fr,y as ge,z as be,A as Te,g as H,d as V,B as ve,p as Os,J as Sh,n as Nt,K as h6,e as ke,L as f6,v as _e,f as Oe,M as ot,a as pt,c as gt,N as d6,o as m6,O as p6,w as $m,P as g6,Q as b6}from"../chunks/index.bd540226.js";import{w as T6}from"../chunks/index.decc6296.js";const ju={xml:!1,decodeEntities:!0},wh={_useHtmlParser2:!0,xmlMode:!0};function B0(t){return t!=null&&t.xml?typeof t.xml=="boolean"?wh:{...wh,...t.xml}:t??void 0}var Pe;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(Pe||(Pe={}));function v6(t){return t.type===Pe.Tag||t.type===Pe.Script||t.type===Pe.Style}const E6=Pe.Root,y6=Pe.Text,A6=Pe.Directive,x6=Pe.Comment,S6=Pe.Script,w6=Pe.Style,C6=Pe.Tag,k6=Pe.CDATA,_6=Pe.Doctype;class qm{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return ao(this,e)}}class Qu extends qm{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}let Ns=class extends Qu{constructor(){super(...arguments),this.type=Pe.Text}get nodeType(){return 3}};class Ju extends Qu{constructor(){super(...arguments),this.type=Pe.Comment}get nodeType(){return 8}}class Zu extends Qu{constructor(e,r){super(r),this.name=e,this.type=Pe.Directive}get nodeType(){return 1}}class ec extends qm{constructor(e){super(),this.children=e}get firstChild(){var e;return(e=this.children[0])!==null&&e!==void 0?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class Vm extends ec{constructor(){super(...arguments),this.type=Pe.CDATA}get nodeType(){return 4}}class on extends ec{constructor(){super(...arguments),this.type=Pe.Root}get nodeType(){return 9}}let tc=class extends ec{constructor(e,r,i=[],n=e==="script"?Pe.Script:e==="style"?Pe.Style:Pe.Tag){super(i),this.name=e,this.attribs=r,this.type=n}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map(e=>{var r,i;return{name:e,value:this.attribs[e],namespace:(r=this["x-attribsNamespace"])===null||r===void 0?void 0:r[e],prefix:(i=this["x-attribsPrefix"])===null||i===void 0?void 0:i[e]}})}};function me(t){return v6(t)}function Zo(t){return t.type===Pe.CDATA}function qr(t){return t.type===Pe.Text}function el(t){return t.type===Pe.Comment}function F0(t){return t.type===Pe.Directive}function fn(t){return t.type===Pe.Root}function _t(t){return Object.prototype.hasOwnProperty.call(t,"children")}function ao(t,e=!1){let r;if(qr(t))r=new Ns(t.data);else if(el(t))r=new Ju(t.data);else if(me(t)){const i=e?Bl(t.children):[],n=new tc(t.name,{...t.attribs},i);i.forEach(s=>s.parent=n),t.namespace!=null&&(n.namespace=t.namespace),t["x-attribsNamespace"]&&(n["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(n["x-attribsPrefix"]={...t["x-attribsPrefix"]}),r=n}else if(Zo(t)){const i=e?Bl(t.children):[],n=new Vm(i);i.forEach(s=>s.parent=n),r=n}else if(fn(t)){const i=e?Bl(t.children):[],n=new on(i);i.forEach(s=>s.parent=n),t["x-mode"]&&(n["x-mode"]=t["x-mode"]),r=n}else if(F0(t)){const i=new Zu(t.name,t.data);t["x-name"]!=null&&(i["x-name"]=t["x-name"],i["x-publicId"]=t["x-publicId"],i["x-systemId"]=t["x-systemId"]),r=i}else throw new Error(`Not implemented yet: ${t.type}`);return r.startIndex=t.startIndex,r.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(r.sourceCodeLocation=t.sourceCodeLocation),r}function Bl(t){const e=t.map(r=>ao(r,!0));for(let r=1;r<e.length;r++)e[r].prev=e[r-1],e[r-1].next=e[r];return e}const Ch={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class O6{constructor(e,r,i){this.dom=[],this.root=new on(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof r=="function"&&(i=r,r=Ch),typeof e=="object"&&(r=e,e=void 0),this.callback=e??null,this.options=r??Ch,this.elementCB=i??null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new on(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,r){const i=this.options.xmlMode?Pe.Tag:void 0,n=new tc(e,r,void 0,i);this.addNode(n),this.tagStack.push(n)}ontext(e){const{lastNode:r}=this;if(r&&r.type===Pe.Text)r.data+=e,this.options.withEndIndices&&(r.endIndex=this.parser.endIndex);else{const i=new Ns(e);this.addNode(i),this.lastNode=i}}oncomment(e){if(this.lastNode&&this.lastNode.type===Pe.Comment){this.lastNode.data+=e;return}const r=new Ju(e);this.addNode(r),this.lastNode=r}oncommentend(){this.lastNode=null}oncdatastart(){const e=new Ns(""),r=new Vm([e]);this.addNode(r),e.parent=r,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,r){const i=new Zu(e,r);this.addNode(i)}handleCallback(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e}addNode(e){const r=this.tagStack[this.tagStack.length-1],i=r.children[r.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),r.children.push(e),i&&(e.prev=i,i.next=e),e.parent=r,this.lastNode=null}}const Ei=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(t=>t.charCodeAt(0))),N6=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(t=>t.charCodeAt(0)));var Fl;const I6=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),kh=(Fl=String.fromCodePoint)!==null&&Fl!==void 0?Fl:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function M6(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=I6.get(t))!==null&&e!==void 0?e:t}var _h;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.To_LOWER_BIT=32]="To_LOWER_BIT"})(_h||(_h={}));var ai;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(ai||(ai={}));function Wm(t,e,r,i){const n=(e&ai.BRANCH_LENGTH)>>7,s=e&ai.JUMP_TABLE;if(n===0)return s!==0&&i===s?r:-1;if(s){const l=i-s;return l<0||l>=n?-1:t[r+l]-1}let a=r,o=a+n-1;for(;a<=o;){const l=a+o>>>1,u=t[l];if(u<i)a=l+1;else if(u>i)o=l-1;else return t[l+n]}return-1}const Oh=/["&'<>$\x80-\uFFFF]/g,D6=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),R6=String.prototype.codePointAt!=null?(t,e)=>t.codePointAt(e):(t,e)=>(t.charCodeAt(e)&64512)===55296?(t.charCodeAt(e)-55296)*1024+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);function Ym(t){let e="",r=0,i;for(;(i=Oh.exec(t))!==null;){const n=i.index,s=t.charCodeAt(n),a=D6.get(s);a!==void 0?(e+=t.substring(r,n)+a,r=n+1):(e+=`${t.substring(r,n)}&#x${R6(t,n).toString(16)};`,r=Oh.lastIndex+=Number((s&64512)===55296))}return e+t.substr(r)}function Gm(t,e){return function(i){let n,s=0,a="";for(;n=t.exec(i);)s!==n.index&&(a+=i.substring(s,n.index)),a+=e.get(n[0].charCodeAt(0)),s=n.index+1;return a+i.substring(s)}}const Xm=Gm(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Km=Gm(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),L6=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),P6=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),B6=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function F6(t){return t.replace(/"/g,"&quot;")}function H6(t,e){var r;if(!t)return;const i=((r=e.encodeEntities)!==null&&r!==void 0?r:e.decodeEntities)===!1?F6:e.xmlMode||e.encodeEntities!=="utf8"?Ym:Xm;return Object.keys(t).map(n=>{var s,a;const o=(s=t[n])!==null&&s!==void 0?s:"";return e.xmlMode==="foreign"&&(n=(a=P6.get(n))!==null&&a!==void 0?a:n),!e.emptyAttrs&&!e.xmlMode&&o===""?n:`${n}="${i(o)}"`}).join(" ")}const Nh=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function tl(t,e={}){const r="length"in t?t:[t];let i="";for(let n=0;n<r.length;n++)i+=U6(r[n],e);return i}function U6(t,e){switch(t.type){case E6:return tl(t.children,e);case _6:case A6:return V6(t);case x6:return G6(t);case k6:return Y6(t);case S6:case w6:case C6:return q6(t,e);case y6:return W6(t,e)}}const z6=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),$6=new Set(["svg","math"]);function q6(t,e){var r;e.xmlMode==="foreign"&&(t.name=(r=L6.get(t.name))!==null&&r!==void 0?r:t.name,t.parent&&z6.has(t.parent.name)&&(e={...e,xmlMode:!1})),!e.xmlMode&&$6.has(t.name)&&(e={...e,xmlMode:"foreign"});let i=`<${t.name}`;const n=H6(t.attribs,e);return n&&(i+=` ${n}`),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&Nh.has(t.name))?(e.xmlMode||(i+=" "),i+="/>"):(i+=">",t.children.length>0&&(i+=tl(t.children,e)),(e.xmlMode||!Nh.has(t.name))&&(i+=`</${t.name}>`)),i}function V6(t){return`<${t.data}>`}function W6(t,e){var r;let i=t.data||"";return((r=e.encodeEntities)!==null&&r!==void 0?r:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&B6.has(t.parent.name))&&(i=e.xmlMode||e.encodeEntities!=="utf8"?Ym(i):Km(i)),i}function Y6(t){return`<![CDATA[${t.children[0].data}]]>`}function G6(t){return`<!--${t.data}-->`}function jm(t,e){return tl(t,e)}function X6(t,e){return _t(t)?t.children.map(r=>jm(r,e)).join(""):""}function Ya(t){return Array.isArray(t)?t.map(Ya).join(""):me(t)?t.name==="br"?`
`:Ya(t.children):Zo(t)?Ya(t.children):qr(t)?t.data:""}function Fn(t){return Array.isArray(t)?t.map(Fn).join(""):_t(t)&&!el(t)?Fn(t.children):qr(t)?t.data:""}function oo(t){return Array.isArray(t)?t.map(oo).join(""):_t(t)&&(t.type===Pe.Tag||Zo(t))?oo(t.children):qr(t)?t.data:""}function rl(t){return _t(t)?t.children:[]}function Qm(t){return t.parent||null}function Jm(t){const e=Qm(t);if(e!=null)return rl(e);const r=[t];let{prev:i,next:n}=t;for(;i!=null;)r.unshift(i),{prev:i}=i;for(;n!=null;)r.push(n),{next:n}=n;return r}function K6(t,e){var r;return(r=t.attribs)===null||r===void 0?void 0:r[e]}function j6(t,e){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&t.attribs[e]!=null}function Q6(t){return t.name}function rc(t){let{next:e}=t;for(;e!==null&&!me(e);)({next:e}=e);return e}function ic(t){let{prev:e}=t;for(;e!==null&&!me(e);)({prev:e}=e);return e}function dn(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){const e=t.parent.children;e.splice(e.lastIndexOf(t),1)}}function J6(t,e){const r=e.prev=t.prev;r&&(r.next=e);const i=e.next=t.next;i&&(i.prev=e);const n=e.parent=t.parent;if(n){const s=n.children;s[s.lastIndexOf(t)]=e,t.parent=null}}function Z6(t,e){if(dn(e),e.next=null,e.parent=t,t.children.push(e)>1){const r=t.children[t.children.length-2];r.next=e,e.prev=r}else e.prev=null}function e5(t,e){dn(e);const{parent:r}=t,i=t.next;if(e.next=i,e.prev=t,t.next=e,e.parent=r,i){if(i.prev=e,r){const n=r.children;n.splice(n.lastIndexOf(i),0,e)}}else r&&r.children.push(e)}function t5(t,e){if(dn(e),e.parent=t,e.prev=null,t.children.unshift(e)!==1){const r=t.children[1];r.prev=e,e.next=r}else e.next=null}function r5(t,e){dn(e);const{parent:r}=t;if(r){const i=r.children;i.splice(i.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=r,e.prev=t.prev,e.next=t,t.prev=e}function il(t,e,r=!0,i=1/0){return Array.isArray(e)||(e=[e]),nl(t,e,r,i)}function nl(t,e,r,i){const n=[];for(const s of e){if(t(s)&&(n.push(s),--i<=0))break;if(r&&_t(s)&&s.children.length>0){const a=nl(t,s.children,r,i);if(n.push(...a),i-=a.length,i<=0)break}}return n}function i5(t,e){return e.find(t)}function nc(t,e,r=!0){let i=null;for(let n=0;n<e.length&&!i;n++){const s=e[n];if(me(s))t(s)?i=s:r&&s.children.length>0&&(i=nc(t,s.children,!0));else continue}return i}function Zm(t,e){return e.some(r=>me(r)&&(t(r)||r.children.length>0&&Zm(t,r.children)))}function n5(t,e){var r;const i=[],n=e.filter(me);let s;for(;s=n.shift();){const a=(r=s.children)===null||r===void 0?void 0:r.filter(me);a&&a.length>0&&n.unshift(...a),t(s)&&i.push(s)}return i}const lo={tag_name(t){return typeof t=="function"?e=>me(e)&&t(e.name):t==="*"?me:e=>me(e)&&e.name===t},tag_type(t){return typeof t=="function"?e=>t(e.type):e=>e.type===t},tag_contains(t){return typeof t=="function"?e=>qr(e)&&t(e.data):e=>qr(e)&&e.data===t}};function ep(t,e){return typeof e=="function"?r=>me(r)&&e(r.attribs[t]):r=>me(r)&&r.attribs[t]===e}function s5(t,e){return r=>t(r)||e(r)}function tp(t){const e=Object.keys(t).map(r=>{const i=t[r];return Object.prototype.hasOwnProperty.call(lo,r)?lo[r](i):ep(r,i)});return e.length===0?null:e.reduce(s5)}function a5(t,e){const r=tp(t);return r?r(e):!0}function o5(t,e,r,i=1/0){const n=tp(t);return n?il(n,e,r,i):[]}function l5(t,e,r=!0){return Array.isArray(e)||(e=[e]),nc(ep("id",t),e,r)}function Xn(t,e,r=!0,i=1/0){return il(lo.tag_name(t),e,r,i)}function u5(t,e,r=!0,i=1/0){return il(lo.tag_type(t),e,r,i)}function c5(t){let e=t.length;for(;--e>=0;){const r=t[e];if(e>0&&t.lastIndexOf(r,e-1)>=0){t.splice(e,1);continue}for(let i=r.parent;i;i=i.parent)if(t.includes(i)){t.splice(e,1);break}}return t}var pr;(function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"})(pr||(pr={}));function rp(t,e){const r=[],i=[];if(t===e)return 0;let n=_t(t)?t:t.parent;for(;n;)r.unshift(n),n=n.parent;for(n=_t(e)?e:e.parent;n;)i.unshift(n),n=n.parent;const s=Math.min(r.length,i.length);let a=0;for(;a<s&&r[a]===i[a];)a++;if(a===0)return pr.DISCONNECTED;const o=r[a-1],l=o.children,u=r[a],c=i[a];return l.indexOf(u)>l.indexOf(c)?o===e?pr.FOLLOWING|pr.CONTAINED_BY:pr.FOLLOWING:o===t?pr.PRECEDING|pr.CONTAINS:pr.PRECEDING}function Kn(t){return t=t.filter((e,r,i)=>!i.includes(e,r+1)),t.sort((e,r)=>{const i=rp(e,r);return i&pr.PRECEDING?-1:i&pr.FOLLOWING?1:0}),t}function h5(t){const e=uo(g5,t);return e?e.name==="feed"?f5(e):d5(e):null}function f5(t){var e;const r=t.children,i={type:"atom",items:Xn("entry",r).map(a=>{var o;const{children:l}=a,u={media:ip(l)};Qt(u,"id","id",l),Qt(u,"title","title",l);const c=(o=uo("link",l))===null||o===void 0?void 0:o.attribs.href;c&&(u.link=c);const h=tn("summary",l)||tn("content",l);h&&(u.description=h);const m=tn("updated",l);return m&&(u.pubDate=new Date(m)),u})};Qt(i,"id","id",r),Qt(i,"title","title",r);const n=(e=uo("link",r))===null||e===void 0?void 0:e.attribs.href;n&&(i.link=n),Qt(i,"description","subtitle",r);const s=tn("updated",r);return s&&(i.updated=new Date(s)),Qt(i,"author","email",r,!0),i}function d5(t){var e,r;const i=(r=(e=uo("channel",t.children))===null||e===void 0?void 0:e.children)!==null&&r!==void 0?r:[],n={type:t.name.substr(0,3),id:"",items:Xn("item",t.children).map(a=>{const{children:o}=a,l={media:ip(o)};Qt(l,"id","guid",o),Qt(l,"title","title",o),Qt(l,"link","link",o),Qt(l,"description","description",o);const u=tn("pubDate",o);return u&&(l.pubDate=new Date(u)),l})};Qt(n,"title","title",i),Qt(n,"link","link",i),Qt(n,"description","description",i);const s=tn("lastBuildDate",i);return s&&(n.updated=new Date(s)),Qt(n,"author","managingEditor",i,!0),n}const m5=["url","type","lang"],p5=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function ip(t){return Xn("media:content",t).map(e=>{const{attribs:r}=e,i={medium:r.medium,isDefault:!!r.isDefault};for(const n of m5)r[n]&&(i[n]=r[n]);for(const n of p5)r[n]&&(i[n]=parseInt(r[n],10));return r.expression&&(i.expression=r.expression),i})}function uo(t,e){return Xn(t,e,!0,1)[0]}function tn(t,e,r=!1){return Fn(Xn(t,e,r,1)).trim()}function Qt(t,e,r,i,n=!1){const s=tn(r,i,n);s&&(t[e]=s)}function g5(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}const sl=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return pr},append:e5,appendChild:Z6,compareDocumentPosition:rp,existsOne:Zm,filter:il,find:nl,findAll:n5,findOne:nc,findOneChild:i5,getAttributeValue:K6,getChildren:rl,getElementById:l5,getElements:o5,getElementsByTagName:Xn,getElementsByTagType:u5,getFeed:h5,getInnerHTML:X6,getName:Q6,getOuterHTML:jm,getParent:Qm,getSiblings:Jm,getText:Ya,hasAttrib:j6,hasChildren:_t,innerText:oo,isCDATA:Zo,isComment:el,isDocument:fn,isTag:me,isText:qr,nextElementSibling:rc,prepend:r5,prependChild:t5,prevElementSibling:ic,removeElement:dn,removeSubsets:c5,replaceElement:J6,testElement:a5,textContent:Fn,uniqueSort:Kn},Symbol.toStringTag,{value:"Module"}));function np(t,e,r){return t?t(e??t._root.children,null,void 0,r).toString():""}function b5(t,e){return!e&&typeof t=="object"&&t!=null&&!("length"in t)&&!("type"in t)}function T5(t,e){const r=b5(t)?(e=t,void 0):t,i={...ju,...this===null||this===void 0?void 0:this._options,...B0(e??{})};return np(this,r,i)}function v5(t){const e={...this._options,xmlMode:!0};return np(this,t,e)}function Is(t){const e=t||(this?this.root():[]);let r="";for(let i=0;i<e.length;i++)r+=Fn(e[i]);return r}function E5(t,e,r=typeof e=="boolean"?e:!1){if(!t||typeof t!="string")return null;typeof e=="boolean"&&(r=e);const i=this.load(t,ju,!1);return r||i("script").remove(),i.root()[0].children.slice()}function y5(){return this(this._root)}function sp(t,e){if(e===t)return!1;let r=e;for(;r&&r!==r.parent;)if(r=r.parent,r===t)return!0;return!1}function A5(t,e){if(!Ih(t)||!Ih(e))return;let r=t.length;const i=+e.length;for(let n=0;n<i;n++)t[r++]=e[n];return t.length=r,t}function Ih(t){if(Array.isArray(t))return!0;if(typeof t!="object"||!Object.prototype.hasOwnProperty.call(t,"length")||typeof t.length!="number"||t.length<0)return!1;for(let e=0;e<t.length;e++)if(!(e in t))return!1;return!0}const x5=Object.freeze(Object.defineProperty({__proto__:null,contains:sp,html:T5,merge:A5,parseHTML:E5,root:y5,text:Is,xml:v5},Symbol.toStringTag,{value:"Module"}));function Vr(t){return t.cheerio!=null}function S5(t){return t.replace(/[_.-](\w|$)/g,(e,r)=>r.toUpperCase())}function w5(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()}function lt(t,e){const r=t.length;for(let i=0;i<r;i++)e(t[i],i);return t}function H0(t){const e="length"in t?Array.prototype.map.call(t,i=>ao(i,!0)):[ao(t,!0)],r=new on(e);return e.forEach(i=>{i.parent=r}),e}var Qi;(function(t){t[t.LowerA=97]="LowerA",t[t.LowerZ=122]="LowerZ",t[t.UpperA=65]="UpperA",t[t.UpperZ=90]="UpperZ",t[t.Exclamation=33]="Exclamation"})(Qi||(Qi={}));function U0(t){const e=t.indexOf("<");if(e<0||e>t.length-3)return!1;const r=t.charCodeAt(e+1);return(r>=Qi.LowerA&&r<=Qi.LowerZ||r>=Qi.UpperA&&r<=Qi.UpperZ||r===Qi.Exclamation)&&t.includes(">",e+2)}const On=Object.prototype.hasOwnProperty,Ms=/\s+/,Hl="data-",Mh={null:null,true:!0,false:!1},sc=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,C5=/^{[^]*}$|^\[[^]*]$/;function co(t,e,r){var i;if(!(!t||!me(t))){if((i=t.attribs)!==null&&i!==void 0||(t.attribs={}),!e)return t.attribs;if(On.call(t.attribs,e))return!r&&sc.test(e)?e:t.attribs[e];if(t.name==="option"&&e==="value")return Is(t.children);if(t.name==="input"&&(t.attribs.type==="radio"||t.attribs.type==="checkbox")&&e==="value")return"on"}}function Nn(t,e,r){r===null?ap(t,e):t.attribs[e]=`${r}`}function k5(t,e){if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t!="string")throw new Error("Bad combination of arguments.");return lt(this,(r,i)=>{me(r)&&Nn(r,t,e.call(r,i,r.attribs[t]))})}return lt(this,r=>{me(r)&&(typeof t=="object"?Object.keys(t).forEach(i=>{const n=t[i];Nn(r,i,n)}):Nn(r,t,e))})}return arguments.length>1?this:co(this[0],t,this.options.xmlMode)}function Dh(t,e,r){return e in t?t[e]:!r&&sc.test(e)?co(t,e,!1)!==void 0:co(t,e,r)}function Ul(t,e,r,i){e in t?t[e]=r:Nn(t,e,!i&&sc.test(e)?r?"":null:`${r}`)}function _5(t,e){var r;if(typeof t=="string"&&e===void 0){const i=this[0];if(!i||!me(i))return;switch(t){case"style":{const n=this.css(),s=Object.keys(n);return s.forEach((a,o)=>{n[o]=a}),n.length=s.length,n}case"tagName":case"nodeName":return i.name.toUpperCase();case"href":case"src":{const n=(r=i.attribs)===null||r===void 0?void 0:r[t];return typeof URL<"u"&&(t==="href"&&(i.tagName==="a"||i.name==="link")||t==="src"&&(i.tagName==="img"||i.tagName==="iframe"||i.tagName==="audio"||i.tagName==="video"||i.tagName==="source"))&&n!==void 0&&this.options.baseURI?new URL(n,this.options.baseURI).href:n}case"innerText":return oo(i);case"textContent":return Fn(i);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return Dh(i,t,this.options.xmlMode)}}if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t=="object")throw new Error("Bad combination of arguments.");return lt(this,(i,n)=>{me(i)&&Ul(i,t,e.call(i,n,Dh(i,t,this.options.xmlMode)),this.options.xmlMode)})}return lt(this,i=>{me(i)&&(typeof t=="object"?Object.keys(t).forEach(n=>{const s=t[n];Ul(i,n,s,this.options.xmlMode)}):Ul(i,t,e,this.options.xmlMode))})}}function Rh(t,e,r){var i;const n=t;(i=n.data)!==null&&i!==void 0||(n.data={}),typeof e=="object"?Object.assign(n.data,e):typeof e=="string"&&r!==void 0&&(n.data[e]=r)}function Lh(t,e){let r,i,n;e==null?(r=Object.keys(t.attribs).filter(s=>s.startsWith(Hl)),i=r.map(s=>S5(s.slice(Hl.length)))):(r=[Hl+w5(e)],i=[e]);for(let s=0;s<r.length;++s){const a=r[s],o=i[s];if(On.call(t.attribs,a)&&!On.call(t.data,o)){if(n=t.attribs[a],On.call(Mh,n))n=Mh[n];else if(n===String(Number(n)))n=Number(n);else if(C5.test(n))try{n=JSON.parse(n)}catch{}t.data[o]=n}}return e==null?t.data:n}function O5(t,e){var r;const i=this[0];if(!i||!me(i))return;const n=i;return(r=n.data)!==null&&r!==void 0||(n.data={}),t?typeof t=="object"||e!==void 0?(lt(this,s=>{me(s)&&(typeof t=="object"?Rh(s,t):Rh(s,t,e))}),this):On.call(n.data,t)?n.data[t]:Lh(n,t):Lh(n)}function N5(t){const e=arguments.length===0,r=this[0];if(!r||!me(r))return e?void 0:this;switch(r.name){case"textarea":return this.text(t);case"select":{const i=this.find("option:selected");if(!e){if(this.attr("multiple")==null&&typeof t=="object")return this;this.find("option").removeAttr("selected");const n=typeof t!="object"?[t]:t;for(let s=0;s<n.length;s++)this.find(`option[value="${n[s]}"]`).attr("selected","");return this}return this.attr("multiple")?i.toArray().map(n=>Is(n.children)):i.attr("value")}case"input":case"option":return e?this.attr("value"):this.attr("value",t)}}function ap(t,e){!t.attribs||!On.call(t.attribs,e)||delete t.attribs[e]}function ho(t){return t?t.trim().split(Ms):[]}function I5(t){const e=ho(t);for(let r=0;r<e.length;r++)lt(this,i=>{me(i)&&ap(i,e[r])});return this}function M5(t){return this.toArray().some(e=>{const r=me(e)&&e.attribs.class;let i=-1;if(r&&t.length)for(;(i=r.indexOf(t,i+1))>-1;){const n=i+t.length;if((i===0||Ms.test(r[i-1]))&&(n===r.length||Ms.test(r[n])))return!0}return!1})}function op(t){if(typeof t=="function")return lt(this,(i,n)=>{if(me(i)){const s=i.attribs.class||"";op.call([i],t.call(i,n,s))}});if(!t||typeof t!="string")return this;const e=t.split(Ms),r=this.length;for(let i=0;i<r;i++){const n=this[i];if(!me(n))continue;const s=co(n,"class",!1);if(!s)Nn(n,"class",e.join(" ").trim());else{let a=` ${s} `;for(let o=0;o<e.length;o++){const l=`${e[o]} `;a.includes(` ${l}`)||(a+=l)}Nn(n,"class",a.trim())}}return this}function lp(t){if(typeof t=="function")return lt(this,(n,s)=>{me(n)&&lp.call([n],t.call(n,s,n.attribs.class||""))});const e=ho(t),r=e.length,i=arguments.length===0;return lt(this,n=>{if(me(n))if(i)n.attribs.class="";else{const s=ho(n.attribs.class);let a=!1;for(let o=0;o<r;o++){const l=s.indexOf(e[o]);l>=0&&(s.splice(l,1),a=!0,o--)}a&&(n.attribs.class=s.join(" "))}})}function up(t,e){if(typeof t=="function")return lt(this,(a,o)=>{me(a)&&up.call([a],t.call(a,o,a.attribs.class||"",e),e)});if(!t||typeof t!="string")return this;const r=t.split(Ms),i=r.length,n=typeof e=="boolean"?e?1:-1:0,s=this.length;for(let a=0;a<s;a++){const o=this[a];if(!me(o))continue;const l=ho(o.attribs.class);for(let u=0;u<i;u++){const c=l.indexOf(r[u]);n>=0&&c<0?l.push(r[u]):n<=0&&c>=0&&l.splice(c,1)}o.attribs.class=l.join(" ")}return this}const D5=Object.freeze(Object.defineProperty({__proto__:null,addClass:op,attr:k5,data:O5,hasClass:M5,prop:_5,removeAttr:I5,removeClass:lp,toggleClass:up,val:N5},Symbol.toStringTag,{value:"Module"}));var ce;(function(t){t.Attribute="attribute",t.Pseudo="pseudo",t.PseudoElement="pseudo-element",t.Tag="tag",t.Universal="universal",t.Adjacent="adjacent",t.Child="child",t.Descendant="descendant",t.Parent="parent",t.Sibling="sibling",t.ColumnCombinator="column-combinator"})(ce||(ce={}));var St;(function(t){t.Any="any",t.Element="element",t.End="end",t.Equals="equals",t.Exists="exists",t.Hyphen="hyphen",t.Not="not",t.Start="start"})(St||(St={}));const Ph=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,R5=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,L5=new Map([[126,St.Element],[94,St.Start],[36,St.End],[42,St.Any],[33,St.Not],[124,St.Hyphen]]),P5=new Set(["has","not","matches","is","where","host","host-context"]);function ps(t){switch(t.type){case ce.Adjacent:case ce.Child:case ce.Descendant:case ce.Parent:case ce.Sibling:case ce.ColumnCombinator:return!0;default:return!1}}const B5=new Set(["contains","icontains"]);function F5(t,e,r){const i=parseInt(e,16)-65536;return i!==i||r?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)}function ts(t){return t.replace(R5,F5)}function zl(t){return t===39||t===34}function Bh(t){return t===32||t===9||t===10||t===12||t===13}function al(t){const e=[],r=cp(e,`${t}`,0);if(r<t.length)throw new Error(`Unmatched selector: ${t.slice(r)}`);return e}function cp(t,e,r){let i=[];function n(m){const p=e.slice(r+m).match(Ph);if(!p)throw new Error(`Expected name, found ${e.slice(r)}`);const[b]=p;return r+=m+b.length,ts(b)}function s(m){for(r+=m;r<e.length&&Bh(e.charCodeAt(r));)r++}function a(){r+=1;const m=r;let p=1;for(;p>0&&r<e.length;r++)e.charCodeAt(r)===40&&!o(r)?p++:e.charCodeAt(r)===41&&!o(r)&&p--;if(p)throw new Error("Parenthesis not matched");return ts(e.slice(m,r-1))}function o(m){let p=0;for(;e.charCodeAt(--m)===92;)p++;return(p&1)===1}function l(){if(i.length>0&&ps(i[i.length-1]))throw new Error("Did not expect successive traversals.")}function u(m){if(i.length>0&&i[i.length-1].type===ce.Descendant){i[i.length-1].type=m;return}l(),i.push({type:m})}function c(m,p){i.push({type:ce.Attribute,name:m,action:p,value:n(1),namespace:null,ignoreCase:"quirks"})}function h(){if(i.length&&i[i.length-1].type===ce.Descendant&&i.pop(),i.length===0)throw new Error("Empty sub-selector");t.push(i)}if(s(0),e.length===r)return r;e:for(;r<e.length;){const m=e.charCodeAt(r);switch(m){case 32:case 9:case 10:case 12:case 13:{(i.length===0||i[0].type!==ce.Descendant)&&(l(),i.push({type:ce.Descendant})),s(1);break}case 62:{u(ce.Child),s(1);break}case 60:{u(ce.Parent),s(1);break}case 126:{u(ce.Sibling),s(1);break}case 43:{u(ce.Adjacent),s(1);break}case 46:{c("class",St.Element);break}case 35:{c("id",St.Equals);break}case 91:{s(1);let p,b=null;e.charCodeAt(r)===124?p=n(1):e.startsWith("*|",r)?(b="*",p=n(2)):(p=n(0),e.charCodeAt(r)===124&&e.charCodeAt(r+1)!==61&&(b=p,p=n(1))),s(0);let A=St.Exists;const x=L5.get(e.charCodeAt(r));if(x){if(A=x,e.charCodeAt(r+1)!==61)throw new Error("Expected `=`");s(2)}else e.charCodeAt(r)===61&&(A=St.Equals,s(1));let S="",R=null;if(A!=="exists"){if(zl(e.charCodeAt(r))){const N=e.charCodeAt(r);let $=r+1;for(;$<e.length&&(e.charCodeAt($)!==N||o($));)$+=1;if(e.charCodeAt($)!==N)throw new Error("Attribute value didn't end");S=ts(e.slice(r+1,$)),r=$+1}else{const N=r;for(;r<e.length&&(!Bh(e.charCodeAt(r))&&e.charCodeAt(r)!==93||o(r));)r+=1;S=ts(e.slice(N,r))}s(0);const P=e.charCodeAt(r)|32;P===115?(R=!1,s(1)):P===105&&(R=!0,s(1))}if(e.charCodeAt(r)!==93)throw new Error("Attribute selector didn't terminate");r+=1;const I={type:ce.Attribute,name:p,action:A,value:S,namespace:b,ignoreCase:R};i.push(I);break}case 58:{if(e.charCodeAt(r+1)===58){i.push({type:ce.PseudoElement,name:n(2).toLowerCase(),data:e.charCodeAt(r)===40?a():null});continue}const p=n(1).toLowerCase();let b=null;if(e.charCodeAt(r)===40)if(P5.has(p)){if(zl(e.charCodeAt(r+1)))throw new Error(`Pseudo-selector ${p} cannot be quoted`);if(b=[],r=cp(b,e,r+1),e.charCodeAt(r)!==41)throw new Error(`Missing closing parenthesis in :${p} (${e})`);r+=1}else{if(b=a(),B5.has(p)){const A=b.charCodeAt(0);A===b.charCodeAt(b.length-1)&&zl(A)&&(b=b.slice(1,-1))}b=ts(b)}i.push({type:ce.Pseudo,name:p,data:b});break}case 44:{h(),i=[],s(1);break}default:{if(e.startsWith("/*",r)){const A=e.indexOf("*/",r+2);if(A<0)throw new Error("Comment was not terminated");r=A+2,i.length===0&&s(0);break}let p=null,b;if(m===42)r+=1,b="*";else if(m===124){if(b="",e.charCodeAt(r+1)===124){u(ce.ColumnCombinator),s(2);break}}else if(Ph.test(e.slice(r)))b=n(0);else break e;e.charCodeAt(r)===124&&e.charCodeAt(r+1)!==124&&(p=b,e.charCodeAt(r+1)===42?(b="*",r+=2):b=n(1)),i.push(b==="*"?{type:ce.Universal,namespace:p}:{type:ce.Tag,name:b,namespace:p})}}}return h(),r}var ye={trueFunc:function(){return!0},falseFunc:function(){return!1}};const hp=new Map([[ce.Universal,50],[ce.Tag,30],[ce.Attribute,1],[ce.Pseudo,0]]);function ac(t){return!hp.has(t.type)}const H5=new Map([[St.Exists,10],[St.Equals,8],[St.Not,7],[St.Start,6],[St.End,6],[St.Any,5]]);function U5(t){const e=t.map(fp);for(let r=1;r<t.length;r++){const i=e[r];if(!(i<0))for(let n=r-1;n>=0&&i<e[n];n--){const s=t[n+1];t[n+1]=t[n],t[n]=s,e[n+1]=e[n],e[n]=i}}}function fp(t){var e,r;let i=(e=hp.get(t.type))!==null&&e!==void 0?e:-1;return t.type===ce.Attribute?(i=(r=H5.get(t.action))!==null&&r!==void 0?r:4,t.action===St.Equals&&t.name==="id"&&(i=9),t.ignoreCase&&(i>>=1)):t.type===ce.Pseudo&&(t.data?t.name==="has"||t.name==="contains"?i=0:Array.isArray(t.data)?(i=Math.min(...t.data.map(n=>Math.min(...n.map(fp)))),i<0&&(i=0)):i=2:i=3),i}const z5=/[-[\]{}()*+?.,\\^$|#\s]/g;function Fh(t){return t.replace(z5,"\\$&")}const $5=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Gi(t,e){return typeof t.ignoreCase=="boolean"?t.ignoreCase:t.ignoreCase==="quirks"?!!e.quirksMode:!e.xmlMode&&$5.has(t.name)}const q5={equals(t,e,r){const{adapter:i}=r,{name:n}=e;let{value:s}=e;return Gi(e,r)?(s=s.toLowerCase(),a=>{const o=i.getAttributeValue(a,n);return o!=null&&o.length===s.length&&o.toLowerCase()===s&&t(a)}):a=>i.getAttributeValue(a,n)===s&&t(a)},hyphen(t,e,r){const{adapter:i}=r,{name:n}=e;let{value:s}=e;const a=s.length;return Gi(e,r)?(s=s.toLowerCase(),function(l){const u=i.getAttributeValue(l,n);return u!=null&&(u.length===a||u.charAt(a)==="-")&&u.substr(0,a).toLowerCase()===s&&t(l)}):function(l){const u=i.getAttributeValue(l,n);return u!=null&&(u.length===a||u.charAt(a)==="-")&&u.substr(0,a)===s&&t(l)}},element(t,e,r){const{adapter:i}=r,{name:n,value:s}=e;if(/\s/.test(s))return ye.falseFunc;const a=new RegExp(`(?:^|\\s)${Fh(s)}(?:$|\\s)`,Gi(e,r)?"i":"");return function(l){const u=i.getAttributeValue(l,n);return u!=null&&u.length>=s.length&&a.test(u)&&t(l)}},exists(t,{name:e},{adapter:r}){return i=>r.hasAttrib(i,e)&&t(i)},start(t,e,r){const{adapter:i}=r,{name:n}=e;let{value:s}=e;const a=s.length;return a===0?ye.falseFunc:Gi(e,r)?(s=s.toLowerCase(),o=>{const l=i.getAttributeValue(o,n);return l!=null&&l.length>=a&&l.substr(0,a).toLowerCase()===s&&t(o)}):o=>{var l;return!!(!((l=i.getAttributeValue(o,n))===null||l===void 0)&&l.startsWith(s))&&t(o)}},end(t,e,r){const{adapter:i}=r,{name:n}=e;let{value:s}=e;const a=-s.length;return a===0?ye.falseFunc:Gi(e,r)?(s=s.toLowerCase(),o=>{var l;return((l=i.getAttributeValue(o,n))===null||l===void 0?void 0:l.substr(a).toLowerCase())===s&&t(o)}):o=>{var l;return!!(!((l=i.getAttributeValue(o,n))===null||l===void 0)&&l.endsWith(s))&&t(o)}},any(t,e,r){const{adapter:i}=r,{name:n,value:s}=e;if(s==="")return ye.falseFunc;if(Gi(e,r)){const a=new RegExp(Fh(s),"i");return function(l){const u=i.getAttributeValue(l,n);return u!=null&&u.length>=s.length&&a.test(u)&&t(l)}}return a=>{var o;return!!(!((o=i.getAttributeValue(a,n))===null||o===void 0)&&o.includes(s))&&t(a)}},not(t,e,r){const{adapter:i}=r,{name:n}=e;let{value:s}=e;return s===""?a=>!!i.getAttributeValue(a,n)&&t(a):Gi(e,r)?(s=s.toLowerCase(),a=>{const o=i.getAttributeValue(a,n);return(o==null||o.length!==s.length||o.toLowerCase()!==s)&&t(a)}):a=>i.getAttributeValue(a,n)!==s&&t(a)}},V5=new Set([9,10,12,13,32]),Hh="0".charCodeAt(0),W5="9".charCodeAt(0);function Y5(t){if(t=t.trim().toLowerCase(),t==="even")return[2,0];if(t==="odd")return[2,1];let e=0,r=0,i=s(),n=a();if(e<t.length&&t.charAt(e)==="n"&&(e++,r=i*(n??1),o(),e<t.length?(i=s(),o(),n=a()):i=n=0),n===null||e<t.length)throw new Error(`n-th rule couldn't be parsed ('${t}')`);return[r,i*n];function s(){return t.charAt(e)==="-"?(e++,-1):(t.charAt(e)==="+"&&e++,1)}function a(){const l=e;let u=0;for(;e<t.length&&t.charCodeAt(e)>=Hh&&t.charCodeAt(e)<=W5;)u=u*10+(t.charCodeAt(e)-Hh),e++;return e===l?null:u}function o(){for(;e<t.length&&V5.has(t.charCodeAt(e));)e++}}function G5(t){const e=t[0],r=t[1]-1;if(r<0&&e<=0)return ye.falseFunc;if(e===-1)return s=>s<=r;if(e===0)return s=>s===r;if(e===1)return r<0?ye.trueFunc:s=>s>=r;const i=Math.abs(e),n=(r%i+i)%i;return e>1?s=>s>=r&&s%i===n:s=>s<=r&&s%i===n}function ha(t){return G5(Y5(t))}function fa(t,e){return r=>{const i=e.getParent(r);return i!=null&&e.isTag(i)&&t(r)}}const z0={contains(t,e,{adapter:r}){return function(n){return t(n)&&r.getText(n).includes(e)}},icontains(t,e,{adapter:r}){const i=e.toLowerCase();return function(s){return t(s)&&r.getText(s).toLowerCase().includes(i)}},"nth-child"(t,e,{adapter:r,equals:i}){const n=ha(e);return n===ye.falseFunc?ye.falseFunc:n===ye.trueFunc?fa(t,r):function(a){const o=r.getSiblings(a);let l=0;for(let u=0;u<o.length&&!i(a,o[u]);u++)r.isTag(o[u])&&l++;return n(l)&&t(a)}},"nth-last-child"(t,e,{adapter:r,equals:i}){const n=ha(e);return n===ye.falseFunc?ye.falseFunc:n===ye.trueFunc?fa(t,r):function(a){const o=r.getSiblings(a);let l=0;for(let u=o.length-1;u>=0&&!i(a,o[u]);u--)r.isTag(o[u])&&l++;return n(l)&&t(a)}},"nth-of-type"(t,e,{adapter:r,equals:i}){const n=ha(e);return n===ye.falseFunc?ye.falseFunc:n===ye.trueFunc?fa(t,r):function(a){const o=r.getSiblings(a);let l=0;for(let u=0;u<o.length;u++){const c=o[u];if(i(a,c))break;r.isTag(c)&&r.getName(c)===r.getName(a)&&l++}return n(l)&&t(a)}},"nth-last-of-type"(t,e,{adapter:r,equals:i}){const n=ha(e);return n===ye.falseFunc?ye.falseFunc:n===ye.trueFunc?fa(t,r):function(a){const o=r.getSiblings(a);let l=0;for(let u=o.length-1;u>=0;u--){const c=o[u];if(i(a,c))break;r.isTag(c)&&r.getName(c)===r.getName(a)&&l++}return n(l)&&t(a)}},root(t,e,{adapter:r}){return i=>{const n=r.getParent(i);return(n==null||!r.isTag(n))&&t(i)}},scope(t,e,r,i){const{equals:n}=r;return!i||i.length===0?z0.root(t,e,r):i.length===1?s=>n(i[0],s)&&t(s):s=>i.includes(s)&&t(s)},hover:$l("isHovered"),visited:$l("isVisited"),active:$l("isActive")};function $l(t){return function(r,i,{adapter:n}){const s=n[t];return typeof s!="function"?ye.falseFunc:function(o){return s(o)&&r(o)}}}const Uh={empty(t,{adapter:e}){return!e.getChildren(t).some(r=>e.isTag(r)||e.getText(r)!=="")},"first-child"(t,{adapter:e,equals:r}){if(e.prevElementSibling)return e.prevElementSibling(t)==null;const i=e.getSiblings(t).find(n=>e.isTag(n));return i!=null&&r(t,i)},"last-child"(t,{adapter:e,equals:r}){const i=e.getSiblings(t);for(let n=i.length-1;n>=0;n--){if(r(t,i[n]))return!0;if(e.isTag(i[n]))break}return!1},"first-of-type"(t,{adapter:e,equals:r}){const i=e.getSiblings(t),n=e.getName(t);for(let s=0;s<i.length;s++){const a=i[s];if(r(t,a))return!0;if(e.isTag(a)&&e.getName(a)===n)break}return!1},"last-of-type"(t,{adapter:e,equals:r}){const i=e.getSiblings(t),n=e.getName(t);for(let s=i.length-1;s>=0;s--){const a=i[s];if(r(t,a))return!0;if(e.isTag(a)&&e.getName(a)===n)break}return!1},"only-of-type"(t,{adapter:e,equals:r}){const i=e.getName(t);return e.getSiblings(t).every(n=>r(t,n)||!e.isTag(n)||e.getName(n)!==i)},"only-child"(t,{adapter:e,equals:r}){return e.getSiblings(t).every(i=>r(t,i)||!e.isTag(i))}};function zh(t,e,r,i){if(r===null){if(t.length>i)throw new Error(`Pseudo-class :${e} requires an argument`)}else if(t.length===i)throw new Error(`Pseudo-class :${e} doesn't have any arguments`)}const X5={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},dp={};function K5(t,e){return t===ye.falseFunc?ye.falseFunc:r=>e.isTag(r)&&t(r)}function mp(t,e){const r=e.getSiblings(t);if(r.length<=1)return[];const i=r.indexOf(t);return i<0||i===r.length-1?[]:r.slice(i+1).filter(e.isTag)}function $0(t){return{xmlMode:!!t.xmlMode,lowerCaseAttributeNames:!!t.lowerCaseAttributeNames,lowerCaseTags:!!t.lowerCaseTags,quirksMode:!!t.quirksMode,cacheResults:!!t.cacheResults,pseudos:t.pseudos,adapter:t.adapter,equals:t.equals}}const ql=(t,e,r,i,n)=>{const s=n(e,$0(r),i);return s===ye.trueFunc?t:s===ye.falseFunc?ye.falseFunc:a=>s(a)&&t(a)},Vl={is:ql,matches:ql,where:ql,not(t,e,r,i,n){const s=n(e,$0(r),i);return s===ye.falseFunc?t:s===ye.trueFunc?ye.falseFunc:a=>!s(a)&&t(a)},has(t,e,r,i,n){const{adapter:s}=r,a=$0(r);a.relativeSelector=!0;const o=e.some(c=>c.some(ac))?[dp]:void 0,l=n(e,a,o);if(l===ye.falseFunc)return ye.falseFunc;const u=K5(l,s);if(o&&l!==ye.trueFunc){const{shouldTestNextSiblings:c=!1}=l;return h=>{if(!t(h))return!1;o[0]=h;const m=s.getChildren(h),p=c?[...m,...mp(h,s)]:m;return s.existsOne(u,p)}}return c=>t(c)&&s.existsOne(u,s.getChildren(c))}};function j5(t,e,r,i,n){var s;const{name:a,data:o}=e;if(Array.isArray(o)){if(!(a in Vl))throw new Error(`Unknown pseudo-class :${a}(${o})`);return Vl[a](t,o,r,i,n)}const l=(s=r.pseudos)===null||s===void 0?void 0:s[a],u=typeof l=="string"?l:X5[a];if(typeof u=="string"){if(o!=null)throw new Error(`Pseudo ${a} doesn't have any arguments`);const c=al(u);return Vl.is(t,c,r,i,n)}if(typeof l=="function")return zh(l,a,o,1),c=>l(c,o)&&t(c);if(a in z0)return z0[a](t,o,r,i);if(a in Uh){const c=Uh[a];return zh(c,a,o,2),h=>c(h,r,o)&&t(h)}throw new Error(`Unknown pseudo-class :${a}`)}function Wl(t,e){const r=e.getParent(t);return r&&e.isTag(r)?r:null}function Q5(t,e,r,i,n){const{adapter:s,equals:a}=r;switch(e.type){case ce.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case ce.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case ce.Attribute:{if(e.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!r.xmlMode||r.lowerCaseAttributeNames)&&(e.name=e.name.toLowerCase()),q5[e.action](t,e,r)}case ce.Pseudo:return j5(t,e,r,i,n);case ce.Tag:{if(e.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:o}=e;return(!r.xmlMode||r.lowerCaseTags)&&(o=o.toLowerCase()),function(u){return s.getName(u)===o&&t(u)}}case ce.Descendant:{if(r.cacheResults===!1||typeof WeakSet>"u")return function(u){let c=u;for(;c=Wl(c,s);)if(t(c))return!0;return!1};const o=new WeakSet;return function(u){let c=u;for(;c=Wl(c,s);)if(!o.has(c)){if(s.isTag(c)&&t(c))return!0;o.add(c)}return!1}}case"_flexibleDescendant":return function(l){let u=l;do if(t(u))return!0;while(u=Wl(u,s));return!1};case ce.Parent:return function(l){return s.getChildren(l).some(u=>s.isTag(u)&&t(u))};case ce.Child:return function(l){const u=s.getParent(l);return u!=null&&s.isTag(u)&&t(u)};case ce.Sibling:return function(l){const u=s.getSiblings(l);for(let c=0;c<u.length;c++){const h=u[c];if(a(l,h))break;if(s.isTag(h)&&t(h))return!0}return!1};case ce.Adjacent:return s.prevElementSibling?function(l){const u=s.prevElementSibling(l);return u!=null&&t(u)}:function(l){const u=s.getSiblings(l);let c;for(let h=0;h<u.length;h++){const m=u[h];if(a(l,m))break;s.isTag(m)&&(c=m)}return!!c&&t(c)};case ce.Universal:{if(e.namespace!=null&&e.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return t}}}function pp(t){return t.type===ce.Pseudo&&(t.name==="scope"||Array.isArray(t.data)&&t.data.some(e=>e.some(pp)))}const J5={type:ce.Descendant},Z5={type:"_flexibleDescendant"},eb={type:ce.Pseudo,name:"scope",data:null};function tb(t,{adapter:e},r){const i=!!(r!=null&&r.every(n=>{const s=e.isTag(n)&&e.getParent(n);return n===dp||s&&e.isTag(s)}));for(const n of t){if(!(n.length>0&&ac(n[0])&&n[0].type!==ce.Descendant))if(i&&!n.some(pp))n.unshift(J5);else continue;n.unshift(eb)}}function gp(t,e,r){var i;t.forEach(U5),r=(i=e.context)!==null&&i!==void 0?i:r;const n=Array.isArray(r),s=r&&(Array.isArray(r)?r:[r]);if(e.relativeSelector!==!1)tb(t,e,s);else if(t.some(l=>l.length>0&&ac(l[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let a=!1;const o=t.map(l=>{if(l.length>=2){const[u,c]=l;u.type!==ce.Pseudo||u.name!=="scope"||(n&&c.type===ce.Descendant?l[1]=Z5:(c.type===ce.Adjacent||c.type===ce.Sibling)&&(a=!0))}return rb(l,e,s)}).reduce(ib,ye.falseFunc);return o.shouldTestNextSiblings=a,o}function rb(t,e,r){var i;return t.reduce((n,s)=>n===ye.falseFunc?ye.falseFunc:Q5(n,s,e,r,gp),(i=e.rootFunc)!==null&&i!==void 0?i:ye.trueFunc)}function ib(t,e){return e===ye.falseFunc||t===ye.trueFunc?t:t===ye.falseFunc||e===ye.trueFunc?e:function(i){return t(i)||e(i)}}const bp=(t,e)=>t===e,nb={adapter:sl,equals:bp};function sb(t){var e,r,i,n;const s=t??nb;return(e=s.adapter)!==null&&e!==void 0||(s.adapter=sl),(r=s.equals)!==null&&r!==void 0||(s.equals=(n=(i=s.adapter)===null||i===void 0?void 0:i.equals)!==null&&n!==void 0?n:bp),s}function ab(t){return function(r,i,n){const s=sb(i);return t(r,s,n)}}const oc=ab(gp);function Tp(t,e,r=!1){return r&&(t=ob(t,e)),Array.isArray(t)?e.removeSubsets(t):e.getChildren(t)}function ob(t,e){const r=Array.isArray(t)?t.slice(0):[t],i=r.length;for(let n=0;n<i;n++){const s=mp(r[n],e);r.push(...s)}return r}const lb=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function fo(t){return t.type!=="pseudo"?!1:lb.has(t.name)?!0:t.name==="not"&&Array.isArray(t.data)?t.data.some(e=>e.some(fo)):!1}function ub(t,e,r){const i=e!=null?parseInt(e,10):NaN;switch(t){case"first":return 1;case"nth":case"eq":return isFinite(i)?i>=0?i+1:1/0:0;case"lt":return isFinite(i)?i>=0?Math.min(i,r):1/0:0;case"gt":return isFinite(i)?1/0:0;case"odd":return 2*r;case"even":return 2*r-1;case"last":case"not":return 1/0}}function cb(t){for(;t.parent;)t=t.parent;return t}function lc(t){const e=[],r=[];for(const i of t)i.some(fo)?e.push(i):r.push(i);return[r,e]}const hb={type:ce.Universal,namespace:null},fb={type:ce.Pseudo,name:"scope",data:null};function vp(t,e,r={}){return Ep([t],e,r)}function Ep(t,e,r={}){if(typeof e=="function")return t.some(e);const[i,n]=lc(al(e));return i.length>0&&t.some(oc(i,r))||n.some(s=>xp(s,t,r).length>0)}function db(t,e,r,i){const n=typeof r=="string"?parseInt(r,10):NaN;switch(t){case"first":case"lt":return e;case"last":return e.length>0?[e[e.length-1]]:e;case"nth":case"eq":return isFinite(n)&&Math.abs(n)<e.length?[n<0?e[e.length+n]:e[n]]:[];case"gt":return isFinite(n)?e.slice(n+1):[];case"even":return e.filter((s,a)=>a%2===0);case"odd":return e.filter((s,a)=>a%2===1);case"not":{const s=new Set(Ap(r,e,i));return e.filter(a=>!s.has(a))}}}function yp(t,e,r={}){return Ap(al(t),e,r)}function Ap(t,e,r){if(e.length===0)return[];const[i,n]=lc(t);let s;if(i.length){const a=V0(e,i,r);if(n.length===0)return a;a.length&&(s=new Set(a))}for(let a=0;a<n.length&&(s==null?void 0:s.size)!==e.length;a++){const o=n[a];if((s?e.filter(c=>me(c)&&!s.has(c)):e).length===0)break;const u=xp(o,e,r);if(u.length)if(s)u.forEach(c=>s.add(c));else{if(a===n.length-1)return u;s=new Set(u)}}return typeof s<"u"?s.size===e.length?e:e.filter(a=>s.has(a)):[]}function xp(t,e,r){var i;if(t.some(ps)){const n=(i=r.root)!==null&&i!==void 0?i:cb(e[0]),s={...r,context:e,relativeSelector:!1};return t.push(fb),mo(n,t,s,!0,e.length)}return mo(e,t,r,!1,e.length)}function mb(t,e,r={},i=1/0){if(typeof t=="function")return Sp(e,t);const[n,s]=lc(al(t)),a=s.map(o=>mo(e,o,r,!0,i));return n.length&&a.push(q0(e,n,r,i)),a.length===0?[]:a.length===1?a[0]:Kn(a.reduce((o,l)=>[...o,...l]))}function mo(t,e,r,i,n){const s=e.findIndex(fo),a=e.slice(0,s),o=e[s],l=e.length-1===s?n:1/0,u=ub(o.name,o.data,l);if(u===0)return[];const h=(a.length===0&&!Array.isArray(t)?rl(t).filter(me):a.length===0?(Array.isArray(t)?t:[t]).filter(me):i||a.some(ps)?q0(t,[a],r,u):V0(t,[a],r)).slice(0,u);let m=db(o.name,h,o.data,r);if(m.length===0||e.length===s+1)return m;const p=e.slice(s+1),b=p.some(ps);if(b){if(ps(p[0])){const{type:A}=p[0];(A===ce.Sibling||A===ce.Adjacent)&&(m=Tp(m,sl,!0)),p.unshift(hb)}r={...r,relativeSelector:!1,rootFunc:A=>m.includes(A)}}else r.rootFunc&&r.rootFunc!==ye.trueFunc&&(r={...r,rootFunc:ye.trueFunc});return p.some(fo)?mo(m,p,r,!1,n):b?q0(m,[p],r,n):V0(m,[p],r)}function q0(t,e,r,i){const n=oc(e,r,t);return Sp(t,n,i)}function Sp(t,e,r=1/0){const i=Tp(t,sl,e.shouldTestNextSiblings);return nl(n=>me(n)&&e(n),i,!0,r)}function V0(t,e,r){const i=(Array.isArray(t)?t:[t]).filter(me);if(i.length===0)return i;const n=oc(e,r);return n===ye.trueFunc?i:i.filter(n)}const pb=/^\s*[~+]/;function gb(t){var e;if(!t)return this._make([]);const r=this.toArray();if(typeof t!="string"){const s=Vr(t)?t.toArray():[t];return this._make(s.filter(a=>r.some(o=>sp(o,a))))}const i=pb.test(t)?r:this.children().toArray(),n={context:r,root:(e=this._root)===null||e===void 0?void 0:e[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(mb(t,i,n))}function uc(t){return function(e,...r){return function(i){var n;let s=t(e,this);return i&&(s=fc(s,i,this.options.xmlMode,(n=this._root)===null||n===void 0?void 0:n[0])),this._make(this.length>1&&s.length>1?r.reduce((a,o)=>o(a),s):s)}}}const Xs=uc((t,e)=>{const r=[];for(let i=0;i<e.length;i++){const n=t(e[i]);r.push(n)}return new Array().concat(...r)}),cc=uc((t,e)=>{const r=[];for(let i=0;i<e.length;i++){const n=t(e[i]);n!==null&&r.push(n)}return r});function hc(t,...e){let r=null;const i=uc((n,s)=>{const a=[];return lt(s,o=>{for(let l;(l=n(o))&&!(r!=null&&r(l,a.length));o=l)a.push(l)}),a})(t,...e);return function(n,s){r=typeof n=="string"?o=>vp(o,n,this.options):n?Ks(n):null;const a=i.call(this,s);return r=null,a}}function jn(t){return Array.from(new Set(t))}const bb=cc(({parent:t})=>t&&!fn(t)?t:null,jn),Tb=Xs(t=>{const e=[];for(;t.parent&&!fn(t.parent);)e.push(t.parent),t=t.parent;return e},Kn,t=>t.reverse()),vb=hc(({parent:t})=>t&&!fn(t)?t:null,Kn,t=>t.reverse());function Eb(t){var e;const r=[];if(!t)return this._make(r);const i={xmlMode:this.options.xmlMode,root:(e=this._root)===null||e===void 0?void 0:e[0]},n=typeof t=="string"?s=>vp(s,t,i):Ks(t);return lt(this,s=>{for(;s&&me(s);){if(n(s,0)){r.includes(s)||r.push(s);break}s=s.parent}}),this._make(r)}const yb=cc(t=>rc(t)),Ab=Xs(t=>{const e=[];for(;t.next;)t=t.next,me(t)&&e.push(t);return e},jn),xb=hc(t=>rc(t),jn),Sb=cc(t=>ic(t)),wb=Xs(t=>{const e=[];for(;t.prev;)t=t.prev,me(t)&&e.push(t);return e},jn),Cb=hc(t=>ic(t),jn),kb=Xs(t=>Jm(t).filter(e=>me(e)&&e!==t),Kn),_b=Xs(t=>rl(t).filter(me),jn);function Ob(){const t=this.toArray().reduce((e,r)=>_t(r)?e.concat(r.children):e,[]);return this._make(t)}function Nb(t){let e=0;const r=this.length;for(;e<r&&t.call(this[e],e,this[e])!==!1;)++e;return this}function Ib(t){let e=[];for(let r=0;r<this.length;r++){const i=this[r],n=t.call(i,r,i);n!=null&&(e=e.concat(n))}return this._make(e)}function Ks(t){return typeof t=="function"?(e,r)=>t.call(e,r,e):Vr(t)?e=>Array.prototype.includes.call(t,e):function(e){return t===e}}function Mb(t){var e;return this._make(fc(this.toArray(),t,this.options.xmlMode,(e=this._root)===null||e===void 0?void 0:e[0]))}function fc(t,e,r,i){return typeof e=="string"?yp(e,t,{xmlMode:r,root:i}):t.filter(Ks(e))}function Db(t){const e=this.toArray();return typeof t=="string"?Ep(e.filter(me),t,this.options):t?e.some(Ks(t)):!1}function Rb(t){let e=this.toArray();if(typeof t=="string"){const r=new Set(yp(t,e,this.options));e=e.filter(i=>!r.has(i))}else{const r=Ks(t);e=e.filter((i,n)=>!r(i,n))}return this._make(e)}function Lb(t){return this.filter(typeof t=="string"?`:has(${t})`:(e,r)=>this._make(r).find(t).length>0)}function Pb(){return this.length>1?this._make(this[0]):this}function Bb(){return this.length>0?this._make(this[this.length-1]):this}function Fb(t){var e;return t=+t,t===0&&this.length<=1?this:(t<0&&(t=this.length+t),this._make((e=this[t])!==null&&e!==void 0?e:[]))}function Hb(t){return t==null?this.toArray():this[t<0?this.length+t:t]}function Ub(){return Array.prototype.slice.call(this)}function zb(t){let e,r;return t==null?(e=this.parent().children(),r=this[0]):typeof t=="string"?(e=this._make(t),r=this[0]):(e=this,r=Vr(t)?t[0]:t),Array.prototype.indexOf.call(e,r)}function $b(t,e){return this._make(Array.prototype.slice.call(this,t,e))}function qb(){var t;return(t=this.prevObject)!==null&&t!==void 0?t:this._make([])}function Vb(t,e){const r=this._make(t,e),i=Kn([...this.get(),...r.get()]);return this._make(i)}function Wb(t){return this.prevObject?this.add(t?this.prevObject.filter(t):this.prevObject):this}const Yb=Object.freeze(Object.defineProperty({__proto__:null,add:Vb,addBack:Wb,children:_b,closest:Eb,contents:Ob,each:Nb,end:qb,eq:Fb,filter:Mb,filterArray:fc,find:gb,first:Pb,get:Hb,has:Lb,index:zb,is:Db,last:Bb,map:Ib,next:yb,nextAll:Ab,nextUntil:xb,not:Rb,parent:bb,parents:Tb,parentsUntil:vb,prev:Sb,prevAll:wb,prevUntil:Cb,siblings:kb,slice:$b,toArray:Ub},Symbol.toStringTag,{value:"Module"}));function Gb(t){return function(r,i,n,s){if(typeof Buffer<"u"&&Buffer.isBuffer(r)&&(r=r.toString()),typeof r=="string")return t(r,i,n,s);const a=r;if(!Array.isArray(a)&&fn(a))return a;const o=new on([]);return ln(a,o),o}}function ln(t,e){const r=Array.isArray(t)?t:[t];e?e.children=r:e=null;for(let i=0;i<r.length;i++){const n=r[i];n.parent&&n.parent.children!==r&&dn(n),e?(n.prev=r[i-1]||null,n.next=r[i+1]||null):n.prev=n.next=null,n.parent=e}return e}function Xb(t,e){return t==null?[]:Vr(t)?e?H0(t.get()):t.get():Array.isArray(t)?t.reduce((r,i)=>r.concat(this._makeDomArray(i,e)),[]):typeof t=="string"?this._parse(t,this.options,!1,null).children:e?H0([t]):[t]}function wp(t){return function(...e){const r=this.length-1;return lt(this,(i,n)=>{if(!_t(i))return;const s=typeof e[0]=="function"?e[0].call(i,n,this._render(i.children)):e,a=this._makeDomArray(s,n<r);t(a,i.children,i)})}}function Vi(t,e,r,i,n){var s,a;const o=[e,r,...i],l=e===0?null:t[e-1],u=e+r>=t.length?null:t[e+r];for(let c=0;c<i.length;++c){const h=i[c],m=h.parent;if(m){const b=m.children.indexOf(h);b>-1&&(m.children.splice(b,1),n===m&&e>b&&o[0]--)}h.parent=n,h.prev&&(h.prev.next=(s=h.next)!==null&&s!==void 0?s:null),h.next&&(h.next.prev=(a=h.prev)!==null&&a!==void 0?a:null),h.prev=c===0?l:i[c-1],h.next=c===i.length-1?u:i[c+1]}return l&&(l.next=i[0]),u&&(u.prev=i[i.length-1]),t.splice(...o)}function Kb(t){return(Vr(t)?t:this._make(t)).append(this),this}function jb(t){return(Vr(t)?t:this._make(t)).prepend(this),this}const Qb=wp((t,e,r)=>{Vi(e,e.length,0,t,r)}),Jb=wp((t,e,r)=>{Vi(e,0,0,t,r)});function Cp(t){return function(e){const r=this.length-1,i=this.parents().last();for(let n=0;n<this.length;n++){const s=this[n],a=typeof e=="function"?e.call(s,n,s):typeof e=="string"&&!U0(e)?i.find(e).clone():e,[o]=this._makeDomArray(a,n<r);if(!o||!_t(o))continue;let l=o,u=0;for(;u<l.children.length;){const c=l.children[u];me(c)?(l=c,u=0):u++}t(s,l,[o])}return this}}const Zb=Cp((t,e,r)=>{const{parent:i}=t;if(!i)return;const n=i.children,s=n.indexOf(t);ln([t],e),Vi(n,s,0,r,i)}),e8=Cp((t,e,r)=>{_t(t)&&(ln(t.children,e),ln(r,t))});function t8(t){return this.parent(t).not("body").each((e,r)=>{this._make(r).replaceWith(r.children)}),this}function r8(t){const e=this[0];if(e){const r=this._make(typeof t=="function"?t.call(e,0,e):t).insertBefore(e);let i;for(let s=0;s<r.length;s++)r[s].type==="tag"&&(i=r[s]);let n=0;for(;i&&n<i.children.length;){const s=i.children[n];s.type==="tag"?(i=s,n=0):n++}i&&this._make(i).append(this)}return this}function i8(...t){const e=this.length-1;return lt(this,(r,i)=>{const{parent:n}=r;if(!_t(r)||!n)return;const s=n.children,a=s.indexOf(r);if(a<0)return;const o=typeof t[0]=="function"?t[0].call(r,i,this._render(r.children)):t,l=this._makeDomArray(o,i<e);Vi(s,a+1,0,l,n)})}function n8(t){typeof t=="string"&&(t=this._make(t)),this.remove();const e=[];return this._makeDomArray(t).forEach(r=>{const i=this.clone().toArray(),{parent:n}=r;if(!n)return;const s=n.children,a=s.indexOf(r);a<0||(Vi(s,a+1,0,i,n),e.push(...i))}),this._make(e)}function s8(...t){const e=this.length-1;return lt(this,(r,i)=>{const{parent:n}=r;if(!_t(r)||!n)return;const s=n.children,a=s.indexOf(r);if(a<0)return;const o=typeof t[0]=="function"?t[0].call(r,i,this._render(r.children)):t,l=this._makeDomArray(o,i<e);Vi(s,a,0,l,n)})}function a8(t){const e=this._make(t);this.remove();const r=[];return lt(e,i=>{const n=this.clone().toArray(),{parent:s}=i;if(!s)return;const a=s.children,o=a.indexOf(i);o<0||(Vi(a,o,0,n,s),r.push(...n))}),this._make(r)}function o8(t){const e=t?this.filter(t):this;return lt(e,r=>{dn(r),r.prev=r.next=r.parent=null}),this}function l8(t){return lt(this,(e,r)=>{const{parent:i}=e;if(!i)return;const n=i.children,s=typeof t=="function"?t.call(e,r,e):t,a=this._makeDomArray(s);ln(a,null);const o=n.indexOf(e);Vi(n,o,1,a,i),a.includes(e)||(e.parent=e.prev=e.next=null)})}function u8(){return lt(this,t=>{_t(t)&&(t.children.forEach(e=>{e.next=e.prev=e.parent=null}),t.children.length=0)})}function c8(t){if(t===void 0){const e=this[0];return!e||!_t(e)?null:this._render(e.children)}return lt(this,e=>{if(!_t(e))return;e.children.forEach(i=>{i.next=i.prev=i.parent=null});const r=Vr(t)?t.toArray():this._parse(`${t}`,this.options,!1,e).children;ln(r,e)})}function h8(){return this._render(this)}function f8(t){return t===void 0?Is(this):typeof t=="function"?lt(this,(e,r)=>this._make(e).text(t.call(e,r,Is([e])))):lt(this,e=>{if(!_t(e))return;e.children.forEach(i=>{i.next=i.prev=i.parent=null});const r=new Ns(`${t}`);ln(r,e)})}function d8(){return this._make(H0(this.get()))}const m8=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:Xb,after:i8,append:Qb,appendTo:Kb,before:s8,clone:d8,empty:u8,html:c8,insertAfter:n8,insertBefore:a8,prepend:Jb,prependTo:jb,remove:o8,replaceWith:l8,text:f8,toString:h8,unwrap:t8,wrap:Zb,wrapAll:r8,wrapInner:e8},Symbol.toStringTag,{value:"Module"}));function p8(t,e){if(t!=null&&e!=null||typeof t=="object"&&!Array.isArray(t))return lt(this,(r,i)=>{me(r)&&kp(r,t,e,i)});if(this.length!==0)return _p(this[0],t)}function kp(t,e,r,i){if(typeof e=="string"){const n=_p(t),s=typeof r=="function"?r.call(t,i,n[e]):r;s===""?delete n[e]:s!=null&&(n[e]=s),t.attribs.style=g8(n)}else typeof e=="object"&&Object.keys(e).forEach((n,s)=>{kp(t,n,e[n],s)})}function _p(t,e){if(!t||!me(t))return;const r=b8(t.attribs.style);if(typeof e=="string")return r[e];if(Array.isArray(e)){const i={};return e.forEach(n=>{r[n]!=null&&(i[n]=r[n])}),i}return r}function g8(t){return Object.keys(t).reduce((e,r)=>`${e}${e?" ":""}${r}: ${t[r]};`,"")}function b8(t){if(t=(t||"").trim(),!t)return{};const e={};let r;for(const i of t.split(";")){const n=i.indexOf(":");if(n<1||n===i.length-1){const s=i.trimEnd();s.length>0&&r!==void 0&&(e[r]+=`;${s}`)}else r=i.slice(0,n).trim(),e[r]=i.slice(n+1).trim()}return e}const T8=Object.freeze(Object.defineProperty({__proto__:null,css:p8},Symbol.toStringTag,{value:"Module"})),$h="input,select,textarea,keygen",v8=/%20/g,qh=/\r?\n/g;function E8(){return this.serializeArray().map(r=>`${encodeURIComponent(r.name)}=${encodeURIComponent(r.value)}`).join("&").replace(v8,"+")}function y8(){return this.map((t,e)=>{const r=this._make(e);return me(e)&&e.name==="form"?r.find($h).toArray():r.filter($h).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((t,e)=>{var r;const i=this._make(e),n=i.attr("name"),s=(r=i.val())!==null&&r!==void 0?r:"";return Array.isArray(s)?s.map(a=>({name:n,value:a.replace(qh,`\r
`)})):{name:n,value:s.replace(qh,`\r
`)}}).toArray()}const A8=Object.freeze(Object.defineProperty({__proto__:null,serialize:E8,serializeArray:y8},Symbol.toStringTag,{value:"Module"}));class js{constructor(e,r,i){if(this.length=0,this.options=i,this._root=r,e){for(let n=0;n<e.length;n++)this[n]=e[n];this.length=e.length}}}js.prototype.cheerio="[cheerio object]";js.prototype.splice=Array.prototype.splice;js.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(js.prototype,D5,Yb,m8,T8,A8);function x8(t,e){return function r(i,n,s=!0){if(i==null)throw new Error("cheerio.load() expects a string");const a={...ju,...B0(n)},o=t(i,a,s,null);class l extends js{_make(h,m){const p=u(h,m);return p.prevObject=this,p}_parse(h,m,p,b){return t(h,m,p,b)}_render(h){return e(h,this.options)}}function u(c,h,m=o,p){if(c&&Vr(c))return c;const b={...a,...B0(p)},A=typeof m=="string"?[t(m,b,!1,null)]:"length"in m?m:[m],x=Vr(A)?A:new l(A,null,b);if(x._root=x,!c)return new l(void 0,x,b);const S=typeof c=="string"&&U0(c)?t(c,b,!1,null).children:S8(c)?[c]:Array.isArray(c)?c:void 0,R=new l(S,x,b);if(S)return R;if(typeof c!="string")throw new Error("Unexpected type of selector");let I=c;const P=h?typeof h=="string"?U0(h)?new l([t(h,b,!1,null)],x,b):(I=`${h} ${I}`,x):Vr(h)?h:new l(Array.isArray(h)?h:[h],x,b):x;return P?P.find(I):R}return Object.assign(u,x5,{load:r,_root:o,_options:a,fn:l.prototype,prototype:l.prototype}),u}}function S8(t){return!!t.name||t.type==="root"||t.type==="text"||t.type==="comment"}const w8=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Ze="�";var E;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.NUMBER_SIGN=35]="NUMBER_SIGN",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",t[t.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_F=102]="LATIN_SMALL_F",t[t.LATIN_SMALL_X=120]="LATIN_SMALL_X",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",t[t.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(E=E||(E={}));const Gt={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Op(t){return t>=55296&&t<=57343}function C8(t){return t>=56320&&t<=57343}function k8(t,e){return(t-55296)*1024+9216+e}function Np(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function Ip(t){return t>=64976&&t<=65007||w8.has(t)}var F;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(F=F||(F={}));const _8=1<<16;class O8{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=_8,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){const{line:r,col:i,offset:n}=this;return{code:e,startLine:r,endLine:r,startCol:i,endCol:i,startOffset:n,endOffset:n}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(C8(r))return this.pos++,this._addGap(),k8(e,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,E.EOF;return this._err(F.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,r){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,r){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(e,this.pos);for(let i=0;i<e.length;i++)if((this.html.charCodeAt(this.pos+i)|32)!==e.charCodeAt(i))return!1;return!0}peek(e){const r=this.pos+e;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,E.EOF;const i=this.html.charCodeAt(r);return i===E.CARRIAGE_RETURN?E.LINE_FEED:i}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,E.EOF;let e=this.html.charCodeAt(this.pos);return e===E.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,E.LINE_FEED):e===E.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Op(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===E.LINE_FEED||e===E.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){Np(e)?this._err(F.controlCharacterInInputStream):Ip(e)&&this._err(F.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ne;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(Ne=Ne||(Ne={}));function Mp(t,e){for(let r=t.attrs.length-1;r>=0;r--)if(t.attrs[r].name===e)return t.attrs[r].value;return null}var U;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(U=U||(U={}));var Ii;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Ii=Ii||(Ii={}));var Jt;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Jt=Jt||(Jt={}));var D;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(D=D||(D={}));var f;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SECTION=94]="SECTION",t[t.SELECT=95]="SELECT",t[t.SOURCE=96]="SOURCE",t[t.SMALL=97]="SMALL",t[t.SPAN=98]="SPAN",t[t.STRIKE=99]="STRIKE",t[t.STRONG=100]="STRONG",t[t.STYLE=101]="STYLE",t[t.SUB=102]="SUB",t[t.SUMMARY=103]="SUMMARY",t[t.SUP=104]="SUP",t[t.TABLE=105]="TABLE",t[t.TBODY=106]="TBODY",t[t.TEMPLATE=107]="TEMPLATE",t[t.TEXTAREA=108]="TEXTAREA",t[t.TFOOT=109]="TFOOT",t[t.TD=110]="TD",t[t.TH=111]="TH",t[t.THEAD=112]="THEAD",t[t.TITLE=113]="TITLE",t[t.TR=114]="TR",t[t.TRACK=115]="TRACK",t[t.TT=116]="TT",t[t.U=117]="U",t[t.UL=118]="UL",t[t.SVG=119]="SVG",t[t.VAR=120]="VAR",t[t.WBR=121]="WBR",t[t.XMP=122]="XMP"})(f=f||(f={}));const N8=new Map([[D.A,f.A],[D.ADDRESS,f.ADDRESS],[D.ANNOTATION_XML,f.ANNOTATION_XML],[D.APPLET,f.APPLET],[D.AREA,f.AREA],[D.ARTICLE,f.ARTICLE],[D.ASIDE,f.ASIDE],[D.B,f.B],[D.BASE,f.BASE],[D.BASEFONT,f.BASEFONT],[D.BGSOUND,f.BGSOUND],[D.BIG,f.BIG],[D.BLOCKQUOTE,f.BLOCKQUOTE],[D.BODY,f.BODY],[D.BR,f.BR],[D.BUTTON,f.BUTTON],[D.CAPTION,f.CAPTION],[D.CENTER,f.CENTER],[D.CODE,f.CODE],[D.COL,f.COL],[D.COLGROUP,f.COLGROUP],[D.DD,f.DD],[D.DESC,f.DESC],[D.DETAILS,f.DETAILS],[D.DIALOG,f.DIALOG],[D.DIR,f.DIR],[D.DIV,f.DIV],[D.DL,f.DL],[D.DT,f.DT],[D.EM,f.EM],[D.EMBED,f.EMBED],[D.FIELDSET,f.FIELDSET],[D.FIGCAPTION,f.FIGCAPTION],[D.FIGURE,f.FIGURE],[D.FONT,f.FONT],[D.FOOTER,f.FOOTER],[D.FOREIGN_OBJECT,f.FOREIGN_OBJECT],[D.FORM,f.FORM],[D.FRAME,f.FRAME],[D.FRAMESET,f.FRAMESET],[D.H1,f.H1],[D.H2,f.H2],[D.H3,f.H3],[D.H4,f.H4],[D.H5,f.H5],[D.H6,f.H6],[D.HEAD,f.HEAD],[D.HEADER,f.HEADER],[D.HGROUP,f.HGROUP],[D.HR,f.HR],[D.HTML,f.HTML],[D.I,f.I],[D.IMG,f.IMG],[D.IMAGE,f.IMAGE],[D.INPUT,f.INPUT],[D.IFRAME,f.IFRAME],[D.KEYGEN,f.KEYGEN],[D.LABEL,f.LABEL],[D.LI,f.LI],[D.LINK,f.LINK],[D.LISTING,f.LISTING],[D.MAIN,f.MAIN],[D.MALIGNMARK,f.MALIGNMARK],[D.MARQUEE,f.MARQUEE],[D.MATH,f.MATH],[D.MENU,f.MENU],[D.META,f.META],[D.MGLYPH,f.MGLYPH],[D.MI,f.MI],[D.MO,f.MO],[D.MN,f.MN],[D.MS,f.MS],[D.MTEXT,f.MTEXT],[D.NAV,f.NAV],[D.NOBR,f.NOBR],[D.NOFRAMES,f.NOFRAMES],[D.NOEMBED,f.NOEMBED],[D.NOSCRIPT,f.NOSCRIPT],[D.OBJECT,f.OBJECT],[D.OL,f.OL],[D.OPTGROUP,f.OPTGROUP],[D.OPTION,f.OPTION],[D.P,f.P],[D.PARAM,f.PARAM],[D.PLAINTEXT,f.PLAINTEXT],[D.PRE,f.PRE],[D.RB,f.RB],[D.RP,f.RP],[D.RT,f.RT],[D.RTC,f.RTC],[D.RUBY,f.RUBY],[D.S,f.S],[D.SCRIPT,f.SCRIPT],[D.SECTION,f.SECTION],[D.SELECT,f.SELECT],[D.SOURCE,f.SOURCE],[D.SMALL,f.SMALL],[D.SPAN,f.SPAN],[D.STRIKE,f.STRIKE],[D.STRONG,f.STRONG],[D.STYLE,f.STYLE],[D.SUB,f.SUB],[D.SUMMARY,f.SUMMARY],[D.SUP,f.SUP],[D.TABLE,f.TABLE],[D.TBODY,f.TBODY],[D.TEMPLATE,f.TEMPLATE],[D.TEXTAREA,f.TEXTAREA],[D.TFOOT,f.TFOOT],[D.TD,f.TD],[D.TH,f.TH],[D.THEAD,f.THEAD],[D.TITLE,f.TITLE],[D.TR,f.TR],[D.TRACK,f.TRACK],[D.TT,f.TT],[D.U,f.U],[D.UL,f.UL],[D.SVG,f.SVG],[D.VAR,f.VAR],[D.WBR,f.WBR],[D.XMP,f.XMP]]);function ol(t){var e;return(e=N8.get(t))!==null&&e!==void 0?e:f.UNKNOWN}const X=f,I8={[U.HTML]:new Set([X.ADDRESS,X.APPLET,X.AREA,X.ARTICLE,X.ASIDE,X.BASE,X.BASEFONT,X.BGSOUND,X.BLOCKQUOTE,X.BODY,X.BR,X.BUTTON,X.CAPTION,X.CENTER,X.COL,X.COLGROUP,X.DD,X.DETAILS,X.DIR,X.DIV,X.DL,X.DT,X.EMBED,X.FIELDSET,X.FIGCAPTION,X.FIGURE,X.FOOTER,X.FORM,X.FRAME,X.FRAMESET,X.H1,X.H2,X.H3,X.H4,X.H5,X.H6,X.HEAD,X.HEADER,X.HGROUP,X.HR,X.HTML,X.IFRAME,X.IMG,X.INPUT,X.LI,X.LINK,X.LISTING,X.MAIN,X.MARQUEE,X.MENU,X.META,X.NAV,X.NOEMBED,X.NOFRAMES,X.NOSCRIPT,X.OBJECT,X.OL,X.P,X.PARAM,X.PLAINTEXT,X.PRE,X.SCRIPT,X.SECTION,X.SELECT,X.SOURCE,X.STYLE,X.SUMMARY,X.TABLE,X.TBODY,X.TD,X.TEMPLATE,X.TEXTAREA,X.TFOOT,X.TH,X.THEAD,X.TITLE,X.TR,X.TRACK,X.UL,X.WBR,X.XMP]),[U.MATHML]:new Set([X.MI,X.MO,X.MN,X.MS,X.MTEXT,X.ANNOTATION_XML]),[U.SVG]:new Set([X.TITLE,X.FOREIGN_OBJECT,X.DESC]),[U.XLINK]:new Set,[U.XML]:new Set,[U.XMLNS]:new Set};function Dp(t){return t===X.H1||t===X.H2||t===X.H3||t===X.H4||t===X.H5||t===X.H6}const M8=new Set([D.STYLE,D.SCRIPT,D.XMP,D.IFRAME,D.NOEMBED,D.NOFRAMES,D.PLAINTEXT]);function D8(t,e){return M8.has(t)||e&&t===D.NOSCRIPT}const R8=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var y;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",t[t.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",t[t.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",t[t.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",t[t.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",t[t.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(y||(y={}));const er={DATA:y.DATA,RCDATA:y.RCDATA,RAWTEXT:y.RAWTEXT,SCRIPT_DATA:y.SCRIPT_DATA,PLAINTEXT:y.PLAINTEXT,CDATA_SECTION:y.CDATA_SECTION};function gs(t){return t>=E.DIGIT_0&&t<=E.DIGIT_9}function us(t){return t>=E.LATIN_CAPITAL_A&&t<=E.LATIN_CAPITAL_Z}function L8(t){return t>=E.LATIN_SMALL_A&&t<=E.LATIN_SMALL_Z}function yi(t){return L8(t)||us(t)}function W0(t){return yi(t)||gs(t)}function Rp(t){return t>=E.LATIN_CAPITAL_A&&t<=E.LATIN_CAPITAL_F}function Lp(t){return t>=E.LATIN_SMALL_A&&t<=E.LATIN_SMALL_F}function P8(t){return gs(t)||Rp(t)||Lp(t)}function da(t){return t+32}function Pp(t){return t===E.SPACE||t===E.LINE_FEED||t===E.TABULATION||t===E.FORM_FEED}function B8(t){return t===E.EQUALS_SIGN||W0(t)}function Vh(t){return Pp(t)||t===E.SOLIDUS||t===E.GREATER_THAN_SIGN}let F8=class{constructor(e,r){this.options=e,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=y.DATA,this.returnState=y.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new O8(r),this.currentLocation=this.getCurrentLocation(-1)}_err(e){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(e))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,r,i){this.active=!0,this.preprocessor.write(e,r),this._runParsingLoop(),this.paused||i==null||i()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}_reconsumeInState(e,r){this.state=e,this._callState(r)}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let r=0;r<e;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,r){return this.preprocessor.startsWith(e,r)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ne.START_TAG,tagName:"",tagID:f.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ne.END_TAG,tagName:"",tagID:f.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Ne.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Ne.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,r){this.currentCharacterToken={type:e,chars:r,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,r;const i=this.currentToken;if(Mp(i,this.currentAttr.name)===null){if(i.attrs.push(this.currentAttr),i.location&&this.currentLocation){const n=(e=(r=i.location).attrs)!==null&&e!==void 0?e:r.attrs=Object.create(null);n[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(F.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=ol(e.tagName),e.type===Ne.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(F.endTagWithAttributes),e.selfClosing&&this._err(F.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Ne.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ne.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ne.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Ne.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==e)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=r;return}this._createCharacterToken(e,r)}_emitCodePoint(e){const r=Pp(e)?Ne.WHITESPACE_CHARACTER:e===E.NULL?Ne.NULL_CHARACTER:Ne.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Ne.CHARACTER,e)}_matchNamedCharacterReference(e){let r=null,i=0,n=!1;for(let s=0,a=Ei[0];s>=0&&(s=Wm(Ei,a,s+1,e),!(s<0));e=this._consume()){i+=1,a=Ei[s];const o=a&ai.VALUE_LENGTH;if(o){const l=(o>>14)-1;if(e!==E.SEMICOLON&&this._isCharacterReferenceInAttribute()&&B8(this.preprocessor.peek(1))?(r=[E.AMPERSAND],s+=l):(r=l===0?[Ei[s]&~ai.VALUE_LENGTH]:l===1?[Ei[++s]]:[Ei[++s],Ei[++s]],i=0,n=e!==E.SEMICOLON),l===0){this._consume();break}}}return this._unconsume(i),n&&!this.preprocessor.endOfChunkHit&&this._err(F.missingSemicolonAfterCharacterReference),this._unconsume(1),r}_isCharacterReferenceInAttribute(){return this.returnState===y.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===y.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===y.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case y.DATA:{this._stateData(e);break}case y.RCDATA:{this._stateRcdata(e);break}case y.RAWTEXT:{this._stateRawtext(e);break}case y.SCRIPT_DATA:{this._stateScriptData(e);break}case y.PLAINTEXT:{this._statePlaintext(e);break}case y.TAG_OPEN:{this._stateTagOpen(e);break}case y.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case y.TAG_NAME:{this._stateTagName(e);break}case y.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case y.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case y.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case y.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case y.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case y.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case y.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case y.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case y.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case y.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case y.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case y.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case y.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case y.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case y.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case y.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case y.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case y.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case y.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case y.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case y.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case y.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case y.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case y.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case y.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case y.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case y.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case y.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case y.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case y.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case y.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case y.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case y.BOGUS_COMMENT:{this._stateBogusComment(e);break}case y.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case y.COMMENT_START:{this._stateCommentStart(e);break}case y.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case y.COMMENT:{this._stateComment(e);break}case y.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case y.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case y.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case y.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case y.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case y.COMMENT_END:{this._stateCommentEnd(e);break}case y.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case y.DOCTYPE:{this._stateDoctype(e);break}case y.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case y.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case y.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case y.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case y.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case y.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case y.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case y.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case y.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case y.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case y.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case y.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case y.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case y.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case y.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case y.CDATA_SECTION:{this._stateCdataSection(e);break}case y.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case y.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case y.CHARACTER_REFERENCE:{this._stateCharacterReference(e);break}case y.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(e);break}case y.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}case y.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(e);break}case y.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(e);break}case y.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(e);break}case y.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(e);break}case y.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case E.LESS_THAN_SIGN:{this.state=y.TAG_OPEN;break}case E.AMPERSAND:{this.returnState=y.DATA,this.state=y.CHARACTER_REFERENCE;break}case E.NULL:{this._err(F.unexpectedNullCharacter),this._emitCodePoint(e);break}case E.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case E.AMPERSAND:{this.returnState=y.RCDATA,this.state=y.CHARACTER_REFERENCE;break}case E.LESS_THAN_SIGN:{this.state=y.RCDATA_LESS_THAN_SIGN;break}case E.NULL:{this._err(F.unexpectedNullCharacter),this._emitChars(Ze);break}case E.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case E.LESS_THAN_SIGN:{this.state=y.RAWTEXT_LESS_THAN_SIGN;break}case E.NULL:{this._err(F.unexpectedNullCharacter),this._emitChars(Ze);break}case E.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case E.LESS_THAN_SIGN:{this.state=y.SCRIPT_DATA_LESS_THAN_SIGN;break}case E.NULL:{this._err(F.unexpectedNullCharacter),this._emitChars(Ze);break}case E.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case E.NULL:{this._err(F.unexpectedNullCharacter),this._emitChars(Ze);break}case E.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(yi(e))this._createStartTagToken(),this.state=y.TAG_NAME,this._stateTagName(e);else switch(e){case E.EXCLAMATION_MARK:{this.state=y.MARKUP_DECLARATION_OPEN;break}case E.SOLIDUS:{this.state=y.END_TAG_OPEN;break}case E.QUESTION_MARK:{this._err(F.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=y.BOGUS_COMMENT,this._stateBogusComment(e);break}case E.EOF:{this._err(F.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(F.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=y.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(yi(e))this._createEndTagToken(),this.state=y.TAG_NAME,this._stateTagName(e);else switch(e){case E.GREATER_THAN_SIGN:{this._err(F.missingEndTagName),this.state=y.DATA;break}case E.EOF:{this._err(F.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(F.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=y.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const r=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this.state=y.BEFORE_ATTRIBUTE_NAME;break}case E.SOLIDUS:{this.state=y.SELF_CLOSING_START_TAG;break}case E.GREATER_THAN_SIGN:{this.state=y.DATA,this.emitCurrentTagToken();break}case E.NULL:{this._err(F.unexpectedNullCharacter),r.tagName+=Ze;break}case E.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(us(e)?da(e):e)}}_stateRcdataLessThanSign(e){e===E.SOLIDUS?this.state=y.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=y.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){yi(e)?(this.state=y.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=y.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=y.BEFORE_ATTRIBUTE_NAME,!1;case E.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=y.SELF_CLOSING_START_TAG,!1;case E.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=y.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=y.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===E.SOLIDUS?this.state=y.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=y.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){yi(e)?(this.state=y.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=y.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=y.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case E.SOLIDUS:{this.state=y.SCRIPT_DATA_END_TAG_OPEN;break}case E.EXCLAMATION_MARK:{this.state=y.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=y.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){yi(e)?(this.state=y.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=y.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=y.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===E.HYPHEN_MINUS?(this.state=y.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=y.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===E.HYPHEN_MINUS?(this.state=y.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=y.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case E.HYPHEN_MINUS:{this.state=y.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case E.LESS_THAN_SIGN:{this.state=y.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case E.NULL:{this._err(F.unexpectedNullCharacter),this._emitChars(Ze);break}case E.EOF:{this._err(F.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case E.HYPHEN_MINUS:{this.state=y.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case E.LESS_THAN_SIGN:{this.state=y.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case E.NULL:{this._err(F.unexpectedNullCharacter),this.state=y.SCRIPT_DATA_ESCAPED,this._emitChars(Ze);break}case E.EOF:{this._err(F.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=y.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case E.HYPHEN_MINUS:{this._emitChars("-");break}case E.LESS_THAN_SIGN:{this.state=y.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case E.GREATER_THAN_SIGN:{this.state=y.SCRIPT_DATA,this._emitChars(">");break}case E.NULL:{this._err(F.unexpectedNullCharacter),this.state=y.SCRIPT_DATA_ESCAPED,this._emitChars(Ze);break}case E.EOF:{this._err(F.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=y.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===E.SOLIDUS?this.state=y.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:yi(e)?(this._emitChars("<"),this.state=y.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=y.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){yi(e)?(this.state=y.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=y.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=y.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Gt.SCRIPT,!1)&&Vh(this.preprocessor.peek(Gt.SCRIPT.length))){this._emitCodePoint(e);for(let r=0;r<Gt.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=y.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=y.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case E.HYPHEN_MINUS:{this.state=y.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case E.LESS_THAN_SIGN:{this.state=y.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case E.NULL:{this._err(F.unexpectedNullCharacter),this._emitChars(Ze);break}case E.EOF:{this._err(F.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case E.HYPHEN_MINUS:{this.state=y.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case E.LESS_THAN_SIGN:{this.state=y.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case E.NULL:{this._err(F.unexpectedNullCharacter),this.state=y.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ze);break}case E.EOF:{this._err(F.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=y.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case E.HYPHEN_MINUS:{this._emitChars("-");break}case E.LESS_THAN_SIGN:{this.state=y.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case E.GREATER_THAN_SIGN:{this.state=y.SCRIPT_DATA,this._emitChars(">");break}case E.NULL:{this._err(F.unexpectedNullCharacter),this.state=y.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ze);break}case E.EOF:{this._err(F.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=y.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===E.SOLIDUS?(this.state=y.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=y.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Gt.SCRIPT,!1)&&Vh(this.preprocessor.peek(Gt.SCRIPT.length))){this._emitCodePoint(e);for(let r=0;r<Gt.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=y.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=y.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.SOLIDUS:case E.GREATER_THAN_SIGN:case E.EOF:{this.state=y.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case E.EQUALS_SIGN:{this._err(F.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=y.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=y.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:case E.SOLIDUS:case E.GREATER_THAN_SIGN:case E.EOF:{this._leaveAttrName(),this.state=y.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case E.EQUALS_SIGN:{this._leaveAttrName(),this.state=y.BEFORE_ATTRIBUTE_VALUE;break}case E.QUOTATION_MARK:case E.APOSTROPHE:case E.LESS_THAN_SIGN:{this._err(F.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case E.NULL:{this._err(F.unexpectedNullCharacter),this.currentAttr.name+=Ze;break}default:this.currentAttr.name+=String.fromCodePoint(us(e)?da(e):e)}}_stateAfterAttributeName(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.SOLIDUS:{this.state=y.SELF_CLOSING_START_TAG;break}case E.EQUALS_SIGN:{this.state=y.BEFORE_ATTRIBUTE_VALUE;break}case E.GREATER_THAN_SIGN:{this.state=y.DATA,this.emitCurrentTagToken();break}case E.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=y.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.QUOTATION_MARK:{this.state=y.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case E.APOSTROPHE:{this.state=y.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case E.GREATER_THAN_SIGN:{this._err(F.missingAttributeValue),this.state=y.DATA,this.emitCurrentTagToken();break}default:this.state=y.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case E.QUOTATION_MARK:{this.state=y.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case E.AMPERSAND:{this.returnState=y.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=y.CHARACTER_REFERENCE;break}case E.NULL:{this._err(F.unexpectedNullCharacter),this.currentAttr.value+=Ze;break}case E.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case E.APOSTROPHE:{this.state=y.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case E.AMPERSAND:{this.returnState=y.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=y.CHARACTER_REFERENCE;break}case E.NULL:{this._err(F.unexpectedNullCharacter),this.currentAttr.value+=Ze;break}case E.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this._leaveAttrValue(),this.state=y.BEFORE_ATTRIBUTE_NAME;break}case E.AMPERSAND:{this.returnState=y.ATTRIBUTE_VALUE_UNQUOTED,this.state=y.CHARACTER_REFERENCE;break}case E.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=y.DATA,this.emitCurrentTagToken();break}case E.NULL:{this._err(F.unexpectedNullCharacter),this.currentAttr.value+=Ze;break}case E.QUOTATION_MARK:case E.APOSTROPHE:case E.LESS_THAN_SIGN:case E.EQUALS_SIGN:case E.GRAVE_ACCENT:{this._err(F.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case E.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this._leaveAttrValue(),this.state=y.BEFORE_ATTRIBUTE_NAME;break}case E.SOLIDUS:{this._leaveAttrValue(),this.state=y.SELF_CLOSING_START_TAG;break}case E.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=y.DATA,this.emitCurrentTagToken();break}case E.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:this._err(F.missingWhitespaceBetweenAttributes),this.state=y.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case E.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=y.DATA,this.emitCurrentTagToken();break}case E.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:this._err(F.unexpectedSolidusInTag),this.state=y.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const r=this.currentToken;switch(e){case E.GREATER_THAN_SIGN:{this.state=y.DATA,this.emitCurrentComment(r);break}case E.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case E.NULL:{this._err(F.unexpectedNullCharacter),r.data+=Ze;break}default:r.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Gt.DASH_DASH,!0)?(this._createCommentToken(Gt.DASH_DASH.length+1),this.state=y.COMMENT_START):this._consumeSequenceIfMatch(Gt.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Gt.DOCTYPE.length+1),this.state=y.DOCTYPE):this._consumeSequenceIfMatch(Gt.CDATA_START,!0)?this.inForeignNode?this.state=y.CDATA_SECTION:(this._err(F.cdataInHtmlContent),this._createCommentToken(Gt.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=y.BOGUS_COMMENT):this._ensureHibernation()||(this._err(F.incorrectlyOpenedComment),this._createCommentToken(2),this.state=y.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case E.HYPHEN_MINUS:{this.state=y.COMMENT_START_DASH;break}case E.GREATER_THAN_SIGN:{this._err(F.abruptClosingOfEmptyComment),this.state=y.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=y.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const r=this.currentToken;switch(e){case E.HYPHEN_MINUS:{this.state=y.COMMENT_END;break}case E.GREATER_THAN_SIGN:{this._err(F.abruptClosingOfEmptyComment),this.state=y.DATA,this.emitCurrentComment(r);break}case E.EOF:{this._err(F.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=y.COMMENT,this._stateComment(e)}}_stateComment(e){const r=this.currentToken;switch(e){case E.HYPHEN_MINUS:{this.state=y.COMMENT_END_DASH;break}case E.LESS_THAN_SIGN:{r.data+="<",this.state=y.COMMENT_LESS_THAN_SIGN;break}case E.NULL:{this._err(F.unexpectedNullCharacter),r.data+=Ze;break}case E.EOF:{this._err(F.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const r=this.currentToken;switch(e){case E.EXCLAMATION_MARK:{r.data+="!",this.state=y.COMMENT_LESS_THAN_SIGN_BANG;break}case E.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=y.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===E.HYPHEN_MINUS?this.state=y.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=y.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===E.HYPHEN_MINUS?this.state=y.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=y.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==E.GREATER_THAN_SIGN&&e!==E.EOF&&this._err(F.nestedComment),this.state=y.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const r=this.currentToken;switch(e){case E.HYPHEN_MINUS:{this.state=y.COMMENT_END;break}case E.EOF:{this._err(F.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=y.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const r=this.currentToken;switch(e){case E.GREATER_THAN_SIGN:{this.state=y.DATA,this.emitCurrentComment(r);break}case E.EXCLAMATION_MARK:{this.state=y.COMMENT_END_BANG;break}case E.HYPHEN_MINUS:{r.data+="-";break}case E.EOF:{this._err(F.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=y.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const r=this.currentToken;switch(e){case E.HYPHEN_MINUS:{r.data+="--!",this.state=y.COMMENT_END_DASH;break}case E.GREATER_THAN_SIGN:{this._err(F.incorrectlyClosedComment),this.state=y.DATA,this.emitCurrentComment(r);break}case E.EOF:{this._err(F.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=y.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this.state=y.BEFORE_DOCTYPE_NAME;break}case E.GREATER_THAN_SIGN:{this.state=y.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case E.EOF:{this._err(F.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(F.missingWhitespaceBeforeDoctypeName),this.state=y.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(us(e))this._createDoctypeToken(String.fromCharCode(da(e))),this.state=y.DOCTYPE_NAME;else switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.NULL:{this._err(F.unexpectedNullCharacter),this._createDoctypeToken(Ze),this.state=y.DOCTYPE_NAME;break}case E.GREATER_THAN_SIGN:{this._err(F.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=y.DATA;break}case E.EOF:{this._err(F.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=y.DOCTYPE_NAME}}_stateDoctypeName(e){const r=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this.state=y.AFTER_DOCTYPE_NAME;break}case E.GREATER_THAN_SIGN:{this.state=y.DATA,this.emitCurrentDoctype(r);break}case E.NULL:{this._err(F.unexpectedNullCharacter),r.name+=Ze;break}case E.EOF:{this._err(F.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(us(e)?da(e):e)}}_stateAfterDoctypeName(e){const r=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.GREATER_THAN_SIGN:{this.state=y.DATA,this.emitCurrentDoctype(r);break}case E.EOF:{this._err(F.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Gt.PUBLIC,!1)?this.state=y.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Gt.SYSTEM,!1)?this.state=y.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(F.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=y.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const r=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this.state=y.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case E.QUOTATION_MARK:{this._err(F.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=y.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case E.APOSTROPHE:{this._err(F.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=y.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case E.GREATER_THAN_SIGN:{this._err(F.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=y.DATA,this.emitCurrentDoctype(r);break}case E.EOF:{this._err(F.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(F.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const r=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.QUOTATION_MARK:{r.publicId="",this.state=y.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case E.APOSTROPHE:{r.publicId="",this.state=y.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case E.GREATER_THAN_SIGN:{this._err(F.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=y.DATA,this.emitCurrentDoctype(r);break}case E.EOF:{this._err(F.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(F.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const r=this.currentToken;switch(e){case E.QUOTATION_MARK:{this.state=y.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case E.NULL:{this._err(F.unexpectedNullCharacter),r.publicId+=Ze;break}case E.GREATER_THAN_SIGN:{this._err(F.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=y.DATA;break}case E.EOF:{this._err(F.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const r=this.currentToken;switch(e){case E.APOSTROPHE:{this.state=y.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case E.NULL:{this._err(F.unexpectedNullCharacter),r.publicId+=Ze;break}case E.GREATER_THAN_SIGN:{this._err(F.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=y.DATA;break}case E.EOF:{this._err(F.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const r=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this.state=y.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case E.GREATER_THAN_SIGN:{this.state=y.DATA,this.emitCurrentDoctype(r);break}case E.QUOTATION_MARK:{this._err(F.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=y.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case E.APOSTROPHE:{this._err(F.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=y.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case E.EOF:{this._err(F.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(F.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const r=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=y.DATA;break}case E.QUOTATION_MARK:{r.systemId="",this.state=y.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case E.APOSTROPHE:{r.systemId="",this.state=y.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case E.EOF:{this._err(F.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(F.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const r=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this.state=y.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case E.QUOTATION_MARK:{this._err(F.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=y.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case E.APOSTROPHE:{this._err(F.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=y.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case E.GREATER_THAN_SIGN:{this._err(F.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=y.DATA,this.emitCurrentDoctype(r);break}case E.EOF:{this._err(F.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(F.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const r=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.QUOTATION_MARK:{r.systemId="",this.state=y.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case E.APOSTROPHE:{r.systemId="",this.state=y.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case E.GREATER_THAN_SIGN:{this._err(F.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=y.DATA,this.emitCurrentDoctype(r);break}case E.EOF:{this._err(F.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(F.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const r=this.currentToken;switch(e){case E.QUOTATION_MARK:{this.state=y.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case E.NULL:{this._err(F.unexpectedNullCharacter),r.systemId+=Ze;break}case E.GREATER_THAN_SIGN:{this._err(F.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=y.DATA;break}case E.EOF:{this._err(F.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const r=this.currentToken;switch(e){case E.APOSTROPHE:{this.state=y.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case E.NULL:{this._err(F.unexpectedNullCharacter),r.systemId+=Ze;break}case E.GREATER_THAN_SIGN:{this._err(F.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=y.DATA;break}case E.EOF:{this._err(F.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const r=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=y.DATA;break}case E.EOF:{this._err(F.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(F.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const r=this.currentToken;switch(e){case E.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=y.DATA;break}case E.NULL:{this._err(F.unexpectedNullCharacter);break}case E.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case E.RIGHT_SQUARE_BRACKET:{this.state=y.CDATA_SECTION_BRACKET;break}case E.EOF:{this._err(F.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===E.RIGHT_SQUARE_BRACKET?this.state=y.CDATA_SECTION_END:(this._emitChars("]"),this.state=y.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case E.GREATER_THAN_SIGN:{this.state=y.DATA;break}case E.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=y.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(e){e===E.NUMBER_SIGN?this.state=y.NUMERIC_CHARACTER_REFERENCE:W0(e)?(this.state=y.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(E.AMPERSAND),this._reconsumeInState(this.returnState,e))}_stateNamedCharacterReference(e){const r=this._matchNamedCharacterReference(e);if(!this._ensureHibernation())if(r){for(let i=0;i<r.length;i++)this._flushCodePointConsumedAsCharacterReference(r[i]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(E.AMPERSAND),this.state=y.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(e){W0(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===E.SEMICOLON&&this._err(F.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}_stateNumericCharacterReference(e){this.charRefCode=0,e===E.LATIN_SMALL_X||e===E.LATIN_CAPITAL_X?this.state=y.HEXADEMICAL_CHARACTER_REFERENCE_START:gs(e)?(this.state=y.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(F.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(E.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(E.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}_stateHexademicalCharacterReferenceStart(e){P8(e)?(this.state=y.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e)):(this._err(F.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(E.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(E.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(e){Rp(e)?this.charRefCode=this.charRefCode*16+e-55:Lp(e)?this.charRefCode=this.charRefCode*16+e-87:gs(e)?this.charRefCode=this.charRefCode*16+e-48:e===E.SEMICOLON?this.state=y.NUMERIC_CHARACTER_REFERENCE_END:(this._err(F.missingSemicolonAfterCharacterReference),this.state=y.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateDecimalCharacterReference(e){gs(e)?this.charRefCode=this.charRefCode*10+e-48:e===E.SEMICOLON?this.state=y.NUMERIC_CHARACTER_REFERENCE_END:(this._err(F.missingSemicolonAfterCharacterReference),this.state=y.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===E.NULL)this._err(F.nullCharacterReference),this.charRefCode=E.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(F.characterReferenceOutsideUnicodeRange),this.charRefCode=E.REPLACEMENT_CHARACTER;else if(Op(this.charRefCode))this._err(F.surrogateCharacterReference),this.charRefCode=E.REPLACEMENT_CHARACTER;else if(Ip(this.charRefCode))this._err(F.noncharacterCharacterReference);else if(Np(this.charRefCode)||this.charRefCode===E.CARRIAGE_RETURN){this._err(F.controlCharacterReference);const r=R8.get(this.charRefCode);r!==void 0&&(this.charRefCode=r)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}};const Bp=new Set([f.DD,f.DT,f.LI,f.OPTGROUP,f.OPTION,f.P,f.RB,f.RP,f.RT,f.RTC]),Wh=new Set([...Bp,f.CAPTION,f.COLGROUP,f.TBODY,f.TD,f.TFOOT,f.TH,f.THEAD,f.TR]),ma=new Map([[f.APPLET,U.HTML],[f.CAPTION,U.HTML],[f.HTML,U.HTML],[f.MARQUEE,U.HTML],[f.OBJECT,U.HTML],[f.TABLE,U.HTML],[f.TD,U.HTML],[f.TEMPLATE,U.HTML],[f.TH,U.HTML],[f.ANNOTATION_XML,U.MATHML],[f.MI,U.MATHML],[f.MN,U.MATHML],[f.MO,U.MATHML],[f.MS,U.MATHML],[f.MTEXT,U.MATHML],[f.DESC,U.SVG],[f.FOREIGN_OBJECT,U.SVG],[f.TITLE,U.SVG]]),H8=[f.H1,f.H2,f.H3,f.H4,f.H5,f.H6],U8=[f.TR,f.TEMPLATE,f.HTML],z8=[f.TBODY,f.TFOOT,f.THEAD,f.TEMPLATE,f.HTML],$8=[f.TABLE,f.TEMPLATE,f.HTML],q8=[f.TD,f.TH];class V8{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,r,i){this.treeAdapter=r,this.handler=i,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=f.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===f.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===U.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,r){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,r,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,r){const i=this._indexOf(e);this.items[i]=r,i===this.stackTop&&(this.current=r)}insertAfter(e,r,i){const n=this._indexOf(e)+1;this.items.splice(n,0,r),this.tagIDs.splice(n,0,i),this.stackTop++,n===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,n===this.stackTop)}popUntilTagNamePopped(e){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(e,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==U.HTML);this.shortenToLength(r<0?0:r)}shortenToLength(e){for(;this.stackTop>=e;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<e)}}popUntilElementPopped(e){const r=this._indexOf(e);this.shortenToLength(r<0?0:r)}popUntilPopped(e,r){const i=this._indexOfTagNames(e,r);this.shortenToLength(i<0?0:i)}popUntilNumberedHeaderPopped(){this.popUntilPopped(H8,U.HTML)}popUntilTableCellPopped(){this.popUntilPopped(q8,U.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,r){for(let i=this.stackTop;i>=0;i--)if(e.includes(this.tagIDs[i])&&this.treeAdapter.getNamespaceURI(this.items[i])===r)return i;return-1}clearBackTo(e,r){const i=this._indexOfTagNames(e,r);this.shortenToLength(i+1)}clearBackToTableContext(){this.clearBackTo($8,U.HTML)}clearBackToTableBodyContext(){this.clearBackTo(z8,U.HTML)}clearBackToTableRowContext(){this.clearBackTo(U8,U.HTML)}remove(e){const r=this._indexOf(e);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===f.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const r=this._indexOf(e)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===f.HTML}hasInScope(e){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r],n=this.treeAdapter.getNamespaceURI(this.items[r]);if(i===e&&n===U.HTML)return!0;if(ma.get(i)===n)return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const r=this.tagIDs[e],i=this.treeAdapter.getNamespaceURI(this.items[e]);if(Dp(r)&&i===U.HTML)return!0;if(ma.get(r)===i)return!1}return!0}hasInListItemScope(e){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r],n=this.treeAdapter.getNamespaceURI(this.items[r]);if(i===e&&n===U.HTML)return!0;if((i===f.UL||i===f.OL)&&n===U.HTML||ma.get(i)===n)return!1}return!0}hasInButtonScope(e){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r],n=this.treeAdapter.getNamespaceURI(this.items[r]);if(i===e&&n===U.HTML)return!0;if(i===f.BUTTON&&n===U.HTML||ma.get(i)===n)return!1}return!0}hasInTableScope(e){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];if(this.treeAdapter.getNamespaceURI(this.items[r])===U.HTML){if(i===e)return!0;if(i===f.TABLE||i===f.TEMPLATE||i===f.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const r=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===U.HTML){if(r===f.TBODY||r===f.THEAD||r===f.TFOOT)return!0;if(r===f.TABLE||r===f.HTML)return!1}}return!0}hasInSelectScope(e){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];if(this.treeAdapter.getNamespaceURI(this.items[r])===U.HTML){if(i===e)return!0;if(i!==f.OPTION&&i!==f.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;Bp.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Wh.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&Wh.has(this.currentTagId);)this.pop()}}const Yl=3;var _r;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(_r=_r||(_r={}));const Yh={type:_r.Marker};class W8{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,r){const i=[],n=r.length,s=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===_r.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===a){const c=this.treeAdapter.getAttrList(u);c.length===n&&i.push({idx:o,attrs:c})}}return i}_ensureNoahArkCondition(e){if(this.entries.length<Yl)return;const r=this.treeAdapter.getAttrList(e),i=this._getNoahArkConditionCandidates(e,r);if(i.length<Yl)return;const n=new Map(r.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<i.length;a++){const o=i[a];o.attrs.every(l=>n.get(l.name)===l.value)&&(s+=1,s>=Yl&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(Yh)}pushElement(e,r){this._ensureNoahArkCondition(e),this.entries.unshift({type:_r.Element,element:e,token:r})}insertElementAfterBookmark(e,r){const i=this.entries.indexOf(this.bookmark);this.entries.splice(i,0,{type:_r.Element,element:e,token:r})}removeEntry(e){const r=this.entries.indexOf(e);r>=0&&this.entries.splice(r,1)}clearToLastMarker(){const e=this.entries.indexOf(Yh);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const r=this.entries.find(i=>i.type===_r.Marker||this.treeAdapter.getTagName(i.element)===e);return r&&r.type===_r.Element?r:null}getElementEntry(e){return this.entries.find(r=>r.type===_r.Element&&r.element===e)}}function Gh(t){return{nodeName:"#text",value:t,parentNode:null}}const Ji={createDocument(){return{nodeName:"#document",mode:Jt.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,r){return{nodeName:t,tagName:t,attrs:r,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,r){const i=t.childNodes.indexOf(r);t.childNodes.splice(i,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,r,i){const n=t.childNodes.find(s=>s.nodeName==="#documentType");if(n)n.name=e,n.publicId=r,n.systemId=i;else{const s={nodeName:"#documentType",name:e,publicId:r,systemId:i,parentNode:null};Ji.appendChild(t,s)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const r=t.childNodes[t.childNodes.length-1];if(Ji.isTextNode(r)){r.value+=e;return}}Ji.appendChild(t,Gh(e))},insertTextBefore(t,e,r){const i=t.childNodes[t.childNodes.indexOf(r)-1];i&&Ji.isTextNode(i)?i.value+=e:Ji.insertBefore(t,Gh(e),r)},adoptAttributes(t,e){const r=new Set(t.attrs.map(i=>i.name));for(let i=0;i<e.length;i++)r.has(e[i].name)||t.attrs.push(e[i])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},Fp="html",Y8="about:legacy-compat",G8="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Hp=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],X8=[...Hp,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],K8=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Up=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],j8=[...Up,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Xh(t,e){return e.some(r=>t.startsWith(r))}function Q8(t){return t.name===Fp&&t.publicId===null&&(t.systemId===null||t.systemId===Y8)}function J8(t){if(t.name!==Fp)return Jt.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===G8)return Jt.QUIRKS;let{publicId:r}=t;if(r!==null){if(r=r.toLowerCase(),K8.has(r))return Jt.QUIRKS;let i=e===null?X8:Hp;if(Xh(r,i))return Jt.QUIRKS;if(i=e===null?Up:j8,Xh(r,i))return Jt.LIMITED_QUIRKS}return Jt.NO_QUIRKS}const Kh={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Z8="definitionurl",e7="definitionURL",t7=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),r7=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:U.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:U.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:U.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:U.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:U.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:U.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:U.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:U.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:U.XML}],["xml:space",{prefix:"xml",name:"space",namespace:U.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:U.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:U.XMLNS}]]),i7=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),n7=new Set([f.B,f.BIG,f.BLOCKQUOTE,f.BODY,f.BR,f.CENTER,f.CODE,f.DD,f.DIV,f.DL,f.DT,f.EM,f.EMBED,f.H1,f.H2,f.H3,f.H4,f.H5,f.H6,f.HEAD,f.HR,f.I,f.IMG,f.LI,f.LISTING,f.MENU,f.META,f.NOBR,f.OL,f.P,f.PRE,f.RUBY,f.S,f.SMALL,f.SPAN,f.STRONG,f.STRIKE,f.SUB,f.SUP,f.TABLE,f.TT,f.U,f.UL,f.VAR]);function s7(t){const e=t.tagID;return e===f.FONT&&t.attrs.some(({name:i})=>i===Ii.COLOR||i===Ii.SIZE||i===Ii.FACE)||n7.has(e)}function zp(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===Z8){t.attrs[e].name=e7;break}}function $p(t){for(let e=0;e<t.attrs.length;e++){const r=t7.get(t.attrs[e].name);r!=null&&(t.attrs[e].name=r)}}function dc(t){for(let e=0;e<t.attrs.length;e++){const r=r7.get(t.attrs[e].name);r&&(t.attrs[e].prefix=r.prefix,t.attrs[e].name=r.name,t.attrs[e].namespace=r.namespace)}}function a7(t){const e=i7.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=ol(t.tagName))}function o7(t,e){return e===U.MATHML&&(t===f.MI||t===f.MO||t===f.MN||t===f.MS||t===f.MTEXT)}function l7(t,e,r){if(e===U.MATHML&&t===f.ANNOTATION_XML){for(let i=0;i<r.length;i++)if(r[i].name===Ii.ENCODING){const n=r[i].value.toLowerCase();return n===Kh.TEXT_HTML||n===Kh.APPLICATION_XML}}return e===U.SVG&&(t===f.FOREIGN_OBJECT||t===f.DESC||t===f.TITLE)}function u7(t,e,r,i){return(!i||i===U.HTML)&&l7(t,e,r)||(!i||i===U.MATHML)&&o7(t,e)}const c7="hidden",h7=8,f7=3;var k;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(k||(k={}));const d7={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},qp=new Set([f.TABLE,f.TBODY,f.TFOOT,f.THEAD,f.TR]),jh={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ji,onParseError:null};let Vp=class{constructor(e,r,i=null,n=null){this.fragmentContext=i,this.scriptHandler=n,this.currentToken=null,this.stopped=!1,this.insertionMode=k.INITIAL,this.originalInsertionMode=k.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...jh,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new F8(this.options,this),this.activeFormattingElements=new W8(this.treeAdapter),this.fragmentContextID=i?ol(this.treeAdapter.getTagName(i)):f.UNKNOWN,this._setContextModes(i??this.document,this.fragmentContextID),this.openElements=new V8(this.document,this.treeAdapter,this)}static parse(e,r){const i=new this(r);return i.tokenizer.write(e,!0),i.document}static getFragmentParser(e,r){const i={...jh,...r};e??(e=i.treeAdapter.createElement(D.TEMPLATE,U.HTML,[]));const n=i.treeAdapter.createElement("documentmock",U.HTML,[]),s=new this(i,n,e);return s.fragmentContextID===f.TEMPLATE&&s.tmplInsertionModeStack.unshift(k.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,r),r}_err(e,r,i){var n;if(!this.onParseError)return;const s=(n=e.location)!==null&&n!==void 0?n:d7,a={code:r,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:i?s.startLine:s.endLine,endCol:i?s.startCol:s.endCol,endOffset:i?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(e,r,i){var n,s;(s=(n=this.treeAdapter).onItemPush)===null||s===void 0||s.call(n,e),i&&this.openElements.stackTop>0&&this._setContextModes(e,r)}onItemPop(e,r){var i,n;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(n=(i=this.treeAdapter).onItemPop)===null||n===void 0||n.call(i,e,this.openElements.current),r){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(e,r){const i=e===this.document||this.treeAdapter.getNamespaceURI(e)===U.HTML;this.currentNotInHTML=!i,this.tokenizer.inForeignNode=!i&&!this._isIntegrationPoint(r,e)}_switchToTextParsing(e,r){this._insertElement(e,U.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=k.TEXT}switchToPlaintextParsing(){this.insertionMode=k.TEXT,this.originalInsertionMode=k.IN_BODY,this.tokenizer.state=er.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===D.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==U.HTML))switch(this.fragmentContextID){case f.TITLE:case f.TEXTAREA:{this.tokenizer.state=er.RCDATA;break}case f.STYLE:case f.XMP:case f.IFRAME:case f.NOEMBED:case f.NOFRAMES:case f.NOSCRIPT:{this.tokenizer.state=er.RAWTEXT;break}case f.SCRIPT:{this.tokenizer.state=er.SCRIPT_DATA;break}case f.PLAINTEXT:{this.tokenizer.state=er.PLAINTEXT;break}}}_setDocumentType(e){const r=e.name||"",i=e.publicId||"",n=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,i,n),e.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}}_attachElementToTree(e,r){if(this.options.sourceCodeLocationInfo){const i=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(e,i)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const i=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(i,e)}}_appendElement(e,r){const i=this.treeAdapter.createElement(e.tagName,r,e.attrs);this._attachElementToTree(i,e.location)}_insertElement(e,r){const i=this.treeAdapter.createElement(e.tagName,r,e.attrs);this._attachElementToTree(i,e.location),this.openElements.push(i,e.tagID)}_insertFakeElement(e,r){const i=this.treeAdapter.createElement(e,U.HTML,[]);this._attachElementToTree(i,null),this.openElements.push(i,r)}_insertTemplate(e){const r=this.treeAdapter.createElement(e.tagName,U.HTML,e.attrs),i=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,i),this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(D.HTML,U.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,f.HTML)}_appendCommentNode(e,r){const i=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(r,i),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,e.location)}_insertCharacters(e){let r,i;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:i}=this._findFosterParentingLocation(),i?this.treeAdapter.insertTextBefore(r,e.chars,i):this.treeAdapter.insertText(r,e.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,e.chars)),!e.location)return;const n=this.treeAdapter.getChildNodes(r),s=i?n.lastIndexOf(i):n.length,a=n[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:l,endCol:u,endOffset:c}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_adoptNodes(e,r){for(let i=this.treeAdapter.getFirstChild(e);i;i=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(i),this.treeAdapter.appendChild(r,i)}_setEndLocation(e,r){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&r.location){const i=r.location,n=this.treeAdapter.getTagName(e),s=r.type===Ne.END_TAG&&n===r.tagName?{endTag:{...i},endLine:i.endLine,endCol:i.endCol,endOffset:i.endOffset}:{endLine:i.startLine,endCol:i.startCol,endOffset:i.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let r,i;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,i=this.fragmentContextID):{current:r,currentTagId:i}=this.openElements,e.tagID===f.SVG&&this.treeAdapter.getTagName(r)===D.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===U.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===f.MGLYPH||e.tagID===f.MALIGNMARK)&&!this._isIntegrationPoint(i,r,U.HTML)}_processToken(e){switch(e.type){case Ne.CHARACTER:{this.onCharacter(e);break}case Ne.NULL_CHARACTER:{this.onNullCharacter(e);break}case Ne.COMMENT:{this.onComment(e);break}case Ne.DOCTYPE:{this.onDoctype(e);break}case Ne.START_TAG:{this._processStartTag(e);break}case Ne.END_TAG:{this.onEndTag(e);break}case Ne.EOF:{this.onEof(e);break}case Ne.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,r,i){const n=this.treeAdapter.getNamespaceURI(r),s=this.treeAdapter.getAttrList(r);return u7(e,n,s,i)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const r=this.activeFormattingElements.entries.findIndex(n=>n.type===_r.Marker||this.openElements.contains(n.element)),i=r<0?e-1:r-1;for(let n=i;n>=0;n--){const s=this.activeFormattingElements.entries[n];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=k.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(f.P),this.openElements.popUntilTagNamePopped(f.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case f.TR:{this.insertionMode=k.IN_ROW;return}case f.TBODY:case f.THEAD:case f.TFOOT:{this.insertionMode=k.IN_TABLE_BODY;return}case f.CAPTION:{this.insertionMode=k.IN_CAPTION;return}case f.COLGROUP:{this.insertionMode=k.IN_COLUMN_GROUP;return}case f.TABLE:{this.insertionMode=k.IN_TABLE;return}case f.BODY:{this.insertionMode=k.IN_BODY;return}case f.FRAMESET:{this.insertionMode=k.IN_FRAMESET;return}case f.SELECT:{this._resetInsertionModeForSelect(e);return}case f.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case f.HTML:{this.insertionMode=this.headElement?k.AFTER_HEAD:k.BEFORE_HEAD;return}case f.TD:case f.TH:{if(e>0){this.insertionMode=k.IN_CELL;return}break}case f.HEAD:{if(e>0){this.insertionMode=k.IN_HEAD;return}break}}this.insertionMode=k.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let r=e-1;r>0;r--){const i=this.openElements.tagIDs[r];if(i===f.TEMPLATE)break;if(i===f.TABLE){this.insertionMode=k.IN_SELECT_IN_TABLE;return}}this.insertionMode=k.IN_SELECT}_isElementCausesFosterParenting(e){return qp.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const r=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case f.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===U.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case f.TABLE:{const i=this.treeAdapter.getParentNode(r);return i?{parent:i,beforeElement:r}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,e,r.beforeElement):this.treeAdapter.appendChild(r.parent,e)}_isSpecialElement(e,r){const i=this.treeAdapter.getNamespaceURI(e);return I8[i].has(r)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){q9(this,e);return}switch(this.insertionMode){case k.INITIAL:{rs(this,e);break}case k.BEFORE_HTML:{bs(this,e);break}case k.BEFORE_HEAD:{Ts(this,e);break}case k.IN_HEAD:{vs(this,e);break}case k.IN_HEAD_NO_SCRIPT:{Es(this,e);break}case k.AFTER_HEAD:{ys(this,e);break}case k.IN_BODY:case k.IN_CAPTION:case k.IN_CELL:case k.IN_TEMPLATE:{Yp(this,e);break}case k.TEXT:case k.IN_SELECT:case k.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case k.IN_TABLE:case k.IN_TABLE_BODY:case k.IN_ROW:{Gl(this,e);break}case k.IN_TABLE_TEXT:{Jp(this,e);break}case k.IN_COLUMN_GROUP:{po(this,e);break}case k.AFTER_BODY:{go(this,e);break}case k.AFTER_AFTER_BODY:{Ga(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){$9(this,e);return}switch(this.insertionMode){case k.INITIAL:{rs(this,e);break}case k.BEFORE_HTML:{bs(this,e);break}case k.BEFORE_HEAD:{Ts(this,e);break}case k.IN_HEAD:{vs(this,e);break}case k.IN_HEAD_NO_SCRIPT:{Es(this,e);break}case k.AFTER_HEAD:{ys(this,e);break}case k.TEXT:{this._insertCharacters(e);break}case k.IN_TABLE:case k.IN_TABLE_BODY:case k.IN_ROW:{Gl(this,e);break}case k.IN_COLUMN_GROUP:{po(this,e);break}case k.AFTER_BODY:{go(this,e);break}case k.AFTER_AFTER_BODY:{Ga(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){Y0(this,e);return}switch(this.insertionMode){case k.INITIAL:case k.BEFORE_HTML:case k.BEFORE_HEAD:case k.IN_HEAD:case k.IN_HEAD_NO_SCRIPT:case k.AFTER_HEAD:case k.IN_BODY:case k.IN_TABLE:case k.IN_CAPTION:case k.IN_COLUMN_GROUP:case k.IN_TABLE_BODY:case k.IN_ROW:case k.IN_CELL:case k.IN_SELECT:case k.IN_SELECT_IN_TABLE:case k.IN_TEMPLATE:case k.IN_FRAMESET:case k.AFTER_FRAMESET:{Y0(this,e);break}case k.IN_TABLE_TEXT:{is(this,e);break}case k.AFTER_BODY:{E7(this,e);break}case k.AFTER_AFTER_BODY:case k.AFTER_AFTER_FRAMESET:{y7(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case k.INITIAL:{A7(this,e);break}case k.BEFORE_HEAD:case k.IN_HEAD:case k.IN_HEAD_NO_SCRIPT:case k.AFTER_HEAD:{this._err(e,F.misplacedDoctype);break}case k.IN_TABLE_TEXT:{is(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,F.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?V9(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case k.INITIAL:{rs(this,e);break}case k.BEFORE_HTML:{x7(this,e);break}case k.BEFORE_HEAD:{w7(this,e);break}case k.IN_HEAD:{Nr(this,e);break}case k.IN_HEAD_NO_SCRIPT:{_7(this,e);break}case k.AFTER_HEAD:{N7(this,e);break}case k.IN_BODY:{Ht(this,e);break}case k.IN_TABLE:{Hn(this,e);break}case k.IN_TABLE_TEXT:{is(this,e);break}case k.IN_CAPTION:{C9(this,e);break}case k.IN_COLUMN_GROUP:{gc(this,e);break}case k.IN_TABLE_BODY:{cl(this,e);break}case k.IN_ROW:{hl(this,e);break}case k.IN_CELL:{O9(this,e);break}case k.IN_SELECT:{tg(this,e);break}case k.IN_SELECT_IN_TABLE:{I9(this,e);break}case k.IN_TEMPLATE:{D9(this,e);break}case k.AFTER_BODY:{L9(this,e);break}case k.IN_FRAMESET:{P9(this,e);break}case k.AFTER_FRAMESET:{F9(this,e);break}case k.AFTER_AFTER_BODY:{U9(this,e);break}case k.AFTER_AFTER_FRAMESET:{z9(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?W9(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case k.INITIAL:{rs(this,e);break}case k.BEFORE_HTML:{S7(this,e);break}case k.BEFORE_HEAD:{C7(this,e);break}case k.IN_HEAD:{k7(this,e);break}case k.IN_HEAD_NO_SCRIPT:{O7(this,e);break}case k.AFTER_HEAD:{I7(this,e);break}case k.IN_BODY:{ul(this,e);break}case k.TEXT:{g9(this,e);break}case k.IN_TABLE:{Ds(this,e);break}case k.IN_TABLE_TEXT:{is(this,e);break}case k.IN_CAPTION:{k9(this,e);break}case k.IN_COLUMN_GROUP:{_9(this,e);break}case k.IN_TABLE_BODY:{G0(this,e);break}case k.IN_ROW:{eg(this,e);break}case k.IN_CELL:{N9(this,e);break}case k.IN_SELECT:{rg(this,e);break}case k.IN_SELECT_IN_TABLE:{M9(this,e);break}case k.IN_TEMPLATE:{R9(this,e);break}case k.AFTER_BODY:{ng(this,e);break}case k.IN_FRAMESET:{B9(this,e);break}case k.AFTER_FRAMESET:{H9(this,e);break}case k.AFTER_AFTER_BODY:{Ga(this,e);break}}}onEof(e){switch(this.insertionMode){case k.INITIAL:{rs(this,e);break}case k.BEFORE_HTML:{bs(this,e);break}case k.BEFORE_HEAD:{Ts(this,e);break}case k.IN_HEAD:{vs(this,e);break}case k.IN_HEAD_NO_SCRIPT:{Es(this,e);break}case k.AFTER_HEAD:{ys(this,e);break}case k.IN_BODY:case k.IN_TABLE:case k.IN_CAPTION:case k.IN_COLUMN_GROUP:case k.IN_TABLE_BODY:case k.IN_ROW:case k.IN_CELL:case k.IN_SELECT:case k.IN_SELECT_IN_TABLE:{jp(this,e);break}case k.TEXT:{b9(this,e);break}case k.IN_TABLE_TEXT:{is(this,e);break}case k.IN_TEMPLATE:{ig(this,e);break}case k.AFTER_BODY:case k.IN_FRAMESET:case k.AFTER_FRAMESET:case k.AFTER_AFTER_BODY:case k.AFTER_AFTER_FRAMESET:{pc(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===E.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case k.IN_HEAD:case k.IN_HEAD_NO_SCRIPT:case k.AFTER_HEAD:case k.TEXT:case k.IN_COLUMN_GROUP:case k.IN_SELECT:case k.IN_SELECT_IN_TABLE:case k.IN_FRAMESET:case k.AFTER_FRAMESET:{this._insertCharacters(e);break}case k.IN_BODY:case k.IN_CAPTION:case k.IN_CELL:case k.IN_TEMPLATE:case k.AFTER_BODY:case k.AFTER_AFTER_BODY:case k.AFTER_AFTER_FRAMESET:{Wp(this,e);break}case k.IN_TABLE:case k.IN_TABLE_BODY:case k.IN_ROW:{Gl(this,e);break}case k.IN_TABLE_TEXT:{Qp(this,e);break}}}};function m7(t,e){let r=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return r?t.openElements.contains(r.element)?t.openElements.hasInScope(e.tagID)||(r=null):(t.activeFormattingElements.removeEntry(r),r=null):Kp(t,e),r}function p7(t,e){let r=null,i=t.openElements.stackTop;for(;i>=0;i--){const n=t.openElements.items[i];if(n===e.element)break;t._isSpecialElement(n,t.openElements.tagIDs[i])&&(r=n)}return r||(t.openElements.shortenToLength(i<0?0:i),t.activeFormattingElements.removeEntry(e)),r}function g7(t,e,r){let i=e,n=t.openElements.getCommonAncestor(e);for(let s=0,a=n;a!==r;s++,a=n){n=t.openElements.getCommonAncestor(a);const o=t.activeFormattingElements.getElementEntry(a),l=o&&s>=f7;!o||l?(l&&t.activeFormattingElements.removeEntry(o),t.openElements.remove(a)):(a=b7(t,o),i===e&&(t.activeFormattingElements.bookmark=o),t.treeAdapter.detachNode(i),t.treeAdapter.appendChild(a,i),i=a)}return i}function b7(t,e){const r=t.treeAdapter.getNamespaceURI(e.element),i=t.treeAdapter.createElement(e.token.tagName,r,e.token.attrs);return t.openElements.replace(e.element,i),e.element=i,i}function T7(t,e,r){const i=t.treeAdapter.getTagName(e),n=ol(i);if(t._isElementCausesFosterParenting(n))t._fosterParentElement(r);else{const s=t.treeAdapter.getNamespaceURI(e);n===f.TEMPLATE&&s===U.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,r)}}function v7(t,e,r){const i=t.treeAdapter.getNamespaceURI(r.element),{token:n}=r,s=t.treeAdapter.createElement(n.tagName,i,n.attrs);t._adoptNodes(e,s),t.treeAdapter.appendChild(e,s),t.activeFormattingElements.insertElementAfterBookmark(s,n),t.activeFormattingElements.removeEntry(r),t.openElements.remove(r.element),t.openElements.insertAfter(e,s,n.tagID)}function mc(t,e){for(let r=0;r<h7;r++){const i=m7(t,e);if(!i)break;const n=p7(t,i);if(!n)break;t.activeFormattingElements.bookmark=i;const s=g7(t,n,i.element),a=t.openElements.getCommonAncestor(i.element);t.treeAdapter.detachNode(s),a&&T7(t,a,s),v7(t,n,i)}}function Y0(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function E7(t,e){t._appendCommentNode(e,t.openElements.items[0])}function y7(t,e){t._appendCommentNode(e,t.document)}function pc(t,e){if(t.stopped=!0,e.location){const r=t.fragmentContext?0:2;for(let i=t.openElements.stackTop;i>=r;i--)t._setEndLocation(t.openElements.items[i],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const i=t.openElements.items[0],n=t.treeAdapter.getNodeSourceCodeLocation(i);if(n&&!n.endTag&&(t._setEndLocation(i,e),t.openElements.stackTop>=1)){const s=t.openElements.items[1],a=t.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&t._setEndLocation(s,e)}}}}function A7(t,e){t._setDocumentType(e);const r=e.forceQuirks?Jt.QUIRKS:J8(e);Q8(e)||t._err(e,F.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,r),t.insertionMode=k.BEFORE_HTML}function rs(t,e){t._err(e,F.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Jt.QUIRKS),t.insertionMode=k.BEFORE_HTML,t._processToken(e)}function x7(t,e){e.tagID===f.HTML?(t._insertElement(e,U.HTML),t.insertionMode=k.BEFORE_HEAD):bs(t,e)}function S7(t,e){const r=e.tagID;(r===f.HTML||r===f.HEAD||r===f.BODY||r===f.BR)&&bs(t,e)}function bs(t,e){t._insertFakeRootElement(),t.insertionMode=k.BEFORE_HEAD,t._processToken(e)}function w7(t,e){switch(e.tagID){case f.HTML:{Ht(t,e);break}case f.HEAD:{t._insertElement(e,U.HTML),t.headElement=t.openElements.current,t.insertionMode=k.IN_HEAD;break}default:Ts(t,e)}}function C7(t,e){const r=e.tagID;r===f.HEAD||r===f.BODY||r===f.HTML||r===f.BR?Ts(t,e):t._err(e,F.endTagWithoutMatchingOpenElement)}function Ts(t,e){t._insertFakeElement(D.HEAD,f.HEAD),t.headElement=t.openElements.current,t.insertionMode=k.IN_HEAD,t._processToken(e)}function Nr(t,e){switch(e.tagID){case f.HTML:{Ht(t,e);break}case f.BASE:case f.BASEFONT:case f.BGSOUND:case f.LINK:case f.META:{t._appendElement(e,U.HTML),e.ackSelfClosing=!0;break}case f.TITLE:{t._switchToTextParsing(e,er.RCDATA);break}case f.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,er.RAWTEXT):(t._insertElement(e,U.HTML),t.insertionMode=k.IN_HEAD_NO_SCRIPT);break}case f.NOFRAMES:case f.STYLE:{t._switchToTextParsing(e,er.RAWTEXT);break}case f.SCRIPT:{t._switchToTextParsing(e,er.SCRIPT_DATA);break}case f.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=k.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(k.IN_TEMPLATE);break}case f.HEAD:{t._err(e,F.misplacedStartTagForHeadElement);break}default:vs(t,e)}}function k7(t,e){switch(e.tagID){case f.HEAD:{t.openElements.pop(),t.insertionMode=k.AFTER_HEAD;break}case f.BODY:case f.BR:case f.HTML:{vs(t,e);break}case f.TEMPLATE:{mn(t,e);break}default:t._err(e,F.endTagWithoutMatchingOpenElement)}}function mn(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==f.TEMPLATE&&t._err(e,F.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(f.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,F.endTagWithoutMatchingOpenElement)}function vs(t,e){t.openElements.pop(),t.insertionMode=k.AFTER_HEAD,t._processToken(e)}function _7(t,e){switch(e.tagID){case f.HTML:{Ht(t,e);break}case f.BASEFONT:case f.BGSOUND:case f.HEAD:case f.LINK:case f.META:case f.NOFRAMES:case f.STYLE:{Nr(t,e);break}case f.NOSCRIPT:{t._err(e,F.nestedNoscriptInHead);break}default:Es(t,e)}}function O7(t,e){switch(e.tagID){case f.NOSCRIPT:{t.openElements.pop(),t.insertionMode=k.IN_HEAD;break}case f.BR:{Es(t,e);break}default:t._err(e,F.endTagWithoutMatchingOpenElement)}}function Es(t,e){const r=e.type===Ne.EOF?F.openElementsLeftAfterEof:F.disallowedContentInNoscriptInHead;t._err(e,r),t.openElements.pop(),t.insertionMode=k.IN_HEAD,t._processToken(e)}function N7(t,e){switch(e.tagID){case f.HTML:{Ht(t,e);break}case f.BODY:{t._insertElement(e,U.HTML),t.framesetOk=!1,t.insertionMode=k.IN_BODY;break}case f.FRAMESET:{t._insertElement(e,U.HTML),t.insertionMode=k.IN_FRAMESET;break}case f.BASE:case f.BASEFONT:case f.BGSOUND:case f.LINK:case f.META:case f.NOFRAMES:case f.SCRIPT:case f.STYLE:case f.TEMPLATE:case f.TITLE:{t._err(e,F.abandonedHeadElementChild),t.openElements.push(t.headElement,f.HEAD),Nr(t,e),t.openElements.remove(t.headElement);break}case f.HEAD:{t._err(e,F.misplacedStartTagForHeadElement);break}default:ys(t,e)}}function I7(t,e){switch(e.tagID){case f.BODY:case f.HTML:case f.BR:{ys(t,e);break}case f.TEMPLATE:{mn(t,e);break}default:t._err(e,F.endTagWithoutMatchingOpenElement)}}function ys(t,e){t._insertFakeElement(D.BODY,f.BODY),t.insertionMode=k.IN_BODY,ll(t,e)}function ll(t,e){switch(e.type){case Ne.CHARACTER:{Yp(t,e);break}case Ne.WHITESPACE_CHARACTER:{Wp(t,e);break}case Ne.COMMENT:{Y0(t,e);break}case Ne.START_TAG:{Ht(t,e);break}case Ne.END_TAG:{ul(t,e);break}case Ne.EOF:{jp(t,e);break}}}function Wp(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function Yp(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function M7(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function D7(t,e){const r=t.openElements.tryPeekProperlyNestedBodyElement();r&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(r,e.attrs))}function R7(t,e){const r=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&r&&(t.treeAdapter.detachNode(r),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,U.HTML),t.insertionMode=k.IN_FRAMESET)}function L7(t,e){t.openElements.hasInButtonScope(f.P)&&t._closePElement(),t._insertElement(e,U.HTML)}function P7(t,e){t.openElements.hasInButtonScope(f.P)&&t._closePElement(),Dp(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,U.HTML)}function B7(t,e){t.openElements.hasInButtonScope(f.P)&&t._closePElement(),t._insertElement(e,U.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function F7(t,e){const r=t.openElements.tmplCount>0;(!t.formElement||r)&&(t.openElements.hasInButtonScope(f.P)&&t._closePElement(),t._insertElement(e,U.HTML),r||(t.formElement=t.openElements.current))}function H7(t,e){t.framesetOk=!1;const r=e.tagID;for(let i=t.openElements.stackTop;i>=0;i--){const n=t.openElements.tagIDs[i];if(r===f.LI&&n===f.LI||(r===f.DD||r===f.DT)&&(n===f.DD||n===f.DT)){t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n);break}if(n!==f.ADDRESS&&n!==f.DIV&&n!==f.P&&t._isSpecialElement(t.openElements.items[i],n))break}t.openElements.hasInButtonScope(f.P)&&t._closePElement(),t._insertElement(e,U.HTML)}function U7(t,e){t.openElements.hasInButtonScope(f.P)&&t._closePElement(),t._insertElement(e,U.HTML),t.tokenizer.state=er.PLAINTEXT}function z7(t,e){t.openElements.hasInScope(f.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(f.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,U.HTML),t.framesetOk=!1}function $7(t,e){const r=t.activeFormattingElements.getElementEntryInScopeWithTagName(D.A);r&&(mc(t,e),t.openElements.remove(r.element),t.activeFormattingElements.removeEntry(r)),t._reconstructActiveFormattingElements(),t._insertElement(e,U.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function q7(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,U.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function V7(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(f.NOBR)&&(mc(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,U.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function W7(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,U.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function Y7(t,e){t.treeAdapter.getDocumentMode(t.document)!==Jt.QUIRKS&&t.openElements.hasInButtonScope(f.P)&&t._closePElement(),t._insertElement(e,U.HTML),t.framesetOk=!1,t.insertionMode=k.IN_TABLE}function Gp(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,U.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function Xp(t){const e=Mp(t,Ii.TYPE);return e!=null&&e.toLowerCase()===c7}function G7(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,U.HTML),Xp(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function X7(t,e){t._appendElement(e,U.HTML),e.ackSelfClosing=!0}function K7(t,e){t.openElements.hasInButtonScope(f.P)&&t._closePElement(),t._appendElement(e,U.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function j7(t,e){e.tagName=D.IMG,e.tagID=f.IMG,Gp(t,e)}function Q7(t,e){t._insertElement(e,U.HTML),t.skipNextNewLine=!0,t.tokenizer.state=er.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=k.TEXT}function J7(t,e){t.openElements.hasInButtonScope(f.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,er.RAWTEXT)}function Z7(t,e){t.framesetOk=!1,t._switchToTextParsing(e,er.RAWTEXT)}function Qh(t,e){t._switchToTextParsing(e,er.RAWTEXT)}function e9(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,U.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===k.IN_TABLE||t.insertionMode===k.IN_CAPTION||t.insertionMode===k.IN_TABLE_BODY||t.insertionMode===k.IN_ROW||t.insertionMode===k.IN_CELL?k.IN_SELECT_IN_TABLE:k.IN_SELECT}function t9(t,e){t.openElements.currentTagId===f.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,U.HTML)}function r9(t,e){t.openElements.hasInScope(f.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,U.HTML)}function i9(t,e){t.openElements.hasInScope(f.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(f.RTC),t._insertElement(e,U.HTML)}function n9(t,e){t._reconstructActiveFormattingElements(),zp(e),dc(e),e.selfClosing?t._appendElement(e,U.MATHML):t._insertElement(e,U.MATHML),e.ackSelfClosing=!0}function s9(t,e){t._reconstructActiveFormattingElements(),$p(e),dc(e),e.selfClosing?t._appendElement(e,U.SVG):t._insertElement(e,U.SVG),e.ackSelfClosing=!0}function Jh(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,U.HTML)}function Ht(t,e){switch(e.tagID){case f.I:case f.S:case f.B:case f.U:case f.EM:case f.TT:case f.BIG:case f.CODE:case f.FONT:case f.SMALL:case f.STRIKE:case f.STRONG:{q7(t,e);break}case f.A:{$7(t,e);break}case f.H1:case f.H2:case f.H3:case f.H4:case f.H5:case f.H6:{P7(t,e);break}case f.P:case f.DL:case f.OL:case f.UL:case f.DIV:case f.DIR:case f.NAV:case f.MAIN:case f.MENU:case f.ASIDE:case f.CENTER:case f.FIGURE:case f.FOOTER:case f.HEADER:case f.HGROUP:case f.DIALOG:case f.DETAILS:case f.ADDRESS:case f.ARTICLE:case f.SECTION:case f.SUMMARY:case f.FIELDSET:case f.BLOCKQUOTE:case f.FIGCAPTION:{L7(t,e);break}case f.LI:case f.DD:case f.DT:{H7(t,e);break}case f.BR:case f.IMG:case f.WBR:case f.AREA:case f.EMBED:case f.KEYGEN:{Gp(t,e);break}case f.HR:{K7(t,e);break}case f.RB:case f.RTC:{r9(t,e);break}case f.RT:case f.RP:{i9(t,e);break}case f.PRE:case f.LISTING:{B7(t,e);break}case f.XMP:{J7(t,e);break}case f.SVG:{s9(t,e);break}case f.HTML:{M7(t,e);break}case f.BASE:case f.LINK:case f.META:case f.STYLE:case f.TITLE:case f.SCRIPT:case f.BGSOUND:case f.BASEFONT:case f.TEMPLATE:{Nr(t,e);break}case f.BODY:{D7(t,e);break}case f.FORM:{F7(t,e);break}case f.NOBR:{V7(t,e);break}case f.MATH:{n9(t,e);break}case f.TABLE:{Y7(t,e);break}case f.INPUT:{G7(t,e);break}case f.PARAM:case f.TRACK:case f.SOURCE:{X7(t,e);break}case f.IMAGE:{j7(t,e);break}case f.BUTTON:{z7(t,e);break}case f.APPLET:case f.OBJECT:case f.MARQUEE:{W7(t,e);break}case f.IFRAME:{Z7(t,e);break}case f.SELECT:{e9(t,e);break}case f.OPTION:case f.OPTGROUP:{t9(t,e);break}case f.NOEMBED:{Qh(t,e);break}case f.FRAMESET:{R7(t,e);break}case f.TEXTAREA:{Q7(t,e);break}case f.NOSCRIPT:{t.options.scriptingEnabled?Qh(t,e):Jh(t,e);break}case f.PLAINTEXT:{U7(t,e);break}case f.COL:case f.TH:case f.TD:case f.TR:case f.HEAD:case f.FRAME:case f.TBODY:case f.TFOOT:case f.THEAD:case f.CAPTION:case f.COLGROUP:break;default:Jh(t,e)}}function a9(t,e){if(t.openElements.hasInScope(f.BODY)&&(t.insertionMode=k.AFTER_BODY,t.options.sourceCodeLocationInfo)){const r=t.openElements.tryPeekProperlyNestedBodyElement();r&&t._setEndLocation(r,e)}}function o9(t,e){t.openElements.hasInScope(f.BODY)&&(t.insertionMode=k.AFTER_BODY,ng(t,e))}function l9(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r))}function u9(t){const e=t.openElements.tmplCount>0,{formElement:r}=t;e||(t.formElement=null),(r||e)&&t.openElements.hasInScope(f.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(f.FORM):r&&t.openElements.remove(r))}function c9(t){t.openElements.hasInButtonScope(f.P)||t._insertFakeElement(D.P,f.P),t._closePElement()}function h9(t){t.openElements.hasInListItemScope(f.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(f.LI),t.openElements.popUntilTagNamePopped(f.LI))}function f9(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.popUntilTagNamePopped(r))}function d9(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function m9(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r),t.activeFormattingElements.clearToLastMarker())}function p9(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(D.BR,f.BR),t.openElements.pop(),t.framesetOk=!1}function Kp(t,e){const r=e.tagName,i=e.tagID;for(let n=t.openElements.stackTop;n>0;n--){const s=t.openElements.items[n],a=t.openElements.tagIDs[n];if(i===a&&(i!==f.UNKNOWN||t.treeAdapter.getTagName(s)===r)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.stackTop>=n&&t.openElements.shortenToLength(n);break}if(t._isSpecialElement(s,a))break}}function ul(t,e){switch(e.tagID){case f.A:case f.B:case f.I:case f.S:case f.U:case f.EM:case f.TT:case f.BIG:case f.CODE:case f.FONT:case f.NOBR:case f.SMALL:case f.STRIKE:case f.STRONG:{mc(t,e);break}case f.P:{c9(t);break}case f.DL:case f.UL:case f.OL:case f.DIR:case f.DIV:case f.NAV:case f.PRE:case f.MAIN:case f.MENU:case f.ASIDE:case f.BUTTON:case f.CENTER:case f.FIGURE:case f.FOOTER:case f.HEADER:case f.HGROUP:case f.DIALOG:case f.ADDRESS:case f.ARTICLE:case f.DETAILS:case f.SECTION:case f.SUMMARY:case f.LISTING:case f.FIELDSET:case f.BLOCKQUOTE:case f.FIGCAPTION:{l9(t,e);break}case f.LI:{h9(t);break}case f.DD:case f.DT:{f9(t,e);break}case f.H1:case f.H2:case f.H3:case f.H4:case f.H5:case f.H6:{d9(t);break}case f.BR:{p9(t);break}case f.BODY:{a9(t,e);break}case f.HTML:{o9(t,e);break}case f.FORM:{u9(t);break}case f.APPLET:case f.OBJECT:case f.MARQUEE:{m9(t,e);break}case f.TEMPLATE:{mn(t,e);break}default:Kp(t,e)}}function jp(t,e){t.tmplInsertionModeStack.length>0?ig(t,e):pc(t,e)}function g9(t,e){var r;e.tagID===f.SCRIPT&&((r=t.scriptHandler)===null||r===void 0||r.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function b9(t,e){t._err(e,F.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function Gl(t,e){if(qp.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=k.IN_TABLE_TEXT,e.type){case Ne.CHARACTER:{Jp(t,e);break}case Ne.WHITESPACE_CHARACTER:{Qp(t,e);break}}else Qs(t,e)}function T9(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,U.HTML),t.insertionMode=k.IN_CAPTION}function v9(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,U.HTML),t.insertionMode=k.IN_COLUMN_GROUP}function E9(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(D.COLGROUP,f.COLGROUP),t.insertionMode=k.IN_COLUMN_GROUP,gc(t,e)}function y9(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,U.HTML),t.insertionMode=k.IN_TABLE_BODY}function A9(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(D.TBODY,f.TBODY),t.insertionMode=k.IN_TABLE_BODY,cl(t,e)}function x9(t,e){t.openElements.hasInTableScope(f.TABLE)&&(t.openElements.popUntilTagNamePopped(f.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function S9(t,e){Xp(e)?t._appendElement(e,U.HTML):Qs(t,e),e.ackSelfClosing=!0}function w9(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,U.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Hn(t,e){switch(e.tagID){case f.TD:case f.TH:case f.TR:{A9(t,e);break}case f.STYLE:case f.SCRIPT:case f.TEMPLATE:{Nr(t,e);break}case f.COL:{E9(t,e);break}case f.FORM:{w9(t,e);break}case f.TABLE:{x9(t,e);break}case f.TBODY:case f.TFOOT:case f.THEAD:{y9(t,e);break}case f.INPUT:{S9(t,e);break}case f.CAPTION:{T9(t,e);break}case f.COLGROUP:{v9(t,e);break}default:Qs(t,e)}}function Ds(t,e){switch(e.tagID){case f.TABLE:{t.openElements.hasInTableScope(f.TABLE)&&(t.openElements.popUntilTagNamePopped(f.TABLE),t._resetInsertionMode());break}case f.TEMPLATE:{mn(t,e);break}case f.BODY:case f.CAPTION:case f.COL:case f.COLGROUP:case f.HTML:case f.TBODY:case f.TD:case f.TFOOT:case f.TH:case f.THEAD:case f.TR:break;default:Qs(t,e)}}function Qs(t,e){const r=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,ll(t,e),t.fosterParentingEnabled=r}function Qp(t,e){t.pendingCharacterTokens.push(e)}function Jp(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function is(t,e){let r=0;if(t.hasNonWhitespacePendingCharacterToken)for(;r<t.pendingCharacterTokens.length;r++)Qs(t,t.pendingCharacterTokens[r]);else for(;r<t.pendingCharacterTokens.length;r++)t._insertCharacters(t.pendingCharacterTokens[r]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const Zp=new Set([f.CAPTION,f.COL,f.COLGROUP,f.TBODY,f.TD,f.TFOOT,f.TH,f.THEAD,f.TR]);function C9(t,e){const r=e.tagID;Zp.has(r)?t.openElements.hasInTableScope(f.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(f.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=k.IN_TABLE,Hn(t,e)):Ht(t,e)}function k9(t,e){const r=e.tagID;switch(r){case f.CAPTION:case f.TABLE:{t.openElements.hasInTableScope(f.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(f.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=k.IN_TABLE,r===f.TABLE&&Ds(t,e));break}case f.BODY:case f.COL:case f.COLGROUP:case f.HTML:case f.TBODY:case f.TD:case f.TFOOT:case f.TH:case f.THEAD:case f.TR:break;default:ul(t,e)}}function gc(t,e){switch(e.tagID){case f.HTML:{Ht(t,e);break}case f.COL:{t._appendElement(e,U.HTML),e.ackSelfClosing=!0;break}case f.TEMPLATE:{Nr(t,e);break}default:po(t,e)}}function _9(t,e){switch(e.tagID){case f.COLGROUP:{t.openElements.currentTagId===f.COLGROUP&&(t.openElements.pop(),t.insertionMode=k.IN_TABLE);break}case f.TEMPLATE:{mn(t,e);break}case f.COL:break;default:po(t,e)}}function po(t,e){t.openElements.currentTagId===f.COLGROUP&&(t.openElements.pop(),t.insertionMode=k.IN_TABLE,t._processToken(e))}function cl(t,e){switch(e.tagID){case f.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,U.HTML),t.insertionMode=k.IN_ROW;break}case f.TH:case f.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(D.TR,f.TR),t.insertionMode=k.IN_ROW,hl(t,e);break}case f.CAPTION:case f.COL:case f.COLGROUP:case f.TBODY:case f.TFOOT:case f.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=k.IN_TABLE,Hn(t,e));break}default:Hn(t,e)}}function G0(t,e){const r=e.tagID;switch(e.tagID){case f.TBODY:case f.TFOOT:case f.THEAD:{t.openElements.hasInTableScope(r)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=k.IN_TABLE);break}case f.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=k.IN_TABLE,Ds(t,e));break}case f.BODY:case f.CAPTION:case f.COL:case f.COLGROUP:case f.HTML:case f.TD:case f.TH:case f.TR:break;default:Ds(t,e)}}function hl(t,e){switch(e.tagID){case f.TH:case f.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,U.HTML),t.insertionMode=k.IN_CELL,t.activeFormattingElements.insertMarker();break}case f.CAPTION:case f.COL:case f.COLGROUP:case f.TBODY:case f.TFOOT:case f.THEAD:case f.TR:{t.openElements.hasInTableScope(f.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=k.IN_TABLE_BODY,cl(t,e));break}default:Hn(t,e)}}function eg(t,e){switch(e.tagID){case f.TR:{t.openElements.hasInTableScope(f.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=k.IN_TABLE_BODY);break}case f.TABLE:{t.openElements.hasInTableScope(f.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=k.IN_TABLE_BODY,G0(t,e));break}case f.TBODY:case f.TFOOT:case f.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(f.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=k.IN_TABLE_BODY,G0(t,e));break}case f.BODY:case f.CAPTION:case f.COL:case f.COLGROUP:case f.HTML:case f.TD:case f.TH:break;default:Ds(t,e)}}function O9(t,e){const r=e.tagID;Zp.has(r)?(t.openElements.hasInTableScope(f.TD)||t.openElements.hasInTableScope(f.TH))&&(t._closeTableCell(),hl(t,e)):Ht(t,e)}function N9(t,e){const r=e.tagID;switch(r){case f.TD:case f.TH:{t.openElements.hasInTableScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=k.IN_ROW);break}case f.TABLE:case f.TBODY:case f.TFOOT:case f.THEAD:case f.TR:{t.openElements.hasInTableScope(r)&&(t._closeTableCell(),eg(t,e));break}case f.BODY:case f.CAPTION:case f.COL:case f.COLGROUP:case f.HTML:break;default:ul(t,e)}}function tg(t,e){switch(e.tagID){case f.HTML:{Ht(t,e);break}case f.OPTION:{t.openElements.currentTagId===f.OPTION&&t.openElements.pop(),t._insertElement(e,U.HTML);break}case f.OPTGROUP:{t.openElements.currentTagId===f.OPTION&&t.openElements.pop(),t.openElements.currentTagId===f.OPTGROUP&&t.openElements.pop(),t._insertElement(e,U.HTML);break}case f.INPUT:case f.KEYGEN:case f.TEXTAREA:case f.SELECT:{t.openElements.hasInSelectScope(f.SELECT)&&(t.openElements.popUntilTagNamePopped(f.SELECT),t._resetInsertionMode(),e.tagID!==f.SELECT&&t._processStartTag(e));break}case f.SCRIPT:case f.TEMPLATE:{Nr(t,e);break}}}function rg(t,e){switch(e.tagID){case f.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===f.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===f.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===f.OPTGROUP&&t.openElements.pop();break}case f.OPTION:{t.openElements.currentTagId===f.OPTION&&t.openElements.pop();break}case f.SELECT:{t.openElements.hasInSelectScope(f.SELECT)&&(t.openElements.popUntilTagNamePopped(f.SELECT),t._resetInsertionMode());break}case f.TEMPLATE:{mn(t,e);break}}}function I9(t,e){const r=e.tagID;r===f.CAPTION||r===f.TABLE||r===f.TBODY||r===f.TFOOT||r===f.THEAD||r===f.TR||r===f.TD||r===f.TH?(t.openElements.popUntilTagNamePopped(f.SELECT),t._resetInsertionMode(),t._processStartTag(e)):tg(t,e)}function M9(t,e){const r=e.tagID;r===f.CAPTION||r===f.TABLE||r===f.TBODY||r===f.TFOOT||r===f.THEAD||r===f.TR||r===f.TD||r===f.TH?t.openElements.hasInTableScope(r)&&(t.openElements.popUntilTagNamePopped(f.SELECT),t._resetInsertionMode(),t.onEndTag(e)):rg(t,e)}function D9(t,e){switch(e.tagID){case f.BASE:case f.BASEFONT:case f.BGSOUND:case f.LINK:case f.META:case f.NOFRAMES:case f.SCRIPT:case f.STYLE:case f.TEMPLATE:case f.TITLE:{Nr(t,e);break}case f.CAPTION:case f.COLGROUP:case f.TBODY:case f.TFOOT:case f.THEAD:{t.tmplInsertionModeStack[0]=k.IN_TABLE,t.insertionMode=k.IN_TABLE,Hn(t,e);break}case f.COL:{t.tmplInsertionModeStack[0]=k.IN_COLUMN_GROUP,t.insertionMode=k.IN_COLUMN_GROUP,gc(t,e);break}case f.TR:{t.tmplInsertionModeStack[0]=k.IN_TABLE_BODY,t.insertionMode=k.IN_TABLE_BODY,cl(t,e);break}case f.TD:case f.TH:{t.tmplInsertionModeStack[0]=k.IN_ROW,t.insertionMode=k.IN_ROW,hl(t,e);break}default:t.tmplInsertionModeStack[0]=k.IN_BODY,t.insertionMode=k.IN_BODY,Ht(t,e)}}function R9(t,e){e.tagID===f.TEMPLATE&&mn(t,e)}function ig(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(f.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):pc(t,e)}function L9(t,e){e.tagID===f.HTML?Ht(t,e):go(t,e)}function ng(t,e){var r;if(e.tagID===f.HTML){if(t.fragmentContext||(t.insertionMode=k.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===f.HTML){t._setEndLocation(t.openElements.items[0],e);const i=t.openElements.items[1];i&&!(!((r=t.treeAdapter.getNodeSourceCodeLocation(i))===null||r===void 0)&&r.endTag)&&t._setEndLocation(i,e)}}else go(t,e)}function go(t,e){t.insertionMode=k.IN_BODY,ll(t,e)}function P9(t,e){switch(e.tagID){case f.HTML:{Ht(t,e);break}case f.FRAMESET:{t._insertElement(e,U.HTML);break}case f.FRAME:{t._appendElement(e,U.HTML),e.ackSelfClosing=!0;break}case f.NOFRAMES:{Nr(t,e);break}}}function B9(t,e){e.tagID===f.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==f.FRAMESET&&(t.insertionMode=k.AFTER_FRAMESET))}function F9(t,e){switch(e.tagID){case f.HTML:{Ht(t,e);break}case f.NOFRAMES:{Nr(t,e);break}}}function H9(t,e){e.tagID===f.HTML&&(t.insertionMode=k.AFTER_AFTER_FRAMESET)}function U9(t,e){e.tagID===f.HTML?Ht(t,e):Ga(t,e)}function Ga(t,e){t.insertionMode=k.IN_BODY,ll(t,e)}function z9(t,e){switch(e.tagID){case f.HTML:{Ht(t,e);break}case f.NOFRAMES:{Nr(t,e);break}}}function $9(t,e){e.chars=Ze,t._insertCharacters(e)}function q9(t,e){t._insertCharacters(e),t.framesetOk=!1}function sg(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==U.HTML&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function V9(t,e){if(s7(e))sg(t),t._startTagOutsideForeignContent(e);else{const r=t._getAdjustedCurrentElement(),i=t.treeAdapter.getNamespaceURI(r);i===U.MATHML?zp(e):i===U.SVG&&(a7(e),$p(e)),dc(e),e.selfClosing?t._appendElement(e,i):t._insertElement(e,i),e.ackSelfClosing=!0}}function W9(t,e){if(e.tagID===f.P||e.tagID===f.BR){sg(t),t._endTagOutsideForeignContent(e);return}for(let r=t.openElements.stackTop;r>0;r--){const i=t.openElements.items[r];if(t.treeAdapter.getNamespaceURI(i)===U.HTML){t._endTagOutsideForeignContent(e);break}const n=t.treeAdapter.getTagName(i);if(n.toLowerCase()===e.tagName){e.tagName=n,t.openElements.shortenToLength(r);break}}}const Y9=new Set([D.AREA,D.BASE,D.BASEFONT,D.BGSOUND,D.BR,D.COL,D.EMBED,D.FRAME,D.HR,D.IMG,D.INPUT,D.KEYGEN,D.LINK,D.META,D.PARAM,D.SOURCE,D.TRACK,D.WBR]);function G9(t,e){return e.treeAdapter.isElementNode(t)&&e.treeAdapter.getNamespaceURI(t)===U.HTML&&Y9.has(e.treeAdapter.getTagName(t))}const X9={treeAdapter:Ji,scriptingEnabled:!0};function K9(t,e){const r={...X9,...e};return ag(t,r)}function j9(t,e){let r="";const i=e.treeAdapter.isElementNode(t)&&e.treeAdapter.getTagName(t)===D.TEMPLATE&&e.treeAdapter.getNamespaceURI(t)===U.HTML?e.treeAdapter.getTemplateContent(t):t,n=e.treeAdapter.getChildNodes(i);if(n)for(const s of n)r+=ag(s,e);return r}function ag(t,e){return e.treeAdapter.isElementNode(t)?Q9(t,e):e.treeAdapter.isTextNode(t)?Z9(t,e):e.treeAdapter.isCommentNode(t)?eT(t,e):e.treeAdapter.isDocumentTypeNode(t)?tT(t,e):""}function Q9(t,e){const r=e.treeAdapter.getTagName(t);return`<${r}${J9(t,e)}>${G9(t,e)?"":`${j9(t,e)}</${r}>`}`}function J9(t,{treeAdapter:e}){let r="";for(const i of e.getAttrList(t)){if(r+=" ",!i.namespace)r+=i.name;else switch(i.namespace){case U.XML:{r+=`xml:${i.name}`;break}case U.XMLNS:{i.name!=="xmlns"&&(r+="xmlns:"),r+=i.name;break}case U.XLINK:{r+=`xlink:${i.name}`;break}default:r+=`${i.prefix}:${i.name}`}r+=`="${Xm(i.value)}"`}return r}function Z9(t,e){const{treeAdapter:r}=e,i=r.getTextNodeContent(t),n=r.getParentNode(t),s=n&&r.isElementNode(n)&&r.getTagName(n);return s&&r.getNamespaceURI(n)===U.HTML&&D8(s,e.scriptingEnabled)?i:Km(i)}function eT(t,{treeAdapter:e}){return`<!--${e.getCommentNodeContent(t)}-->`}function tT(t,{treeAdapter:e}){return`<!DOCTYPE ${e.getDocumentTypeNodeName(t)}>`}function rT(t,e){return Vp.parse(t,e)}function iT(t,e,r){typeof t=="string"&&(r=e,e=t,t=null);const i=Vp.getFragmentParser(t,r);return i.tokenizer.write(e,!0),i.getFragment()}function Zh(t){return new Ns(t)}function ef(t){const e=t.includes('"')?"'":'"';return e+t+e}function nT(t,e,r){let i="!DOCTYPE ";return t&&(i+=t),e?i+=` PUBLIC ${ef(e)}`:r&&(i+=" SYSTEM"),r&&(i+=` ${ef(r)}`),i}const Sn={isCommentNode:el,isElementNode:me,isTextNode:qr,createDocument(){const t=new on([]);return t["x-mode"]=Jt.NO_QUIRKS,t},createDocumentFragment(){return new on([])},createElement(t,e,r){const i=Object.create(null),n=Object.create(null),s=Object.create(null);for(let o=0;o<r.length;o++){const l=r[o].name;i[l]=r[o].value,n[l]=r[o].namespace,s[l]=r[o].prefix}const a=new tc(t,i,[]);return a.namespace=e,a["x-attribsNamespace"]=n,a["x-attribsPrefix"]=s,a},createCommentNode(t){return new Ju(t)},appendChild(t,e){const r=t.children[t.children.length-1];r&&(r.next=e,e.prev=r),t.children.push(e),e.parent=t},insertBefore(t,e,r){const i=t.children.indexOf(r),{prev:n}=r;n&&(n.next=e,e.prev=n),r.prev=e,e.next=r,t.children.splice(i,0,e),e.parent=t},setTemplateContent(t,e){Sn.appendChild(t,e)},getTemplateContent(t){return t.children[0]},setDocumentType(t,e,r,i){const n=nT(e,r,i);let s=t.children.find(a=>F0(a)&&a.name==="!doctype");s?s.data=n??null:(s=new Zu("!doctype",n),Sn.appendChild(t,s)),s["x-name"]=e??void 0,s["x-publicId"]=r??void 0,s["x-systemId"]=i??void 0},setDocumentMode(t,e){t["x-mode"]=e},getDocumentMode(t){return t["x-mode"]},detachNode(t){if(t.parent){const e=t.parent.children.indexOf(t),{prev:r,next:i}=t;t.prev=null,t.next=null,r&&(r.next=i),i&&(i.prev=r),t.parent.children.splice(e,1),t.parent=null}},insertText(t,e){const r=t.children[t.children.length-1];r&&qr(r)?r.data+=e:Sn.appendChild(t,Zh(e))},insertTextBefore(t,e,r){const i=t.children[t.children.indexOf(r)-1];i&&qr(i)?i.data+=e:Sn.insertBefore(t,Zh(e),r)},adoptAttributes(t,e){for(let r=0;r<e.length;r++){const i=e[r].name;typeof t.attribs[i]>"u"&&(t.attribs[i]=e[r].value,t["x-attribsNamespace"][i]=e[r].namespace,t["x-attribsPrefix"][i]=e[r].prefix)}},getFirstChild(t){return t.children[0]},getChildNodes(t){return t.children},getParentNode(t){return t.parent},getAttrList(t){return t.attributes},getTagName(t){return t.name},getNamespaceURI(t){return t.namespace},getTextNodeContent(t){return t.data},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){var e;return(e=t["x-name"])!==null&&e!==void 0?e:""},getDocumentTypeNodePublicId(t){var e;return(e=t["x-publicId"])!==null&&e!==void 0?e:""},getDocumentTypeNodeSystemId(t){var e;return(e=t["x-systemId"])!==null&&e!==void 0?e:""},isDocumentTypeNode(t){return F0(t)&&t.name==="!doctype"},setNodeSourceCodeLocation(t,e){e&&(t.startIndex=e.startOffset,t.endIndex=e.endOffset),t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){e.endOffset!=null&&(t.endIndex=e.endOffset),t.sourceCodeLocation={...t.sourceCodeLocation,...e}}};function sT(t,e,r,i){const n={scriptingEnabled:typeof e.scriptingEnabled=="boolean"?e.scriptingEnabled:!0,treeAdapter:Sn,sourceCodeLocationInfo:e.sourceCodeLocationInfo};return r?rT(t,n):iT(i,t,n)}const aT={treeAdapter:Sn};function oT(t){const e="length"in t?t:[t];for(let i=0;i<e.length;i+=1){const n=e[i];fn(n)&&Array.prototype.splice.call(e,i,1,...n.children)}let r="";for(let i=0;i<e.length;i+=1){const n=e[i];r+=K9(n,aT)}return r}var ie;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Num=35]="Num",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(ie||(ie={}));var W;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.SpecialStartSequence=23]="SpecialStartSequence",t[t.InSpecialTag=24]="InSpecialTag",t[t.BeforeEntity=25]="BeforeEntity",t[t.BeforeNumericEntity=26]="BeforeNumericEntity",t[t.InNamedEntity=27]="InNamedEntity",t[t.InNumericEntity=28]="InNumericEntity",t[t.InHexEntity=29]="InHexEntity"})(W||(W={}));function ri(t){return t===ie.Space||t===ie.NewLine||t===ie.Tab||t===ie.FormFeed||t===ie.CarriageReturn}function pa(t){return t===ie.Slash||t===ie.Gt||ri(t)}function tf(t){return t>=ie.Zero&&t<=ie.Nine}function lT(t){return t>=ie.LowerA&&t<=ie.LowerZ||t>=ie.UpperA&&t<=ie.UpperZ}function uT(t){return t>=ie.UpperA&&t<=ie.UpperF||t>=ie.LowerA&&t<=ie.LowerF}var Fr;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(Fr||(Fr={}));const Xt={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])};class cT{constructor({xmlMode:e=!1,decodeEntities:r=!0},i){this.cbs=i,this.state=W.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=W.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=e,this.decodeEntities=r,this.entityTrie=e?N6:Ei}reset(){this.state=W.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=W.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}getIndex(){return this.index}getSectionStart(){return this.sectionStart}stateText(e){e===ie.Lt||!this.decodeEntities&&this.fastForwardTo(ie.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=W.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===ie.Amp&&(this.state=W.BeforeEntity)}stateSpecialStartSequence(e){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?pa(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=W.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===ie.Gt||ri(e)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const i=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=i}this.isSpecial=!1,this.sectionStart=r+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Xt.TitleEnd?this.decodeEntities&&e===ie.Amp&&(this.state=W.BeforeEntity):this.fastForwardTo(ie.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(e===ie.Lt)}stateCDATASequence(e){e===Xt.Cdata[this.sequenceIndex]?++this.sequenceIndex===Xt.Cdata.length&&(this.state=W.InCommentLike,this.currentSequence=Xt.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=W.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Xt.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=W.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!pa(e):lT(e)}startSpecial(e,r){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=r,this.state=W.SpecialStartSequence}stateBeforeTagName(e){if(e===ie.ExclamationMark)this.state=W.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===ie.Questionmark)this.state=W.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const r=e|32;this.sectionStart=this.index,!this.xmlMode&&r===Xt.TitleEnd[2]?this.startSpecial(Xt.TitleEnd,3):this.state=!this.xmlMode&&r===Xt.ScriptEnd[2]?W.BeforeSpecialS:W.InTagName}else e===ie.Slash?this.state=W.BeforeClosingTagName:(this.state=W.Text,this.stateText(e))}stateInTagName(e){pa(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=W.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){ri(e)||(e===ie.Gt?this.state=W.Text:(this.state=this.isTagStartChar(e)?W.InClosingTagName:W.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===ie.Gt||ri(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=W.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===ie.Gt||this.fastForwardTo(ie.Gt))&&(this.state=W.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===ie.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=W.InSpecialTag,this.sequenceIndex=0):this.state=W.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===ie.Slash?this.state=W.InSelfClosingTag:ri(e)||(this.state=W.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===ie.Gt?(this.cbs.onselfclosingtag(this.index),this.state=W.Text,this.baseState=W.Text,this.sectionStart=this.index+1,this.isSpecial=!1):ri(e)||(this.state=W.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===ie.Eq||pa(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=W.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===ie.Eq?this.state=W.BeforeAttributeValue:e===ie.Slash||e===ie.Gt?(this.cbs.onattribend(Fr.NoValue,this.index),this.state=W.BeforeAttributeName,this.stateBeforeAttributeName(e)):ri(e)||(this.cbs.onattribend(Fr.NoValue,this.index),this.state=W.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===ie.DoubleQuote?(this.state=W.InAttributeValueDq,this.sectionStart=this.index+1):e===ie.SingleQuote?(this.state=W.InAttributeValueSq,this.sectionStart=this.index+1):ri(e)||(this.sectionStart=this.index,this.state=W.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,r){e===r||!this.decodeEntities&&this.fastForwardTo(r)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===ie.DoubleQuote?Fr.Double:Fr.Single,this.index),this.state=W.BeforeAttributeName):this.decodeEntities&&e===ie.Amp&&(this.baseState=this.state,this.state=W.BeforeEntity)}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,ie.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,ie.SingleQuote)}stateInAttributeValueNoQuotes(e){ri(e)||e===ie.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Fr.Unquoted,this.index),this.state=W.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===ie.Amp&&(this.baseState=this.state,this.state=W.BeforeEntity)}stateBeforeDeclaration(e){e===ie.OpeningSquareBracket?(this.state=W.CDATASequence,this.sequenceIndex=0):this.state=e===ie.Dash?W.BeforeComment:W.InDeclaration}stateInDeclaration(e){(e===ie.Gt||this.fastForwardTo(ie.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=W.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===ie.Gt||this.fastForwardTo(ie.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=W.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===ie.Dash?(this.state=W.InCommentLike,this.currentSequence=Xt.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=W.InDeclaration}stateInSpecialComment(e){(e===ie.Gt||this.fastForwardTo(ie.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=W.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const r=e|32;r===Xt.ScriptEnd[3]?this.startSpecial(Xt.ScriptEnd,4):r===Xt.StyleEnd[3]?this.startSpecial(Xt.StyleEnd,4):(this.state=W.InTagName,this.stateInTagName(e))}stateBeforeEntity(e){this.entityExcess=1,this.entityResult=0,e===ie.Num?this.state=W.BeforeNumericEntity:e===ie.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=W.InNamedEntity,this.stateInNamedEntity(e))}stateInNamedEntity(e){if(this.entityExcess+=1,this.trieIndex=Wm(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];const r=this.trieCurrent&ai.VALUE_LENGTH;if(r){const i=(r>>14)-1;if(!this.allowLegacyEntity()&&e!==ie.Semi)this.trieIndex+=i;else{const n=this.index-this.entityExcess+1;n>this.sectionStart&&this.emitPartial(this.sectionStart,n),this.entityResult=this.trieIndex,this.trieIndex+=i,this.entityExcess=0,this.sectionStart=this.index+1,i===0&&this.emitNamedEntity()}}}emitNamedEntity(){if(this.state=this.baseState,this.entityResult===0)return;switch((this.entityTrie[this.entityResult]&ai.VALUE_LENGTH)>>14){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~ai.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}stateBeforeNumericEntity(e){(e|32)===ie.LowerX?(this.entityExcess++,this.state=W.InHexEntity):(this.state=W.InNumericEntity,this.stateInNumericEntity(e))}emitNumericEntity(e){const r=this.index-this.entityExcess-1;r+2+Number(this.state===W.InHexEntity)!==this.index&&(r>this.sectionStart&&this.emitPartial(this.sectionStart,r),this.sectionStart=this.index+Number(e),this.emitCodePoint(M6(this.entityResult))),this.state=this.baseState}stateInNumericEntity(e){e===ie.Semi?this.emitNumericEntity(!0):tf(e)?(this.entityResult=this.entityResult*10+(e-ie.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}stateInHexEntity(e){e===ie.Semi?this.emitNumericEntity(!0):tf(e)?(this.entityResult=this.entityResult*16+(e-ie.Zero),this.entityExcess++):uT(e)?(this.entityResult=this.entityResult*16+((e|32)-ie.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}allowLegacyEntity(){return!this.xmlMode&&(this.baseState===W.Text||this.baseState===W.InSpecialTag)}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===W.Text||this.state===W.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===W.InAttributeValueDq||this.state===W.InAttributeValueSq||this.state===W.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);this.state===W.Text?this.stateText(e):this.state===W.SpecialStartSequence?this.stateSpecialStartSequence(e):this.state===W.InSpecialTag?this.stateInSpecialTag(e):this.state===W.CDATASequence?this.stateCDATASequence(e):this.state===W.InAttributeValueDq?this.stateInAttributeValueDoubleQuotes(e):this.state===W.InAttributeName?this.stateInAttributeName(e):this.state===W.InCommentLike?this.stateInCommentLike(e):this.state===W.InSpecialComment?this.stateInSpecialComment(e):this.state===W.BeforeAttributeName?this.stateBeforeAttributeName(e):this.state===W.InTagName?this.stateInTagName(e):this.state===W.InClosingTagName?this.stateInClosingTagName(e):this.state===W.BeforeTagName?this.stateBeforeTagName(e):this.state===W.AfterAttributeName?this.stateAfterAttributeName(e):this.state===W.InAttributeValueSq?this.stateInAttributeValueSingleQuotes(e):this.state===W.BeforeAttributeValue?this.stateBeforeAttributeValue(e):this.state===W.BeforeClosingTagName?this.stateBeforeClosingTagName(e):this.state===W.AfterClosingTagName?this.stateAfterClosingTagName(e):this.state===W.BeforeSpecialS?this.stateBeforeSpecialS(e):this.state===W.InAttributeValueNq?this.stateInAttributeValueNoQuotes(e):this.state===W.InSelfClosingTag?this.stateInSelfClosingTag(e):this.state===W.InDeclaration?this.stateInDeclaration(e):this.state===W.BeforeDeclaration?this.stateBeforeDeclaration(e):this.state===W.BeforeComment?this.stateBeforeComment(e):this.state===W.InProcessingInstruction?this.stateInProcessingInstruction(e):this.state===W.InNamedEntity?this.stateInNamedEntity(e):this.state===W.BeforeEntity?this.stateBeforeEntity(e):this.state===W.InHexEntity?this.stateInHexEntity(e):this.state===W.InNumericEntity?this.stateInNumericEntity(e):this.stateBeforeNumericEntity(e),this.index++}this.cleanup()}finish(){this.state===W.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.state===W.InCommentLike?this.currentSequence===Xt.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===W.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===W.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===W.InTagName||this.state===W.BeforeAttributeName||this.state===W.BeforeAttributeValue||this.state===W.AfterAttributeName||this.state===W.InAttributeName||this.state===W.InAttributeValueSq||this.state===W.InAttributeValueDq||this.state===W.InAttributeValueNq||this.state===W.InClosingTagName||this.cbs.ontext(this.sectionStart,e)}emitPartial(e,r){this.baseState!==W.Text&&this.baseState!==W.InSpecialTag?this.cbs.onattribdata(e,r):this.cbs.ontext(e,r)}emitCodePoint(e){this.baseState!==W.Text&&this.baseState!==W.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)}}const vn=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ve=new Set(["p"]),rf=new Set(["thead","tbody"]),nf=new Set(["dd","dt"]),sf=new Set(["rt","rp"]),hT=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Ve],["h1",Ve],["h2",Ve],["h3",Ve],["h4",Ve],["h5",Ve],["h6",Ve],["select",vn],["input",vn],["output",vn],["button",vn],["datalist",vn],["textarea",vn],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",nf],["dt",nf],["address",Ve],["article",Ve],["aside",Ve],["blockquote",Ve],["details",Ve],["div",Ve],["dl",Ve],["fieldset",Ve],["figcaption",Ve],["figure",Ve],["footer",Ve],["form",Ve],["header",Ve],["hr",Ve],["main",Ve],["nav",Ve],["ol",Ve],["pre",Ve],["section",Ve],["table",Ve],["ul",Ve],["rt",sf],["rp",sf],["tbody",rf],["tfoot",rf]]),fT=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),af=new Set(["math","svg"]),of=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),dT=/\s|\//;let mT=class{constructor(e,r={}){var i,n,s,a,o;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=(i=r.lowerCaseTags)!==null&&i!==void 0?i:!r.xmlMode,this.lowerCaseAttributeNames=(n=r.lowerCaseAttributeNames)!==null&&n!==void 0?n:!r.xmlMode,this.tokenizer=new((s=r.Tokenizer)!==null&&s!==void 0?s:cT)(this.options,this),(o=(a=this.cbs).onparserinit)===null||o===void 0||o.call(a,this)}ontext(e,r){var i,n;const s=this.getSlice(e,r);this.endIndex=r-1,(n=(i=this.cbs).ontext)===null||n===void 0||n.call(i,s),this.startIndex=r}ontextentity(e){var r,i;const n=this.tokenizer.getSectionStart();this.endIndex=n-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,kh(e)),this.startIndex=n}isVoidElement(e){return!this.options.xmlMode&&fT.has(e)}onopentagname(e,r){this.endIndex=r;let i=this.getSlice(e,r);this.lowerCaseTagNames&&(i=i.toLowerCase()),this.emitOpenTag(i)}emitOpenTag(e){var r,i,n,s;this.openTagStart=this.startIndex,this.tagname=e;const a=!this.options.xmlMode&&hT.get(e);if(a)for(;this.stack.length>0&&a.has(this.stack[this.stack.length-1]);){const o=this.stack.pop();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,o,!0)}this.isVoidElement(e)||(this.stack.push(e),af.has(e)?this.foreignContext.push(!0):of.has(e)&&this.foreignContext.push(!1)),(s=(n=this.cbs).onopentagname)===null||s===void 0||s.call(n,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var r,i;this.startIndex=this.openTagStart,this.attribs&&((i=(r=this.cbs).onopentag)===null||i===void 0||i.call(r,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,r){var i,n,s,a,o,l;this.endIndex=r;let u=this.getSlice(e,r);if(this.lowerCaseTagNames&&(u=u.toLowerCase()),(af.has(u)||of.has(u))&&this.foreignContext.pop(),this.isVoidElement(u))!this.options.xmlMode&&u==="br"&&((n=(i=this.cbs).onopentagname)===null||n===void 0||n.call(i,"br"),(a=(s=this.cbs).onopentag)===null||a===void 0||a.call(s,"br",{},!0),(l=(o=this.cbs).onclosetag)===null||l===void 0||l.call(o,"br",!1));else{const c=this.stack.lastIndexOf(u);if(c!==-1)if(this.cbs.onclosetag){let h=this.stack.length-c;for(;h--;)this.cbs.onclosetag(this.stack.pop(),h!==0)}else this.stack.length=c;else!this.options.xmlMode&&u==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1}onselfclosingtag(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var r,i;const n=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===n&&((i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,n,!e),this.stack.pop())}onattribname(e,r){this.startIndex=e;const i=this.getSlice(e,r);this.attribname=this.lowerCaseAttributeNames?i.toLowerCase():i}onattribdata(e,r){this.attribvalue+=this.getSlice(e,r)}onattribentity(e){this.attribvalue+=kh(e)}onattribend(e,r){var i,n;this.endIndex=r,(n=(i=this.cbs).onattribute)===null||n===void 0||n.call(i,this.attribname,this.attribvalue,e===Fr.Double?'"':e===Fr.Single?"'":e===Fr.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const r=e.search(dT);let i=r<0?e:e.substr(0,r);return this.lowerCaseTagNames&&(i=i.toLowerCase()),i}ondeclaration(e,r){this.endIndex=r;const i=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){const n=this.getInstructionName(i);this.cbs.onprocessinginstruction(`!${n}`,`!${i}`)}this.startIndex=r+1}onprocessinginstruction(e,r){this.endIndex=r;const i=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){const n=this.getInstructionName(i);this.cbs.onprocessinginstruction(`?${n}`,`?${i}`)}this.startIndex=r+1}oncomment(e,r,i){var n,s,a,o;this.endIndex=r,(s=(n=this.cbs).oncomment)===null||s===void 0||s.call(n,this.getSlice(e,r-i)),(o=(a=this.cbs).oncommentend)===null||o===void 0||o.call(a),this.startIndex=r+1}oncdata(e,r,i){var n,s,a,o,l,u,c,h,m,p;this.endIndex=r;const b=this.getSlice(e,r-i);this.options.xmlMode||this.options.recognizeCDATA?((s=(n=this.cbs).oncdatastart)===null||s===void 0||s.call(n),(o=(a=this.cbs).ontext)===null||o===void 0||o.call(a,b),(u=(l=this.cbs).oncdataend)===null||u===void 0||u.call(l)):((h=(c=this.cbs).oncomment)===null||h===void 0||h.call(c,`[CDATA[${b}]]`),(p=(m=this.cbs).oncommentend)===null||p===void 0||p.call(m)),this.startIndex=r+1}onend(){var e,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let i=this.stack.length;i>0;this.cbs.onclosetag(this.stack[--i],!0));}(r=(e=this.cbs).onend)===null||r===void 0||r.call(e)}reset(){var e,r,i,n;(r=(e=this.cbs).onreset)===null||r===void 0||r.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(n=(i=this.cbs).onparserinit)===null||n===void 0||n.call(i,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,r){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let i=this.buffers[0].slice(e-this.bufferOffset,r-this.bufferOffset);for(;r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),i+=this.buffers[0].slice(0,r-this.bufferOffset);return i}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var r,i;if(this.ended){(i=(r=this.cbs).onerror)===null||i===void 0||i.call(r,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)}end(e){var r,i;if(this.ended){(i=(r=this.cbs).onerror)===null||i===void 0||i.call(r,Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}};function pT(t,e){const r=new O6(void 0,e);return new mT(r,e).end(t),r.root}const gT=Gb((t,e,r,i)=>e.xmlMode||e._useHtmlParser2?pT(t,e):sT(t,e,r,i)),bc=x8(gT,(t,e)=>e.xmlMode||e._useHtmlParser2?tl(t,e):oT(t));bc([]);const rr=T6(bc("",{xml:!0}));function bT(t){let e,r=t[1](t[0]).text()+"",i;return{c(){e=Fe("code"),i=Se(r)},l(n){e=He(n,"CODE",{});var s=$e(e);i=we(s,r),s.forEach(q)},m(n,s){J(n,e,s),et(e,i)},p(n,[s]){s&3&&r!==(r=n[1](n[0]).text()+"")&&bt(i,r)},i:Ft,o:Ft,d(n){n&&q(e)}}}function TT(t,e,r){let i;fr(t,rr,s=>r(1,i=s));let{element:n}=e;return t.$$set=s=>{"element"in s&&r(0,n=s.element)},[n,i]}let og=class extends Tt{constructor(e){super(),vt(this,e,TT,bT,Et,{element:0})}};function vT(t){let e,r,i;return r=new Tl({props:{element:t[0]}}),{c(){e=Fe("em"),ge(r.$$.fragment)},l(n){e=He(n,"EM",{});var s=$e(e);be(r.$$.fragment,s),s.forEach(q)},m(n,s){J(n,e,s),Te(r,e,null),i=!0},p(n,[s]){const a={};s&1&&(a.element=n[0]),r.$set(a)},i(n){i||(H(r.$$.fragment,n),i=!0)},o(n){V(r.$$.fragment,n),i=!1},d(n){n&&q(e),ve(r)}}}function ET(t,e,r){let{element:i}=e;return t.$$set=n=>{"element"in n&&r(0,i=n.element)},[i]}class lg extends Tt{constructor(e){super(),vt(this,e,ET,vT,Et,{element:0})}}function yT(t){let e,r;return{c(){e=Fe("img"),this.h()},l(i){e=He(i,"IMG",{style:!0,src:!0,alt:!0}),this.h()},h(){Os(e,"max-width","100%"),Sh(e.src,r=t[0])||Nt(e,"src",r),Nt(e,"alt",t[1])},m(i,n){J(i,e,n)},p(i,[n]){n&1&&!Sh(e.src,r=i[0])&&Nt(e,"src",r),n&2&&Nt(e,"alt",i[1])},i:Ft,o:Ft,d(i){i&&q(e)}}}function AT(t,e,r){let i,n;fr(t,rr,o=>r(3,n=o));let{element:s}=e,a;return t.$$set=o=>{"element"in o&&r(2,s=o.element)},t.$$.update=()=>{t.$$.dirty&12&&(n(s).attr("remote")?r(0,a=n(s).attr("remote")+"/"+n(s).attr("source")):r(0,a="./"+n(s).attr("source"))),t.$$.dirty&12&&r(1,i=n(s).attr("description"))},[a,i,s,n]}class xT extends Tt{constructor(e){super(),vt(this,e,AT,yT,Et,{element:2})}}class lr{constructor(e,r,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=i}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new lr(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class vr{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new vr(r,lr.range(this,e))}}class j{constructor(e,r){this.position=void 0;var i="KaTeX parse error: "+e,n,s=r&&r.loc;if(s&&s.start<=s.end){var a=s.lexer.input;n=s.start;var o=s.end;n===a.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var l=a.slice(n,o).replace(/[^]/g,"$&̲"),u;n>15?u="…"+a.slice(n-15,n):u=a.slice(0,n);var c;o+15<a.length?c=a.slice(o,o+15)+"…":c=a.slice(o),i+=u+l+c}var h=new Error(i);return h.name="ParseError",h.__proto__=j.prototype,h.position=n,h}}j.prototype.__proto__=Error.prototype;var ST=function(e,r){return e.indexOf(r)!==-1},wT=function(e,r){return e===void 0?r:e},CT=/([A-Z])/g,kT=function(e){return e.replace(CT,"-$1").toLowerCase()},_T={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},OT=/[&><"']/g;function NT(t){return String(t).replace(OT,e=>_T[e])}var ug=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},IT=function(e){var r=ug(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},MT=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},DT=function(e){var r=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return r!=null?r[1]:"_relative"},de={contains:ST,deflt:wT,escape:NT,hyphenate:kT,getBaseElem:ug,isCharacterBox:IT,protocolFromUrl:DT},Xa={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function RT(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Tc{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in Xa)if(Xa.hasOwnProperty(r)){var i=Xa[r];this[r]=e[r]!==void 0?i.processor?i.processor(e[r]):e[r]:RT(i)}}reportNonstrict(e,r,i){var n=this.strict;if(typeof n=="function"&&(n=n(e,r,i)),!(!n||n==="ignore")){if(n===!0||n==="error")throw new j("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),i);n==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,i){var n=this.strict;if(typeof n=="function")try{n=n(e,r,i)}catch{n="error"}return!n||n==="ignore"?!1:n===!0||n==="error"?!0:n==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+r+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=de.protocolFromUrl(e.url));var r=typeof this.trust=="function"?this.trust(e):this.trust;return Boolean(r)}}class Ti{constructor(e,r,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=i}sup(){return Pr[LT[this.id]]}sub(){return Pr[PT[this.id]]}fracNum(){return Pr[BT[this.id]]}fracDen(){return Pr[FT[this.id]]}cramp(){return Pr[HT[this.id]]}text(){return Pr[UT[this.id]]}isTight(){return this.size>=2}}var vc=0,bo=1,In=2,oi=3,Rs=4,Er=5,Un=6,$t=7,Pr=[new Ti(vc,0,!1),new Ti(bo,0,!0),new Ti(In,1,!1),new Ti(oi,1,!0),new Ti(Rs,2,!1),new Ti(Er,2,!0),new Ti(Un,3,!1),new Ti($t,3,!0)],LT=[Rs,Er,Rs,Er,Un,$t,Un,$t],PT=[Er,Er,Er,Er,$t,$t,$t,$t],BT=[In,oi,Rs,Er,Un,$t,Un,$t],FT=[oi,oi,Er,Er,$t,$t,$t,$t],HT=[bo,bo,oi,oi,Er,Er,$t,$t],UT=[vc,bo,In,oi,In,oi,In,oi],he={DISPLAY:Pr[vc],TEXT:Pr[In],SCRIPT:Pr[Rs],SCRIPTSCRIPT:Pr[Un]},X0=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function zT(t){for(var e=0;e<X0.length;e++)for(var r=X0[e],i=0;i<r.blocks.length;i++){var n=r.blocks[i];if(t>=n[0]&&t<=n[1])return r.name}return null}var Ka=[];X0.forEach(t=>t.blocks.forEach(e=>Ka.push(...e)));function cg(t){for(var e=0;e<Ka.length;e+=2)if(t>=Ka[e]&&t<=Ka[e+1])return!0;return!1}var En=80,$T=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},qT=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},VT=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},WT=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},YT=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},GT=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},XT=function(e,r,i){var n=i-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+n+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},KT=function(e,r,i){r=1e3*r;var n="";switch(e){case"sqrtMain":n=$T(r,En);break;case"sqrtSize1":n=qT(r,En);break;case"sqrtSize2":n=VT(r,En);break;case"sqrtSize3":n=WT(r,En);break;case"sqrtSize4":n=YT(r,En);break;case"sqrtTall":n=XT(r,En,i)}return n},jT=function(e,r){switch(e){case"⎜":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"∣":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"∥":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"⎟":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"⎢":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"⎥":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"⎪":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"⏐":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"‖":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},lf={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},QT=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Js{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return de.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var Ur={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},ga={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},uf={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function JT(t,e){Ur[t]=e}function Ec(t,e,r){if(!Ur[e])throw new Error("Font metrics not found for font: "+e+".");var i=t.charCodeAt(0),n=Ur[e][i];if(!n&&t[0]in uf&&(i=uf[t[0]].charCodeAt(0),n=Ur[e][i]),!n&&r==="text"&&cg(i)&&(n=Ur[e][77]),n)return{depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]}}var Xl={};function ZT(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Xl[e]){var r=Xl[e]={cssEmPerMu:ga.quad[e]/18};for(var i in ga)ga.hasOwnProperty(i)&&(r[i]=ga[i][e])}return Xl[e]}var ev=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],cf=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],hf=function(e,r){return r.size<2?e:ev[e-1][r.size-1]};class ii{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||ii.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=cf[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return new ii(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:hf(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:cf[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=hf(ii.BASESIZE,e);return this.size===r&&this.textSize===ii.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ii.BASESIZE?["sizing","reset-size"+this.size,"size"+ii.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=ZT(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}ii.BASESIZE=6;var K0={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},tv={ex:!0,em:!0,mu:!0},hg=function(e){return typeof e!="string"&&(e=e.unit),e in K0||e in tv||e==="ex"},st=function(e,r){var i;if(e.unit in K0)i=K0[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")i=r.fontMetrics().cssEmPerMu;else{var n;if(r.style.isTight()?n=r.havingStyle(r.style.text()):n=r,e.unit==="ex")i=n.fontMetrics().xHeight;else if(e.unit==="em")i=n.fontMetrics().quad;else throw new j("Invalid unit: '"+e.unit+"'");n!==r&&(i*=n.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*i,r.maxSize)},Z=function(e){return+e.toFixed(4)+"em"},Ri=function(e){return e.filter(r=>r).join(" ")},fg=function(e,r,i){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},r){r.style.isTight()&&this.classes.push("mtight");var n=r.getColor();n&&(this.style.color=n)}},dg=function(e){var r=document.createElement(e);r.className=Ri(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(r.style[i]=this.style[i]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&r.setAttribute(n,this.attributes[n]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r},mg=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+de.escape(Ri(this.classes))+'"');var i="";for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=de.hyphenate(n)+":"+this.style[n]+";");i&&(r+=' style="'+de.escape(i)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(r+=" "+s+'="'+de.escape(this.attributes[s])+'"');r+=">";for(var a=0;a<this.children.length;a++)r+=this.children[a].toMarkup();return r+="</"+e+">",r};class Zs{constructor(e,r,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,fg.call(this,e,i,n),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return de.contains(this.classes,e)}toNode(){return dg.call(this,"span")}toMarkup(){return mg.call(this,"span")}}class yc{constructor(e,r,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,fg.call(this,r,n),this.children=i||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return de.contains(this.classes,e)}toNode(){return dg.call(this,"a")}toMarkup(){return mg.call(this,"a")}}class rv{constructor(e,r,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=i}hasClass(e){return de.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=de.hyphenate(i)+":"+this.style[i]+";");return r&&(e+=' style="'+de.escape(r)+'"'),e+="'/>",e}}var iv={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Ar{constructor(e,r,i,n,s,a,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=i||0,this.italic=n||0,this.skew=s||0,this.width=a||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=zT(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=iv[this.text])}hasClass(e){return de.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=Z(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Ri(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(r=r||document.createElement("span"),r.style[i]=this.style[i]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=de.escape(Ri(this.classes)),r+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=de.hyphenate(n)+":"+this.style[n]+";");i&&(e=!0,r+=' style="'+de.escape(i)+'"');var s=de.escape(this.text);return e?(r+=">",r+=s,r+="</span>",r):s}}class ci{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&r.setAttribute(i,this.attributes[i]);for(var n=0;n<this.children.length;n++)r.appendChild(this.children[n].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+"='"+this.attributes[r]+"'");e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</svg>",e}}class Li{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",lf[this.pathName]),r}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+lf[this.pathName]+"'/>"}}class j0{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&r.setAttribute(i,this.attributes[i]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+"='"+this.attributes[r]+"'");return e+="/>",e}}function ff(t){if(t instanceof Ar)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function nv(t){if(t instanceof Zs)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var sv={bin:1,close:1,inner:1,open:1,punct:1,rel:1},av={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},je={math:{},text:{}};function d(t,e,r,i,n,s){je[t][n]={font:e,group:r,replace:i},s&&i&&(je[t][i]=je[t][n])}var g="math",G="text",T="main",w="ams",rt="accent-token",re="bin",Yt="close",Qn="inner",fe="mathord",yt="op-token",dr="open",fl="punct",C="rel",pi="spacing",O="textord";d(g,T,C,"≡","\\equiv",!0);d(g,T,C,"≺","\\prec",!0);d(g,T,C,"≻","\\succ",!0);d(g,T,C,"∼","\\sim",!0);d(g,T,C,"⊥","\\perp");d(g,T,C,"⪯","\\preceq",!0);d(g,T,C,"⪰","\\succeq",!0);d(g,T,C,"≃","\\simeq",!0);d(g,T,C,"∣","\\mid",!0);d(g,T,C,"≪","\\ll",!0);d(g,T,C,"≫","\\gg",!0);d(g,T,C,"≍","\\asymp",!0);d(g,T,C,"∥","\\parallel");d(g,T,C,"⋈","\\bowtie",!0);d(g,T,C,"⌣","\\smile",!0);d(g,T,C,"⊑","\\sqsubseteq",!0);d(g,T,C,"⊒","\\sqsupseteq",!0);d(g,T,C,"≐","\\doteq",!0);d(g,T,C,"⌢","\\frown",!0);d(g,T,C,"∋","\\ni",!0);d(g,T,C,"∝","\\propto",!0);d(g,T,C,"⊢","\\vdash",!0);d(g,T,C,"⊣","\\dashv",!0);d(g,T,C,"∋","\\owns");d(g,T,fl,".","\\ldotp");d(g,T,fl,"⋅","\\cdotp");d(g,T,O,"#","\\#");d(G,T,O,"#","\\#");d(g,T,O,"&","\\&");d(G,T,O,"&","\\&");d(g,T,O,"ℵ","\\aleph",!0);d(g,T,O,"∀","\\forall",!0);d(g,T,O,"ℏ","\\hbar",!0);d(g,T,O,"∃","\\exists",!0);d(g,T,O,"∇","\\nabla",!0);d(g,T,O,"♭","\\flat",!0);d(g,T,O,"ℓ","\\ell",!0);d(g,T,O,"♮","\\natural",!0);d(g,T,O,"♣","\\clubsuit",!0);d(g,T,O,"℘","\\wp",!0);d(g,T,O,"♯","\\sharp",!0);d(g,T,O,"♢","\\diamondsuit",!0);d(g,T,O,"ℜ","\\Re",!0);d(g,T,O,"♡","\\heartsuit",!0);d(g,T,O,"ℑ","\\Im",!0);d(g,T,O,"♠","\\spadesuit",!0);d(g,T,O,"§","\\S",!0);d(G,T,O,"§","\\S");d(g,T,O,"¶","\\P",!0);d(G,T,O,"¶","\\P");d(g,T,O,"†","\\dag");d(G,T,O,"†","\\dag");d(G,T,O,"†","\\textdagger");d(g,T,O,"‡","\\ddag");d(G,T,O,"‡","\\ddag");d(G,T,O,"‡","\\textdaggerdbl");d(g,T,Yt,"⎱","\\rmoustache",!0);d(g,T,dr,"⎰","\\lmoustache",!0);d(g,T,Yt,"⟯","\\rgroup",!0);d(g,T,dr,"⟮","\\lgroup",!0);d(g,T,re,"∓","\\mp",!0);d(g,T,re,"⊖","\\ominus",!0);d(g,T,re,"⊎","\\uplus",!0);d(g,T,re,"⊓","\\sqcap",!0);d(g,T,re,"∗","\\ast");d(g,T,re,"⊔","\\sqcup",!0);d(g,T,re,"◯","\\bigcirc",!0);d(g,T,re,"∙","\\bullet",!0);d(g,T,re,"‡","\\ddagger");d(g,T,re,"≀","\\wr",!0);d(g,T,re,"⨿","\\amalg");d(g,T,re,"&","\\And");d(g,T,C,"⟵","\\longleftarrow",!0);d(g,T,C,"⇐","\\Leftarrow",!0);d(g,T,C,"⟸","\\Longleftarrow",!0);d(g,T,C,"⟶","\\longrightarrow",!0);d(g,T,C,"⇒","\\Rightarrow",!0);d(g,T,C,"⟹","\\Longrightarrow",!0);d(g,T,C,"↔","\\leftrightarrow",!0);d(g,T,C,"⟷","\\longleftrightarrow",!0);d(g,T,C,"⇔","\\Leftrightarrow",!0);d(g,T,C,"⟺","\\Longleftrightarrow",!0);d(g,T,C,"↦","\\mapsto",!0);d(g,T,C,"⟼","\\longmapsto",!0);d(g,T,C,"↗","\\nearrow",!0);d(g,T,C,"↩","\\hookleftarrow",!0);d(g,T,C,"↪","\\hookrightarrow",!0);d(g,T,C,"↘","\\searrow",!0);d(g,T,C,"↼","\\leftharpoonup",!0);d(g,T,C,"⇀","\\rightharpoonup",!0);d(g,T,C,"↙","\\swarrow",!0);d(g,T,C,"↽","\\leftharpoondown",!0);d(g,T,C,"⇁","\\rightharpoondown",!0);d(g,T,C,"↖","\\nwarrow",!0);d(g,T,C,"⇌","\\rightleftharpoons",!0);d(g,w,C,"≮","\\nless",!0);d(g,w,C,"","\\@nleqslant");d(g,w,C,"","\\@nleqq");d(g,w,C,"⪇","\\lneq",!0);d(g,w,C,"≨","\\lneqq",!0);d(g,w,C,"","\\@lvertneqq");d(g,w,C,"⋦","\\lnsim",!0);d(g,w,C,"⪉","\\lnapprox",!0);d(g,w,C,"⊀","\\nprec",!0);d(g,w,C,"⋠","\\npreceq",!0);d(g,w,C,"⋨","\\precnsim",!0);d(g,w,C,"⪹","\\precnapprox",!0);d(g,w,C,"≁","\\nsim",!0);d(g,w,C,"","\\@nshortmid");d(g,w,C,"∤","\\nmid",!0);d(g,w,C,"⊬","\\nvdash",!0);d(g,w,C,"⊭","\\nvDash",!0);d(g,w,C,"⋪","\\ntriangleleft");d(g,w,C,"⋬","\\ntrianglelefteq",!0);d(g,w,C,"⊊","\\subsetneq",!0);d(g,w,C,"","\\@varsubsetneq");d(g,w,C,"⫋","\\subsetneqq",!0);d(g,w,C,"","\\@varsubsetneqq");d(g,w,C,"≯","\\ngtr",!0);d(g,w,C,"","\\@ngeqslant");d(g,w,C,"","\\@ngeqq");d(g,w,C,"⪈","\\gneq",!0);d(g,w,C,"≩","\\gneqq",!0);d(g,w,C,"","\\@gvertneqq");d(g,w,C,"⋧","\\gnsim",!0);d(g,w,C,"⪊","\\gnapprox",!0);d(g,w,C,"⊁","\\nsucc",!0);d(g,w,C,"⋡","\\nsucceq",!0);d(g,w,C,"⋩","\\succnsim",!0);d(g,w,C,"⪺","\\succnapprox",!0);d(g,w,C,"≆","\\ncong",!0);d(g,w,C,"","\\@nshortparallel");d(g,w,C,"∦","\\nparallel",!0);d(g,w,C,"⊯","\\nVDash",!0);d(g,w,C,"⋫","\\ntriangleright");d(g,w,C,"⋭","\\ntrianglerighteq",!0);d(g,w,C,"","\\@nsupseteqq");d(g,w,C,"⊋","\\supsetneq",!0);d(g,w,C,"","\\@varsupsetneq");d(g,w,C,"⫌","\\supsetneqq",!0);d(g,w,C,"","\\@varsupsetneqq");d(g,w,C,"⊮","\\nVdash",!0);d(g,w,C,"⪵","\\precneqq",!0);d(g,w,C,"⪶","\\succneqq",!0);d(g,w,C,"","\\@nsubseteqq");d(g,w,re,"⊴","\\unlhd");d(g,w,re,"⊵","\\unrhd");d(g,w,C,"↚","\\nleftarrow",!0);d(g,w,C,"↛","\\nrightarrow",!0);d(g,w,C,"⇍","\\nLeftarrow",!0);d(g,w,C,"⇏","\\nRightarrow",!0);d(g,w,C,"↮","\\nleftrightarrow",!0);d(g,w,C,"⇎","\\nLeftrightarrow",!0);d(g,w,C,"△","\\vartriangle");d(g,w,O,"ℏ","\\hslash");d(g,w,O,"▽","\\triangledown");d(g,w,O,"◊","\\lozenge");d(g,w,O,"Ⓢ","\\circledS");d(g,w,O,"®","\\circledR");d(G,w,O,"®","\\circledR");d(g,w,O,"∡","\\measuredangle",!0);d(g,w,O,"∄","\\nexists");d(g,w,O,"℧","\\mho");d(g,w,O,"Ⅎ","\\Finv",!0);d(g,w,O,"⅁","\\Game",!0);d(g,w,O,"‵","\\backprime");d(g,w,O,"▲","\\blacktriangle");d(g,w,O,"▼","\\blacktriangledown");d(g,w,O,"■","\\blacksquare");d(g,w,O,"⧫","\\blacklozenge");d(g,w,O,"★","\\bigstar");d(g,w,O,"∢","\\sphericalangle",!0);d(g,w,O,"∁","\\complement",!0);d(g,w,O,"ð","\\eth",!0);d(G,T,O,"ð","ð");d(g,w,O,"╱","\\diagup");d(g,w,O,"╲","\\diagdown");d(g,w,O,"□","\\square");d(g,w,O,"□","\\Box");d(g,w,O,"◊","\\Diamond");d(g,w,O,"¥","\\yen",!0);d(G,w,O,"¥","\\yen",!0);d(g,w,O,"✓","\\checkmark",!0);d(G,w,O,"✓","\\checkmark");d(g,w,O,"ℶ","\\beth",!0);d(g,w,O,"ℸ","\\daleth",!0);d(g,w,O,"ℷ","\\gimel",!0);d(g,w,O,"ϝ","\\digamma",!0);d(g,w,O,"ϰ","\\varkappa");d(g,w,dr,"┌","\\@ulcorner",!0);d(g,w,Yt,"┐","\\@urcorner",!0);d(g,w,dr,"└","\\@llcorner",!0);d(g,w,Yt,"┘","\\@lrcorner",!0);d(g,w,C,"≦","\\leqq",!0);d(g,w,C,"⩽","\\leqslant",!0);d(g,w,C,"⪕","\\eqslantless",!0);d(g,w,C,"≲","\\lesssim",!0);d(g,w,C,"⪅","\\lessapprox",!0);d(g,w,C,"≊","\\approxeq",!0);d(g,w,re,"⋖","\\lessdot");d(g,w,C,"⋘","\\lll",!0);d(g,w,C,"≶","\\lessgtr",!0);d(g,w,C,"⋚","\\lesseqgtr",!0);d(g,w,C,"⪋","\\lesseqqgtr",!0);d(g,w,C,"≑","\\doteqdot");d(g,w,C,"≓","\\risingdotseq",!0);d(g,w,C,"≒","\\fallingdotseq",!0);d(g,w,C,"∽","\\backsim",!0);d(g,w,C,"⋍","\\backsimeq",!0);d(g,w,C,"⫅","\\subseteqq",!0);d(g,w,C,"⋐","\\Subset",!0);d(g,w,C,"⊏","\\sqsubset",!0);d(g,w,C,"≼","\\preccurlyeq",!0);d(g,w,C,"⋞","\\curlyeqprec",!0);d(g,w,C,"≾","\\precsim",!0);d(g,w,C,"⪷","\\precapprox",!0);d(g,w,C,"⊲","\\vartriangleleft");d(g,w,C,"⊴","\\trianglelefteq");d(g,w,C,"⊨","\\vDash",!0);d(g,w,C,"⊪","\\Vvdash",!0);d(g,w,C,"⌣","\\smallsmile");d(g,w,C,"⌢","\\smallfrown");d(g,w,C,"≏","\\bumpeq",!0);d(g,w,C,"≎","\\Bumpeq",!0);d(g,w,C,"≧","\\geqq",!0);d(g,w,C,"⩾","\\geqslant",!0);d(g,w,C,"⪖","\\eqslantgtr",!0);d(g,w,C,"≳","\\gtrsim",!0);d(g,w,C,"⪆","\\gtrapprox",!0);d(g,w,re,"⋗","\\gtrdot");d(g,w,C,"⋙","\\ggg",!0);d(g,w,C,"≷","\\gtrless",!0);d(g,w,C,"⋛","\\gtreqless",!0);d(g,w,C,"⪌","\\gtreqqless",!0);d(g,w,C,"≖","\\eqcirc",!0);d(g,w,C,"≗","\\circeq",!0);d(g,w,C,"≜","\\triangleq",!0);d(g,w,C,"∼","\\thicksim");d(g,w,C,"≈","\\thickapprox");d(g,w,C,"⫆","\\supseteqq",!0);d(g,w,C,"⋑","\\Supset",!0);d(g,w,C,"⊐","\\sqsupset",!0);d(g,w,C,"≽","\\succcurlyeq",!0);d(g,w,C,"⋟","\\curlyeqsucc",!0);d(g,w,C,"≿","\\succsim",!0);d(g,w,C,"⪸","\\succapprox",!0);d(g,w,C,"⊳","\\vartriangleright");d(g,w,C,"⊵","\\trianglerighteq");d(g,w,C,"⊩","\\Vdash",!0);d(g,w,C,"∣","\\shortmid");d(g,w,C,"∥","\\shortparallel");d(g,w,C,"≬","\\between",!0);d(g,w,C,"⋔","\\pitchfork",!0);d(g,w,C,"∝","\\varpropto");d(g,w,C,"◀","\\blacktriangleleft");d(g,w,C,"∴","\\therefore",!0);d(g,w,C,"∍","\\backepsilon");d(g,w,C,"▶","\\blacktriangleright");d(g,w,C,"∵","\\because",!0);d(g,w,C,"⋘","\\llless");d(g,w,C,"⋙","\\gggtr");d(g,w,re,"⊲","\\lhd");d(g,w,re,"⊳","\\rhd");d(g,w,C,"≂","\\eqsim",!0);d(g,T,C,"⋈","\\Join");d(g,w,C,"≑","\\Doteq",!0);d(g,w,re,"∔","\\dotplus",!0);d(g,w,re,"∖","\\smallsetminus");d(g,w,re,"⋒","\\Cap",!0);d(g,w,re,"⋓","\\Cup",!0);d(g,w,re,"⩞","\\doublebarwedge",!0);d(g,w,re,"⊟","\\boxminus",!0);d(g,w,re,"⊞","\\boxplus",!0);d(g,w,re,"⋇","\\divideontimes",!0);d(g,w,re,"⋉","\\ltimes",!0);d(g,w,re,"⋊","\\rtimes",!0);d(g,w,re,"⋋","\\leftthreetimes",!0);d(g,w,re,"⋌","\\rightthreetimes",!0);d(g,w,re,"⋏","\\curlywedge",!0);d(g,w,re,"⋎","\\curlyvee",!0);d(g,w,re,"⊝","\\circleddash",!0);d(g,w,re,"⊛","\\circledast",!0);d(g,w,re,"⋅","\\centerdot");d(g,w,re,"⊺","\\intercal",!0);d(g,w,re,"⋒","\\doublecap");d(g,w,re,"⋓","\\doublecup");d(g,w,re,"⊠","\\boxtimes",!0);d(g,w,C,"⇢","\\dashrightarrow",!0);d(g,w,C,"⇠","\\dashleftarrow",!0);d(g,w,C,"⇇","\\leftleftarrows",!0);d(g,w,C,"⇆","\\leftrightarrows",!0);d(g,w,C,"⇚","\\Lleftarrow",!0);d(g,w,C,"↞","\\twoheadleftarrow",!0);d(g,w,C,"↢","\\leftarrowtail",!0);d(g,w,C,"↫","\\looparrowleft",!0);d(g,w,C,"⇋","\\leftrightharpoons",!0);d(g,w,C,"↶","\\curvearrowleft",!0);d(g,w,C,"↺","\\circlearrowleft",!0);d(g,w,C,"↰","\\Lsh",!0);d(g,w,C,"⇈","\\upuparrows",!0);d(g,w,C,"↿","\\upharpoonleft",!0);d(g,w,C,"⇃","\\downharpoonleft",!0);d(g,T,C,"⊶","\\origof",!0);d(g,T,C,"⊷","\\imageof",!0);d(g,w,C,"⊸","\\multimap",!0);d(g,w,C,"↭","\\leftrightsquigarrow",!0);d(g,w,C,"⇉","\\rightrightarrows",!0);d(g,w,C,"⇄","\\rightleftarrows",!0);d(g,w,C,"↠","\\twoheadrightarrow",!0);d(g,w,C,"↣","\\rightarrowtail",!0);d(g,w,C,"↬","\\looparrowright",!0);d(g,w,C,"↷","\\curvearrowright",!0);d(g,w,C,"↻","\\circlearrowright",!0);d(g,w,C,"↱","\\Rsh",!0);d(g,w,C,"⇊","\\downdownarrows",!0);d(g,w,C,"↾","\\upharpoonright",!0);d(g,w,C,"⇂","\\downharpoonright",!0);d(g,w,C,"⇝","\\rightsquigarrow",!0);d(g,w,C,"⇝","\\leadsto");d(g,w,C,"⇛","\\Rrightarrow",!0);d(g,w,C,"↾","\\restriction");d(g,T,O,"‘","`");d(g,T,O,"$","\\$");d(G,T,O,"$","\\$");d(G,T,O,"$","\\textdollar");d(g,T,O,"%","\\%");d(G,T,O,"%","\\%");d(g,T,O,"_","\\_");d(G,T,O,"_","\\_");d(G,T,O,"_","\\textunderscore");d(g,T,O,"∠","\\angle",!0);d(g,T,O,"∞","\\infty",!0);d(g,T,O,"′","\\prime");d(g,T,O,"△","\\triangle");d(g,T,O,"Γ","\\Gamma",!0);d(g,T,O,"Δ","\\Delta",!0);d(g,T,O,"Θ","\\Theta",!0);d(g,T,O,"Λ","\\Lambda",!0);d(g,T,O,"Ξ","\\Xi",!0);d(g,T,O,"Π","\\Pi",!0);d(g,T,O,"Σ","\\Sigma",!0);d(g,T,O,"Υ","\\Upsilon",!0);d(g,T,O,"Φ","\\Phi",!0);d(g,T,O,"Ψ","\\Psi",!0);d(g,T,O,"Ω","\\Omega",!0);d(g,T,O,"A","Α");d(g,T,O,"B","Β");d(g,T,O,"E","Ε");d(g,T,O,"Z","Ζ");d(g,T,O,"H","Η");d(g,T,O,"I","Ι");d(g,T,O,"K","Κ");d(g,T,O,"M","Μ");d(g,T,O,"N","Ν");d(g,T,O,"O","Ο");d(g,T,O,"P","Ρ");d(g,T,O,"T","Τ");d(g,T,O,"X","Χ");d(g,T,O,"¬","\\neg",!0);d(g,T,O,"¬","\\lnot");d(g,T,O,"⊤","\\top");d(g,T,O,"⊥","\\bot");d(g,T,O,"∅","\\emptyset");d(g,w,O,"∅","\\varnothing");d(g,T,fe,"α","\\alpha",!0);d(g,T,fe,"β","\\beta",!0);d(g,T,fe,"γ","\\gamma",!0);d(g,T,fe,"δ","\\delta",!0);d(g,T,fe,"ϵ","\\epsilon",!0);d(g,T,fe,"ζ","\\zeta",!0);d(g,T,fe,"η","\\eta",!0);d(g,T,fe,"θ","\\theta",!0);d(g,T,fe,"ι","\\iota",!0);d(g,T,fe,"κ","\\kappa",!0);d(g,T,fe,"λ","\\lambda",!0);d(g,T,fe,"μ","\\mu",!0);d(g,T,fe,"ν","\\nu",!0);d(g,T,fe,"ξ","\\xi",!0);d(g,T,fe,"ο","\\omicron",!0);d(g,T,fe,"π","\\pi",!0);d(g,T,fe,"ρ","\\rho",!0);d(g,T,fe,"σ","\\sigma",!0);d(g,T,fe,"τ","\\tau",!0);d(g,T,fe,"υ","\\upsilon",!0);d(g,T,fe,"ϕ","\\phi",!0);d(g,T,fe,"χ","\\chi",!0);d(g,T,fe,"ψ","\\psi",!0);d(g,T,fe,"ω","\\omega",!0);d(g,T,fe,"ε","\\varepsilon",!0);d(g,T,fe,"ϑ","\\vartheta",!0);d(g,T,fe,"ϖ","\\varpi",!0);d(g,T,fe,"ϱ","\\varrho",!0);d(g,T,fe,"ς","\\varsigma",!0);d(g,T,fe,"φ","\\varphi",!0);d(g,T,re,"∗","*",!0);d(g,T,re,"+","+");d(g,T,re,"−","-",!0);d(g,T,re,"⋅","\\cdot",!0);d(g,T,re,"∘","\\circ",!0);d(g,T,re,"÷","\\div",!0);d(g,T,re,"±","\\pm",!0);d(g,T,re,"×","\\times",!0);d(g,T,re,"∩","\\cap",!0);d(g,T,re,"∪","\\cup",!0);d(g,T,re,"∖","\\setminus",!0);d(g,T,re,"∧","\\land");d(g,T,re,"∨","\\lor");d(g,T,re,"∧","\\wedge",!0);d(g,T,re,"∨","\\vee",!0);d(g,T,O,"√","\\surd");d(g,T,dr,"⟨","\\langle",!0);d(g,T,dr,"∣","\\lvert");d(g,T,dr,"∥","\\lVert");d(g,T,Yt,"?","?");d(g,T,Yt,"!","!");d(g,T,Yt,"⟩","\\rangle",!0);d(g,T,Yt,"∣","\\rvert");d(g,T,Yt,"∥","\\rVert");d(g,T,C,"=","=");d(g,T,C,":",":");d(g,T,C,"≈","\\approx",!0);d(g,T,C,"≅","\\cong",!0);d(g,T,C,"≥","\\ge");d(g,T,C,"≥","\\geq",!0);d(g,T,C,"←","\\gets");d(g,T,C,">","\\gt",!0);d(g,T,C,"∈","\\in",!0);d(g,T,C,"","\\@not");d(g,T,C,"⊂","\\subset",!0);d(g,T,C,"⊃","\\supset",!0);d(g,T,C,"⊆","\\subseteq",!0);d(g,T,C,"⊇","\\supseteq",!0);d(g,w,C,"⊈","\\nsubseteq",!0);d(g,w,C,"⊉","\\nsupseteq",!0);d(g,T,C,"⊨","\\models");d(g,T,C,"←","\\leftarrow",!0);d(g,T,C,"≤","\\le");d(g,T,C,"≤","\\leq",!0);d(g,T,C,"<","\\lt",!0);d(g,T,C,"→","\\rightarrow",!0);d(g,T,C,"→","\\to");d(g,w,C,"≱","\\ngeq",!0);d(g,w,C,"≰","\\nleq",!0);d(g,T,pi," ","\\ ");d(g,T,pi," ","\\space");d(g,T,pi," ","\\nobreakspace");d(G,T,pi," ","\\ ");d(G,T,pi," "," ");d(G,T,pi," ","\\space");d(G,T,pi," ","\\nobreakspace");d(g,T,pi,null,"\\nobreak");d(g,T,pi,null,"\\allowbreak");d(g,T,fl,",",",");d(g,T,fl,";",";");d(g,w,re,"⊼","\\barwedge",!0);d(g,w,re,"⊻","\\veebar",!0);d(g,T,re,"⊙","\\odot",!0);d(g,T,re,"⊕","\\oplus",!0);d(g,T,re,"⊗","\\otimes",!0);d(g,T,O,"∂","\\partial",!0);d(g,T,re,"⊘","\\oslash",!0);d(g,w,re,"⊚","\\circledcirc",!0);d(g,w,re,"⊡","\\boxdot",!0);d(g,T,re,"△","\\bigtriangleup");d(g,T,re,"▽","\\bigtriangledown");d(g,T,re,"†","\\dagger");d(g,T,re,"⋄","\\diamond");d(g,T,re,"⋆","\\star");d(g,T,re,"◃","\\triangleleft");d(g,T,re,"▹","\\triangleright");d(g,T,dr,"{","\\{");d(G,T,O,"{","\\{");d(G,T,O,"{","\\textbraceleft");d(g,T,Yt,"}","\\}");d(G,T,O,"}","\\}");d(G,T,O,"}","\\textbraceright");d(g,T,dr,"{","\\lbrace");d(g,T,Yt,"}","\\rbrace");d(g,T,dr,"[","\\lbrack",!0);d(G,T,O,"[","\\lbrack",!0);d(g,T,Yt,"]","\\rbrack",!0);d(G,T,O,"]","\\rbrack",!0);d(g,T,dr,"(","\\lparen",!0);d(g,T,Yt,")","\\rparen",!0);d(G,T,O,"<","\\textless",!0);d(G,T,O,">","\\textgreater",!0);d(g,T,dr,"⌊","\\lfloor",!0);d(g,T,Yt,"⌋","\\rfloor",!0);d(g,T,dr,"⌈","\\lceil",!0);d(g,T,Yt,"⌉","\\rceil",!0);d(g,T,O,"\\","\\backslash");d(g,T,O,"∣","|");d(g,T,O,"∣","\\vert");d(G,T,O,"|","\\textbar",!0);d(g,T,O,"∥","\\|");d(g,T,O,"∥","\\Vert");d(G,T,O,"∥","\\textbardbl");d(G,T,O,"~","\\textasciitilde");d(G,T,O,"\\","\\textbackslash");d(G,T,O,"^","\\textasciicircum");d(g,T,C,"↑","\\uparrow",!0);d(g,T,C,"⇑","\\Uparrow",!0);d(g,T,C,"↓","\\downarrow",!0);d(g,T,C,"⇓","\\Downarrow",!0);d(g,T,C,"↕","\\updownarrow",!0);d(g,T,C,"⇕","\\Updownarrow",!0);d(g,T,yt,"∐","\\coprod");d(g,T,yt,"⋁","\\bigvee");d(g,T,yt,"⋀","\\bigwedge");d(g,T,yt,"⨄","\\biguplus");d(g,T,yt,"⋂","\\bigcap");d(g,T,yt,"⋃","\\bigcup");d(g,T,yt,"∫","\\int");d(g,T,yt,"∫","\\intop");d(g,T,yt,"∬","\\iint");d(g,T,yt,"∭","\\iiint");d(g,T,yt,"∏","\\prod");d(g,T,yt,"∑","\\sum");d(g,T,yt,"⨂","\\bigotimes");d(g,T,yt,"⨁","\\bigoplus");d(g,T,yt,"⨀","\\bigodot");d(g,T,yt,"∮","\\oint");d(g,T,yt,"∯","\\oiint");d(g,T,yt,"∰","\\oiiint");d(g,T,yt,"⨆","\\bigsqcup");d(g,T,yt,"∫","\\smallint");d(G,T,Qn,"…","\\textellipsis");d(g,T,Qn,"…","\\mathellipsis");d(G,T,Qn,"…","\\ldots",!0);d(g,T,Qn,"…","\\ldots",!0);d(g,T,Qn,"⋯","\\@cdots",!0);d(g,T,Qn,"⋱","\\ddots",!0);d(g,T,O,"⋮","\\varvdots");d(g,T,rt,"ˊ","\\acute");d(g,T,rt,"ˋ","\\grave");d(g,T,rt,"¨","\\ddot");d(g,T,rt,"~","\\tilde");d(g,T,rt,"ˉ","\\bar");d(g,T,rt,"˘","\\breve");d(g,T,rt,"ˇ","\\check");d(g,T,rt,"^","\\hat");d(g,T,rt,"⃗","\\vec");d(g,T,rt,"˙","\\dot");d(g,T,rt,"˚","\\mathring");d(g,T,fe,"","\\@imath");d(g,T,fe,"","\\@jmath");d(g,T,O,"ı","ı");d(g,T,O,"ȷ","ȷ");d(G,T,O,"ı","\\i",!0);d(G,T,O,"ȷ","\\j",!0);d(G,T,O,"ß","\\ss",!0);d(G,T,O,"æ","\\ae",!0);d(G,T,O,"œ","\\oe",!0);d(G,T,O,"ø","\\o",!0);d(G,T,O,"Æ","\\AE",!0);d(G,T,O,"Œ","\\OE",!0);d(G,T,O,"Ø","\\O",!0);d(G,T,rt,"ˊ","\\'");d(G,T,rt,"ˋ","\\`");d(G,T,rt,"ˆ","\\^");d(G,T,rt,"˜","\\~");d(G,T,rt,"ˉ","\\=");d(G,T,rt,"˘","\\u");d(G,T,rt,"˙","\\.");d(G,T,rt,"¸","\\c");d(G,T,rt,"˚","\\r");d(G,T,rt,"ˇ","\\v");d(G,T,rt,"¨",'\\"');d(G,T,rt,"˝","\\H");d(G,T,rt,"◯","\\textcircled");var pg={"--":!0,"---":!0,"``":!0,"''":!0};d(G,T,O,"–","--",!0);d(G,T,O,"–","\\textendash");d(G,T,O,"—","---",!0);d(G,T,O,"—","\\textemdash");d(G,T,O,"‘","`",!0);d(G,T,O,"‘","\\textquoteleft");d(G,T,O,"’","'",!0);d(G,T,O,"’","\\textquoteright");d(G,T,O,"“","``",!0);d(G,T,O,"“","\\textquotedblleft");d(G,T,O,"”","''",!0);d(G,T,O,"”","\\textquotedblright");d(g,T,O,"°","\\degree",!0);d(G,T,O,"°","\\degree");d(G,T,O,"°","\\textdegree",!0);d(g,T,O,"£","\\pounds");d(g,T,O,"£","\\mathsterling",!0);d(G,T,O,"£","\\pounds");d(G,T,O,"£","\\textsterling",!0);d(g,w,O,"✠","\\maltese");d(G,w,O,"✠","\\maltese");var df='0123456789/@."';for(var Kl=0;Kl<df.length;Kl++){var mf=df.charAt(Kl);d(g,T,O,mf,mf)}var pf='0123456789!@*()-=+";:?/.,';for(var jl=0;jl<pf.length;jl++){var gf=pf.charAt(jl);d(G,T,O,gf,gf)}var To="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Ql=0;Ql<To.length;Ql++){var ba=To.charAt(Ql);d(g,T,fe,ba,ba),d(G,T,O,ba,ba)}d(g,w,O,"C","ℂ");d(G,w,O,"C","ℂ");d(g,w,O,"H","ℍ");d(G,w,O,"H","ℍ");d(g,w,O,"N","ℕ");d(G,w,O,"N","ℕ");d(g,w,O,"P","ℙ");d(G,w,O,"P","ℙ");d(g,w,O,"Q","ℚ");d(G,w,O,"Q","ℚ");d(g,w,O,"R","ℝ");d(G,w,O,"R","ℝ");d(g,w,O,"Z","ℤ");d(G,w,O,"Z","ℤ");d(g,T,fe,"h","ℎ");d(G,T,fe,"h","ℎ");var pe="";for(var Kt=0;Kt<To.length;Kt++){var dt=To.charAt(Kt);pe=String.fromCharCode(55349,56320+Kt),d(g,T,fe,dt,pe),d(G,T,O,dt,pe),pe=String.fromCharCode(55349,56372+Kt),d(g,T,fe,dt,pe),d(G,T,O,dt,pe),pe=String.fromCharCode(55349,56424+Kt),d(g,T,fe,dt,pe),d(G,T,O,dt,pe),pe=String.fromCharCode(55349,56580+Kt),d(g,T,fe,dt,pe),d(G,T,O,dt,pe),pe=String.fromCharCode(55349,56736+Kt),d(g,T,fe,dt,pe),d(G,T,O,dt,pe),pe=String.fromCharCode(55349,56788+Kt),d(g,T,fe,dt,pe),d(G,T,O,dt,pe),pe=String.fromCharCode(55349,56840+Kt),d(g,T,fe,dt,pe),d(G,T,O,dt,pe),pe=String.fromCharCode(55349,56944+Kt),d(g,T,fe,dt,pe),d(G,T,O,dt,pe),Kt<26&&(pe=String.fromCharCode(55349,56632+Kt),d(g,T,fe,dt,pe),d(G,T,O,dt,pe),pe=String.fromCharCode(55349,56476+Kt),d(g,T,fe,dt,pe),d(G,T,O,dt,pe))}pe=String.fromCharCode(55349,56668);d(g,T,fe,"k",pe);d(G,T,O,"k",pe);for(var Xi=0;Xi<10;Xi++){var vi=Xi.toString();pe=String.fromCharCode(55349,57294+Xi),d(g,T,fe,vi,pe),d(G,T,O,vi,pe),pe=String.fromCharCode(55349,57314+Xi),d(g,T,fe,vi,pe),d(G,T,O,vi,pe),pe=String.fromCharCode(55349,57324+Xi),d(g,T,fe,vi,pe),d(G,T,O,vi,pe),pe=String.fromCharCode(55349,57334+Xi),d(g,T,fe,vi,pe),d(G,T,O,vi,pe)}var Q0="ÐÞþ";for(var Jl=0;Jl<Q0.length;Jl++){var Ta=Q0.charAt(Jl);d(g,T,fe,Ta,Ta),d(G,T,O,Ta,Ta)}var va=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],bf=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],ov=function(e,r){var i=e.charCodeAt(0),n=e.charCodeAt(1),s=(i-55296)*1024+(n-56320)+65536,a=r==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[va[o][2],va[o][a]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[bf[l][2],bf[l][a]]}else{if(s===120485||s===120486)return[va[0][2],va[0][a]];if(120486<s&&s<120782)return["",""];throw new j("Unsupported character: "+e)}},dl=function(e,r,i){return je[i][e]&&je[i][e].replace&&(e=je[i][e].replace),{value:e,metrics:Ec(e,r,i)}},kr=function(e,r,i,n,s){var a=dl(e,r,i),o=a.metrics;e=a.value;var l;if(o){var u=o.italic;(i==="text"||n&&n.font==="mathit")&&(u=0),l=new Ar(e,o.height,o.depth,u,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+i+"'")),l=new Ar(e,0,0,0,0,0,s);if(n){l.maxFontSize=n.sizeMultiplier,n.style.isTight()&&l.classes.push("mtight");var c=n.getColor();c&&(l.style.color=c)}return l},lv=function(e,r,i,n){return n===void 0&&(n=[]),i.font==="boldsymbol"&&dl(e,"Main-Bold",r).metrics?kr(e,"Main-Bold",r,i,n.concat(["mathbf"])):e==="\\"||je[r][e].font==="main"?kr(e,"Main-Regular",r,i,n):kr(e,"AMS-Regular",r,i,n.concat(["amsrm"]))},uv=function(e,r,i,n,s){return s!=="textord"&&dl(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},cv=function(e,r,i){var n=e.mode,s=e.text,a=["mord"],o=n==="math"||n==="text"&&r.font,l=o?r.font:r.fontFamily;if(s.charCodeAt(0)===55349){var[u,c]=ov(s,n);return kr(s,u,n,r,a.concat(c))}else if(l){var h,m;if(l==="boldsymbol"){var p=uv(s,n,r,a,i);h=p.fontName,m=[p.fontClass]}else o?(h=Tg[l].fontName,m=[l]):(h=Ea(l,r.fontWeight,r.fontShape),m=[l,r.fontWeight,r.fontShape]);if(dl(s,h,n).metrics)return kr(s,h,n,r,a.concat(m));if(pg.hasOwnProperty(s)&&h.slice(0,10)==="Typewriter"){for(var b=[],A=0;A<s.length;A++)b.push(kr(s[A],h,n,r,a.concat(m)));return bg(b)}}if(i==="mathord")return kr(s,"Math-Italic",n,r,a.concat(["mathnormal"]));if(i==="textord"){var x=je[n][s]&&je[n][s].font;if(x==="ams"){var S=Ea("amsrm",r.fontWeight,r.fontShape);return kr(s,S,n,r,a.concat("amsrm",r.fontWeight,r.fontShape))}else if(x==="main"||!x){var R=Ea("textrm",r.fontWeight,r.fontShape);return kr(s,R,n,r,a.concat(r.fontWeight,r.fontShape))}else{var I=Ea(x,r.fontWeight,r.fontShape);return kr(s,I,n,r,a.concat(I,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},hv=(t,e)=>{if(Ri(t.classes)!==Ri(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var i in t.style)if(t.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;for(var n in e.style)if(e.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;return!0},fv=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],i=t[e+1];r instanceof Ar&&i instanceof Ar&&hv(r,i)&&(r.text+=i.text,r.height=Math.max(r.height,i.height),r.depth=Math.max(r.depth,i.depth),r.italic=i.italic,t.splice(e+1,1),e--)}return t},Ac=function(e){for(var r=0,i=0,n=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>r&&(r=a.height),a.depth>i&&(i=a.depth),a.maxFontSize>n&&(n=a.maxFontSize)}e.height=r,e.depth=i,e.maxFontSize=n},jt=function(e,r,i,n){var s=new Zs(e,r,i,n);return Ac(s),s},gg=(t,e,r,i)=>new Zs(t,e,r,i),dv=function(e,r,i){var n=jt([e],[],r);return n.height=Math.max(i||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),n.style.borderBottomWidth=Z(n.height),n.maxFontSize=1,n},mv=function(e,r,i,n){var s=new yc(e,r,i,n);return Ac(s),s},bg=function(e){var r=new Js(e);return Ac(r),r},pv=function(e,r){return e instanceof Js?jt([],[e],r):e},gv=function(e){if(e.positionType==="individualShift"){for(var r=e.children,i=[r[0]],n=-r[0].shift-r[0].elem.depth,s=n,a=1;a<r.length;a++){var o=-r[a].shift-s-r[a].elem.depth,l=o-(r[a-1].elem.height+r[a-1].elem.depth);s=s+o,i.push({type:"kern",size:l}),i.push(r[a])}return{children:i,depth:n}}var u;if(e.positionType==="top"){for(var c=e.positionData,h=0;h<e.children.length;h++){var m=e.children[h];c-=m.type==="kern"?m.size:m.elem.height+m.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var p=e.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-p.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-p.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},bv=function(e,r){for(var{children:i,depth:n}=gv(e),s=0,a=0;a<i.length;a++){var o=i[a];if(o.type==="elem"){var l=o.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var u=jt(["pstrut"],[]);u.style.height=Z(s);for(var c=[],h=n,m=n,p=n,b=0;b<i.length;b++){var A=i[b];if(A.type==="kern")p+=A.size;else{var x=A.elem,S=A.wrapperClasses||[],R=A.wrapperStyle||{},I=jt(S,[u,x],void 0,R);I.style.top=Z(-s-p-x.depth),A.marginLeft&&(I.style.marginLeft=A.marginLeft),A.marginRight&&(I.style.marginRight=A.marginRight),c.push(I),p+=x.height+x.depth}h=Math.min(h,p),m=Math.max(m,p)}var P=jt(["vlist"],c);P.style.height=Z(m);var N;if(h<0){var $=jt([],[]),_=jt(["vlist"],[$]);_.style.height=Z(-h);var B=jt(["vlist-s"],[new Ar("​")]);N=[jt(["vlist-r"],[P,B]),jt(["vlist-r"],[_])]}else N=[jt(["vlist-r"],[P])];var z=jt(["vlist-t"],N);return N.length===2&&z.classes.push("vlist-t2"),z.height=m,z.depth=-h,z},Tv=(t,e)=>{var r=jt(["mspace"],[],e),i=st(t,e);return r.style.marginRight=Z(i),r},Ea=function(e,r,i){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}var s;return r==="textbf"&&i==="textit"?s="BoldItalic":r==="textbf"?s="Bold":r==="textit"?s="Italic":s="Regular",n+"-"+s},Tg={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},vg={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},vv=function(e,r){var[i,n,s]=vg[e],a=new Li(i),o=new ci([a],{width:Z(n),height:Z(s),style:"width:"+Z(n),viewBox:"0 0 "+1e3*n+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=gg(["overlay"],[o],r);return l.height=s,l.style.height=Z(s),l.style.width=Z(n),l},L={fontMap:Tg,makeSymbol:kr,mathsym:lv,makeSpan:jt,makeSvgSpan:gg,makeLineSpan:dv,makeAnchor:mv,makeFragment:bg,wrapFragment:pv,makeVList:bv,makeOrd:cv,makeGlue:Tv,staticSvg:vv,svgData:vg,tryCombineChars:fv},nt={number:3,unit:"mu"},Ki={number:4,unit:"mu"},ti={number:5,unit:"mu"},Ev={mord:{mop:nt,mbin:Ki,mrel:ti,minner:nt},mop:{mord:nt,mop:nt,mrel:ti,minner:nt},mbin:{mord:Ki,mop:Ki,mopen:Ki,minner:Ki},mrel:{mord:ti,mop:ti,mopen:ti,minner:ti},mopen:{},mclose:{mop:nt,mbin:Ki,mrel:ti,minner:nt},mpunct:{mord:nt,mop:nt,mrel:ti,mopen:nt,mclose:nt,mpunct:nt,minner:nt},minner:{mord:nt,mop:nt,mbin:Ki,mrel:ti,mopen:nt,mpunct:nt,minner:nt}},yv={mord:{mop:nt},mop:{mord:nt,mop:nt},mbin:{},mrel:{},mopen:{},mclose:{mop:nt},mpunct:{},minner:{mop:nt}},Eg={},vo={},Eo={};function te(t){for(var{type:e,names:r,props:i,handler:n,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:n},l=0;l<r.length;++l)Eg[r[l]]=o;e&&(s&&(vo[e]=s),a&&(Eo[e]=a))}function pn(t){var{type:e,htmlBuilder:r,mathmlBuilder:i}=t;te({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:i})}var yo=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},ht=function(e){return e.type==="ordgroup"?e.body:[e]},hi=L.makeSpan,Av=["leftmost","mbin","mopen","mrel","mop","mpunct"],xv=["rightmost","mrel","mclose","mpunct"],Sv={display:he.DISPLAY,text:he.TEXT,script:he.SCRIPT,scriptscript:he.SCRIPTSCRIPT},wv={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},kt=function(e,r,i,n){n===void 0&&(n=[null,null]);for(var s=[],a=0;a<e.length;a++){var o=Me(e[a],r);if(o instanceof Js){var l=o.children;s.push(...l)}else s.push(o)}if(L.tryCombineChars(s),!i)return s;var u=r;if(e.length===1){var c=e[0];c.type==="sizing"?u=r.havingSize(c.size):c.type==="styling"&&(u=r.havingStyle(Sv[c.style]))}var h=hi([n[0]||"leftmost"],[],r),m=hi([n[1]||"rightmost"],[],r),p=i==="root";return Tf(s,(b,A)=>{var x=A.classes[0],S=b.classes[0];x==="mbin"&&de.contains(xv,S)?A.classes[0]="mord":S==="mbin"&&de.contains(Av,x)&&(b.classes[0]="mord")},{node:h},m,p),Tf(s,(b,A)=>{var x=J0(A),S=J0(b),R=x&&S?b.hasClass("mtight")?yv[x][S]:Ev[x][S]:null;if(R)return L.makeGlue(R,u)},{node:h},m,p),s},Tf=function t(e,r,i,n,s){n&&e.push(n);for(var a=0;a<e.length;a++){var o=e[a],l=yg(o);if(l){t(l.children,r,i,null,s);continue}var u=!o.hasClass("mspace");if(u){var c=r(o,i.node);c&&(i.insertAfter?i.insertAfter(c):(e.unshift(c),a++))}u?i.node=o:s&&o.hasClass("newline")&&(i.node=hi(["leftmost"])),i.insertAfter=(h=>m=>{e.splice(h+1,0,m),a++})(a)}n&&e.pop()},yg=function(e){return e instanceof Js||e instanceof yc||e instanceof Zs&&e.hasClass("enclosing")?e:null},Cv=function t(e,r){var i=yg(e);if(i){var n=i.children;if(n.length){if(r==="right")return t(n[n.length-1],"right");if(r==="left")return t(n[0],"left")}}return e},J0=function(e,r){return e?(r&&(e=Cv(e,r)),wv[e.classes[0]]||null):null},Ls=function(e,r){var i=["nulldelimiter"].concat(e.baseSizingClasses());return hi(r.concat(i))},Me=function(e,r,i){if(!e)return hi();if(vo[e.type]){var n=vo[e.type](e,r);if(i&&r.size!==i.size){n=hi(r.sizingClasses(i),[n],r);var s=r.sizeMultiplier/i.sizeMultiplier;n.height*=s,n.depth*=s}return n}else throw new j("Got group of unknown type: '"+e.type+"'")};function ya(t,e){var r=hi(["base"],t,e),i=hi(["strut"]);return i.style.height=Z(r.height+r.depth),r.depth&&(i.style.verticalAlign=Z(-r.depth)),r.children.unshift(i),r}function Z0(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var i=kt(t,e,"root"),n;i.length===2&&i[1].hasClass("tag")&&(n=i.pop());for(var s=[],a=[],o=0;o<i.length;o++)if(a.push(i[o]),i[o].hasClass("mbin")||i[o].hasClass("mrel")||i[o].hasClass("allowbreak")){for(var l=!1;o<i.length-1&&i[o+1].hasClass("mspace")&&!i[o+1].hasClass("newline");)o++,a.push(i[o]),i[o].hasClass("nobreak")&&(l=!0);l||(s.push(ya(a,e)),a=[])}else i[o].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(ya(a,e)),a=[]),s.push(i[o]));a.length>0&&s.push(ya(a,e));var u;r?(u=ya(kt(r,e,!0)),u.classes=["tag"],s.push(u)):n&&s.push(n);var c=hi(["katex-html"],s);if(c.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=Z(c.height+c.depth),c.depth&&(h.style.verticalAlign=Z(-c.depth))}return c}function Ag(t){return new Js(t)}class br{constructor(e,r,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=i||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=Ri(this.classes));for(var i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=de.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+de.escape(Ri(this.classes))+'"'),e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}let As=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return de.escape(this.toText())}toText(){return this.text}};class kv{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Z(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Z(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var K={MathNode:br,TextNode:As,SpaceNode:kv,newDocumentFragment:Ag},xr=function(e,r,i){return je[r][e]&&je[r][e].replace&&e.charCodeAt(0)!==55349&&!(pg.hasOwnProperty(e)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(e=je[r][e].replace),new K.TextNode(e)},xc=function(e){return e.length===1?e[0]:new K.MathNode("mrow",e)},Sc=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var i=r.font;if(!i||i==="mathnormal")return null;var n=e.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var s=e.text;if(de.contains(["\\imath","\\jmath"],s))return null;je[n][s]&&je[n][s].replace&&(s=je[n][s].replace);var a=L.fontMap[i].fontName;return Ec(s,a,n)?L.fontMap[i].variant:null},nr=function(e,r,i){if(e.length===1){var n=Xe(e[0],r);return i&&n instanceof br&&n.type==="mo"&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var s=[],a,o=0;o<e.length;o++){var l=Xe(e[o],r);if(l instanceof br&&a instanceof br){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&a.type==="mn"){var u=l.children[0];if(u instanceof As&&u.text==="."){a.children.push(...l.children);continue}}else if(a.type==="mi"&&a.children.length===1){var c=a.children[0];if(c instanceof As&&c.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var h=l.children[0];h instanceof As&&h.text.length>0&&(h.text=h.text.slice(0,1)+"̸"+h.text.slice(1),s.pop())}}}s.push(l),a=l}return s},Pi=function(e,r,i){return xc(nr(e,r,i))},Xe=function(e,r){if(!e)return new K.MathNode("mrow");if(Eo[e.type]){var i=Eo[e.type](e,r);return i}else throw new j("Got group of unknown type: '"+e.type+"'")};function vf(t,e,r,i,n){var s=nr(t,r),a;s.length===1&&s[0]instanceof br&&de.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new K.MathNode("mrow",s);var o=new K.MathNode("annotation",[new K.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new K.MathNode("semantics",[a,o]),u=new K.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&u.setAttribute("display","block");var c=n?"katex":"katex-mathml";return L.makeSpan([c],[u])}var xg=function(e){return new ii({style:e.displayMode?he.DISPLAY:he.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Sg=function(e,r){if(r.displayMode){var i=["katex-display"];r.leqno&&i.push("leqno"),r.fleqn&&i.push("fleqn"),e=L.makeSpan(i,[e])}return e},_v=function(e,r,i){var n=xg(i),s;if(i.output==="mathml")return vf(e,r,n,i.displayMode,!0);if(i.output==="html"){var a=Z0(e,n);s=L.makeSpan(["katex"],[a])}else{var o=vf(e,r,n,i.displayMode,!1),l=Z0(e,n);s=L.makeSpan(["katex"],[o,l])}return Sg(s,i)},Ov=function(e,r,i){var n=xg(i),s=Z0(e,n),a=L.makeSpan(["katex"],[s]);return Sg(a,i)},Nv={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Iv=function(e){var r=new K.MathNode("mo",[new K.TextNode(Nv[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},Mv={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Dv=function(e){return e.type==="ordgroup"?e.body.length:1},Rv=function(e,r){function i(){var o=4e5,l=e.label.slice(1);if(de.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,c=Dv(u.base),h,m,p;if(c>5)l==="widehat"||l==="widecheck"?(h=420,o=2364,p=.42,m=l+"4"):(h=312,o=2340,p=.34,m="tilde4");else{var b=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][b],h=[0,239,300,360,420][b],p=[0,.24,.3,.3,.36,.42][b],m=l+b):(o=[0,600,1033,2339,2340][b],h=[0,260,286,306,312][b],p=[0,.26,.286,.3,.306,.34][b],m="tilde"+b)}var A=new Li(m),x=new ci([A],{width:"100%",height:Z(p),viewBox:"0 0 "+o+" "+h,preserveAspectRatio:"none"});return{span:L.makeSvgSpan([],[x],r),minWidth:0,height:p}}else{var S=[],R=Mv[l],[I,P,N]=R,$=N/1e3,_=I.length,B,z;if(_===1){var M=R[3];B=["hide-tail"],z=[M]}else if(_===2)B=["halfarrow-left","halfarrow-right"],z=["xMinYMin","xMaxYMin"];else if(_===3)B=["brace-left","brace-center","brace-right"],z=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+_+" children.");for(var ne=0;ne<_;ne++){var Ee=new Li(I[ne]),We=new ci([Ee],{width:"400em",height:Z($),viewBox:"0 0 "+o+" "+N,preserveAspectRatio:z[ne]+" slice"}),De=L.makeSvgSpan([B[ne]],[We],r);if(_===1)return{span:De,minWidth:P,height:$};De.style.height=Z($),S.push(De)}return{span:L.makeSpan(["stretchy"],S,r),minWidth:P,height:$}}}var{span:n,minWidth:s,height:a}=i();return n.height=a,n.style.height=Z(a),s>0&&(n.style.minWidth=Z(s)),n},Lv=function(e,r,i,n,s){var a,o=e.height+e.depth+i+n;if(/fbox|color|angl/.test(r)){if(a=L.makeSpan(["stretchy",r],[],s),r==="fbox"){var l=s.color&&s.getColor();l&&(a.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new j0({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new j0({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new ci(u,{width:"100%",height:Z(o)});a=L.makeSvgSpan([],[c],s)}return a.height=o,a.style.height=Z(o),a},fi={encloseSpan:Lv,mathMLnode:Iv,svgSpan:Rv};function xe(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function wc(t){var e=ml(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function ml(t){return t&&(t.type==="atom"||av.hasOwnProperty(t.type))?t:null}var Cc=(t,e)=>{var r,i,n;t&&t.type==="supsub"?(i=xe(t.base,"accent"),r=i.base,t.base=r,n=nv(Me(t,e)),t.base=i):(i=xe(t,"accent"),r=i.base);var s=Me(r,e.havingCrampedStyle()),a=i.isShifty&&de.isCharacterBox(r),o=0;if(a){var l=de.getBaseElem(r),u=Me(l,e.havingCrampedStyle());o=ff(u).skew}var c=i.label==="\\c",h=c?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),m;if(i.isStretchy)m=fi.svgSpan(i,e),m=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:m,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Z(2*o)+")",marginLeft:Z(2*o)}:void 0}]},e);else{var p,b;i.label==="\\vec"?(p=L.staticSvg("vec",e),b=L.svgData.vec[1]):(p=L.makeOrd({mode:i.mode,text:i.label},e,"textord"),p=ff(p),p.italic=0,b=p.width,c&&(h+=p.depth)),m=L.makeSpan(["accent-body"],[p]);var A=i.label==="\\textcircled";A&&(m.classes.push("accent-full"),h=s.height);var x=o;A||(x-=b/2),m.style.left=Z(x),i.label==="\\textcircled"&&(m.style.top=".2em"),m=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-h},{type:"elem",elem:m}]},e)}var S=L.makeSpan(["mord","accent"],[m],e);return n?(n.children[0]=S,n.height=Math.max(S.height,n.height),n.classes[0]="mord",n):S},wg=(t,e)=>{var r=t.isStretchy?fi.mathMLnode(t.label):new K.MathNode("mo",[xr(t.label,t.mode)]),i=new K.MathNode("mover",[Xe(t.base,e),r]);return i.setAttribute("accent","true"),i},Pv=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));te({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=yo(e[0]),i=!Pv.test(t.funcName),n=!i||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:i,isShifty:n,base:r}},htmlBuilder:Cc,mathmlBuilder:wg});te({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],i=t.parser.mode;return i==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:Cc,mathmlBuilder:wg});te({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0];return{type:"accentUnder",mode:r.mode,label:i,base:n}},htmlBuilder:(t,e)=>{var r=Me(t.base,e),i=fi.svgSpan(t,e),n=t.label==="\\utilde"?.12:0,s=L.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:n},{type:"elem",elem:r}]},e);return L.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var r=fi.mathMLnode(t.label),i=new K.MathNode("munder",[Xe(t.base,e),r]);return i.setAttribute("accentunder","true"),i}});var Aa=t=>{var e=new K.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};te({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:i,funcName:n}=t;return{type:"xArrow",mode:i.mode,label:n,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,i=e.havingStyle(r.sup()),n=L.wrapFragment(Me(t.body,i,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";n.classes.push(s+"-arrow-pad");var a;t.below&&(i=e.havingStyle(r.sub()),a=L.wrapFragment(Me(t.below,i,e),e),a.classes.push(s+"-arrow-pad"));var o=fi.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(n.depth>.25||t.label==="\\xleftequilibrium")&&(u-=n.depth);var c;if(a){var h=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;c=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:h}]},e)}else c=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),L.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(t,e){var r=fi.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(t.body){var n=Aa(Xe(t.body,e));if(t.below){var s=Aa(Xe(t.below,e));i=new K.MathNode("munderover",[r,s,n])}else i=new K.MathNode("mover",[r,n])}else if(t.below){var a=Aa(Xe(t.below,e));i=new K.MathNode("munder",[r,a])}else i=Aa(),i=new K.MathNode("mover",[r,i]);return i}});var Bv=L.makeSpan;function Cg(t,e){var r=kt(t.body,e,!0);return Bv([t.mclass],r,e)}function kg(t,e){var r,i=nr(t.body,e);return t.mclass==="minner"?r=new K.MathNode("mpadded",i):t.mclass==="mord"?t.isCharacterBox?(r=i[0],r.type="mi"):r=new K.MathNode("mi",i):(t.isCharacterBox?(r=i[0],r.type="mo"):r=new K.MathNode("mo",i),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}te({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+i.slice(5),body:ht(n),isCharacterBox:de.isCharacterBox(n)}},htmlBuilder:Cg,mathmlBuilder:kg});var pl=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};te({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:pl(e[0]),body:ht(e[1]),isCharacterBox:de.isCharacterBox(e[1])}}});te({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:i}=t,n=e[1],s=e[0],a;i!=="\\stackrel"?a=pl(n):a="mrel";var o={type:"op",mode:n.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:ht(n)},l={type:"supsub",mode:s.mode,base:o,sup:i==="\\underset"?null:s,sub:i==="\\underset"?s:null};return{type:"mclass",mode:r.mode,mclass:a,body:[l],isCharacterBox:de.isCharacterBox(l)}},htmlBuilder:Cg,mathmlBuilder:kg});te({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:pl(e[0]),body:ht(e[0])}},htmlBuilder(t,e){var r=kt(t.body,e,!0),i=L.makeSpan([t.mclass],r,e);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(t,e){var r=nr(t.body,e),i=new K.MathNode("mstyle",r);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var Fv={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Ef=()=>({type:"styling",body:[],mode:"math",style:"display"}),yf=t=>t.type==="textord"&&t.text==="@",Hv=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function Uv(t,e,r){var i=Fv[t];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(i,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var n=r.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:i,mode:"math",family:"rel"},a=r.callFunction("\\Big",[s],[]),o=r.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[n,a,o]};return r.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function zv(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new j("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var i=[],n=[i],s=0;s<e.length;s++){for(var a=e[s],o=Ef(),l=0;l<a.length;l++)if(!yf(a[l]))o.body.push(a[l]);else{i.push(o),l+=1;var u=wc(a[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var m=!0,p=l+1;p<a.length;p++){if(Hv(a[p],u)){m=!1,l=p;break}if(yf(a[p]))throw new j("Missing a "+u+" character to complete a CD arrow.",a[p]);c[h].body.push(a[p])}if(m)throw new j("Missing a "+u+" character to complete a CD arrow.",a[l])}else throw new j('Expected one of "<>AV=|." after @',a[l]);var b=Uv(u,c,t),A={type:"styling",body:[b],mode:"math",style:"display"};i.push(A),o=Ef()}s%2===0?i.push(o):i.shift(),i=[],n.push(i)}t.gullet.endGroup(),t.gullet.endGroup();var x=new Array(n[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:n,arraystretch:1,addJot:!0,rowGaps:[null],cols:x,colSeparationType:"CD",hLinesBeforeRow:new Array(n.length+1).fill([])}}te({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t;return{type:"cdlabel",mode:r.mode,side:i.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),i=L.wrapFragment(Me(t.label,r,e),e);return i.classes.push("cd-label-"+t.side),i.style.bottom=Z(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(t,e){var r=new K.MathNode("mrow",[Xe(t.label,e)]);return r=new K.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new K.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});te({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=L.wrapFragment(Me(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new K.MathNode("mrow",[Xe(t.fragment,e)])}});te({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,i=xe(e[0],"ordgroup"),n=i.body,s="",a=0;a<n.length;a++){var o=xe(n[a],"textord");s+=o.text}var l=parseInt(s),u;if(isNaN(l))throw new j("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new j("\\@char with invalid code point "+s);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var _g=(t,e)=>{var r=kt(t.body,e.withColor(t.color),!1);return L.makeFragment(r)},Og=(t,e)=>{var r=nr(t.body,e.withColor(t.color)),i=new K.MathNode("mstyle",r);return i.setAttribute("mathcolor",t.color),i};te({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,i=xe(e[0],"color-token").color,n=e[1];return{type:"color",mode:r.mode,color:i,body:ht(n)}},htmlBuilder:_g,mathmlBuilder:Og});te({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:i}=t,n=xe(e[0],"color-token").color;r.gullet.macros.set("\\current@color",n);var s=r.parseExpression(!0,i);return{type:"color",mode:r.mode,color:n,body:s}},htmlBuilder:_g,mathmlBuilder:Og});te({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:i}=t,n=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,s=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:s,size:n&&xe(n,"size").value}},htmlBuilder(t,e){var r=L.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=Z(st(t.size,e)))),r},mathmlBuilder(t,e){var r=new K.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",Z(st(t.size,e)))),r}});var eu={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Ng=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new j("Expected a control sequence",t);return e},$v=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},Ig=(t,e,r,i)=>{var n=t.gullet.macros.get(r.text);n==null&&(r.noexpand=!0,n={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,n,i)};te({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var i=e.fetch();if(eu[i.text])return(r==="\\global"||r==="\\\\globallong")&&(i.text=eu[i.text]),xe(e.parseFunction(),"internal");throw new j("Invalid token after macro prefix",i)}});te({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=e.gullet.popToken(),n=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(n))throw new j("Expected a control sequence",i);for(var s=0,a,o=[[]];e.gullet.future().text!=="{";)if(i=e.gullet.popToken(),i.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[s].push("{");break}if(i=e.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new j('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==s+1)throw new j('Argument number "'+i.text+'" out of order');s++,o.push([])}else{if(i.text==="EOF")throw new j("Expected a macro definition");o[s].push(i.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(r==="\\edef"||r==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(n,{tokens:l,numArgs:s,delimiters:o},r===eu[r]),{type:"internal",mode:e.mode}}});te({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=Ng(e.gullet.popToken());e.gullet.consumeSpaces();var n=$v(e);return Ig(e,i,n,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});te({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=Ng(e.gullet.popToken()),n=e.gullet.popToken(),s=e.gullet.popToken();return Ig(e,i,s,r==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(n),{type:"internal",mode:e.mode}}});var cs=function(e,r,i){var n=je.math[e]&&je.math[e].replace,s=Ec(n||e,r,i);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return s},kc=function(e,r,i,n){var s=i.havingBaseStyle(r),a=L.makeSpan(n.concat(s.sizingClasses(i)),[e],i),o=s.sizeMultiplier/i.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=s.sizeMultiplier,a},Mg=function(e,r,i){var n=r.havingBaseStyle(i),s=(1-r.sizeMultiplier/n.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Z(s),e.height-=s,e.depth+=s},qv=function(e,r,i,n,s,a){var o=L.makeSymbol(e,"Main-Regular",s,n),l=kc(o,r,n,a);return i&&Mg(l,n,r),l},Vv=function(e,r,i,n){return L.makeSymbol(e,"Size"+r+"-Regular",i,n)},Dg=function(e,r,i,n,s,a){var o=Vv(e,r,s,n),l=kc(L.makeSpan(["delimsizing","size"+r],[o],n),he.TEXT,n,a);return i&&Mg(l,n,he.TEXT),l},Zl=function(e,r,i){var n;r==="Size1-Regular"?n="delim-size1":n="delim-size4";var s=L.makeSpan(["delimsizinginner",n],[L.makeSpan([],[L.makeSymbol(e,r,i)])]);return{type:"elem",elem:s}},e0=function(e,r,i){var n=Ur["Size4-Regular"][e.charCodeAt(0)]?Ur["Size4-Regular"][e.charCodeAt(0)][4]:Ur["Size1-Regular"][e.charCodeAt(0)][4],s=new Li("inner",jT(e,Math.round(1e3*r))),a=new ci([s],{width:Z(n),height:Z(r),style:"width:"+Z(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),o=L.makeSvgSpan([],[a],i);return o.height=r,o.style.height=Z(r),o.style.width=Z(n),{type:"elem",elem:o}},tu=.008,xa={type:"kern",size:-1*tu},Wv=["|","\\lvert","\\rvert","\\vert"],Yv=["\\|","\\lVert","\\rVert","\\Vert"],Rg=function(e,r,i,n,s,a){var o,l,u,c,h="",m=0;o=u=c=e,l=null;var p="Size1-Regular";e==="\\uparrow"?u=c="⏐":e==="\\Uparrow"?u=c="‖":e==="\\downarrow"?o=u="⏐":e==="\\Downarrow"?o=u="‖":e==="\\updownarrow"?(o="\\uparrow",u="⏐",c="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="‖",c="\\Downarrow"):de.contains(Wv,e)?(u="∣",h="vert",m=333):de.contains(Yv,e)?(u="∥",h="doublevert",m=556):e==="["||e==="\\lbrack"?(o="⎡",u="⎢",c="⎣",p="Size4-Regular",h="lbrack",m=667):e==="]"||e==="\\rbrack"?(o="⎤",u="⎥",c="⎦",p="Size4-Regular",h="rbrack",m=667):e==="\\lfloor"||e==="⌊"?(u=o="⎢",c="⎣",p="Size4-Regular",h="lfloor",m=667):e==="\\lceil"||e==="⌈"?(o="⎡",u=c="⎢",p="Size4-Regular",h="lceil",m=667):e==="\\rfloor"||e==="⌋"?(u=o="⎥",c="⎦",p="Size4-Regular",h="rfloor",m=667):e==="\\rceil"||e==="⌉"?(o="⎤",u=c="⎥",p="Size4-Regular",h="rceil",m=667):e==="("||e==="\\lparen"?(o="⎛",u="⎜",c="⎝",p="Size4-Regular",h="lparen",m=875):e===")"||e==="\\rparen"?(o="⎞",u="⎟",c="⎠",p="Size4-Regular",h="rparen",m=875):e==="\\{"||e==="\\lbrace"?(o="⎧",l="⎨",c="⎩",u="⎪",p="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="⎫",l="⎬",c="⎭",u="⎪",p="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(o="⎧",c="⎩",u="⎪",p="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(o="⎫",c="⎭",u="⎪",p="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(o="⎧",c="⎭",u="⎪",p="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(o="⎫",c="⎩",u="⎪",p="Size4-Regular");var b=cs(o,p,s),A=b.height+b.depth,x=cs(u,p,s),S=x.height+x.depth,R=cs(c,p,s),I=R.height+R.depth,P=0,N=1;if(l!==null){var $=cs(l,p,s);P=$.height+$.depth,N=2}var _=A+I+P,B=Math.max(0,Math.ceil((r-_)/(N*S))),z=_+B*N*S,M=n.fontMetrics().axisHeight;i&&(M*=n.sizeMultiplier);var ne=z/2-M,Ee=[];if(h.length>0){var We=z-A-I,De=Math.round(z*1e3),Re=QT(h,Math.round(We*1e3)),Ye=new Li(h,Re),se=(m/1e3).toFixed(3)+"em",Ue=(De/1e3).toFixed(3)+"em",Be=new ci([Ye],{width:se,height:Ue,viewBox:"0 0 "+m+" "+De}),ze=L.makeSvgSpan([],[Be],n);ze.height=De/1e3,ze.style.width=se,ze.style.height=Ue,Ee.push({type:"elem",elem:ze})}else{if(Ee.push(Zl(c,p,s)),Ee.push(xa),l===null){var At=z-A-I+2*tu;Ee.push(e0(u,At,n))}else{var ut=(z-A-I-P)/2+2*tu;Ee.push(e0(u,ut,n)),Ee.push(xa),Ee.push(Zl(l,p,s)),Ee.push(xa),Ee.push(e0(u,ut,n))}Ee.push(xa),Ee.push(Zl(o,p,s))}var mr=n.havingBaseStyle(he.TEXT),ei=L.makeVList({positionType:"bottom",positionData:ne,children:Ee},mr);return kc(L.makeSpan(["delimsizing","mult"],[ei],mr),he.TEXT,n,a)},t0=80,r0=.08,i0=function(e,r,i,n,s){var a=KT(e,n,i),o=new Li(e,a),l=new ci([o],{width:"400em",height:Z(r),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return L.makeSvgSpan(["hide-tail"],[l],s)},Gv=function(e,r){var i=r.havingBaseSizing(),n=Fg("\\surd",e*i.sizeMultiplier,Bg,i),s=i.sizeMultiplier,a=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),o,l=0,u=0,c=0,h;return n.type==="small"?(c=1e3+1e3*a+t0,e<1?s=1:e<1.4&&(s=.7),l=(1+a+r0)/s,u=(1+a)/s,o=i0("sqrtMain",l,c,a,r),o.style.minWidth="0.853em",h=.833/s):n.type==="large"?(c=(1e3+t0)*xs[n.size],u=(xs[n.size]+a)/s,l=(xs[n.size]+a+r0)/s,o=i0("sqrtSize"+n.size,l,c,a,r),o.style.minWidth="1.02em",h=1/s):(l=e+a+r0,u=e+a,c=Math.floor(1e3*e+a)+t0,o=i0("sqrtTall",l,c,a,r),o.style.minWidth="0.742em",h=1.056),o.height=u,o.style.height=Z(l),{span:o,advanceWidth:h,ruleWidth:(r.fontMetrics().sqrtRuleThickness+a)*s}},Lg=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Xv=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Pg=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],xs=[0,1.2,1.8,2.4,3],Kv=function(e,r,i,n,s){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),de.contains(Lg,e)||de.contains(Pg,e))return Dg(e,r,!1,i,n,s);if(de.contains(Xv,e))return Rg(e,xs[r],!1,i,n,s);throw new j("Illegal delimiter: '"+e+"'")},jv=[{type:"small",style:he.SCRIPTSCRIPT},{type:"small",style:he.SCRIPT},{type:"small",style:he.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Qv=[{type:"small",style:he.SCRIPTSCRIPT},{type:"small",style:he.SCRIPT},{type:"small",style:he.TEXT},{type:"stack"}],Bg=[{type:"small",style:he.SCRIPTSCRIPT},{type:"small",style:he.SCRIPT},{type:"small",style:he.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Jv=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Fg=function(e,r,i,n){for(var s=Math.min(2,3-n.style.size),a=s;a<i.length&&i[a].type!=="stack";a++){var o=cs(e,Jv(i[a]),"math"),l=o.height+o.depth;if(i[a].type==="small"){var u=n.havingBaseStyle(i[a].style);l*=u.sizeMultiplier}if(l>r)return i[a]}return i[i.length-1]},Hg=function(e,r,i,n,s,a){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var o;de.contains(Pg,e)?o=jv:de.contains(Lg,e)?o=Bg:o=Qv;var l=Fg(e,r,o,n);return l.type==="small"?qv(e,l.style,i,n,s,a):l.type==="large"?Dg(e,l.size,i,n,s,a):Rg(e,r,i,n,s,a)},Zv=function(e,r,i,n,s,a){var o=n.fontMetrics().axisHeight*n.sizeMultiplier,l=901,u=5/n.fontMetrics().ptPerEm,c=Math.max(r-o,i+o),h=Math.max(c/500*l,2*c-u);return Hg(e,h,!0,n,s,a)},li={sqrtImage:Gv,sizedDelim:Kv,sizeToMaxHeight:xs,customSizedDelim:Hg,leftRightDelim:Zv},Af={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},eE=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function gl(t,e){var r=ml(t);if(r&&de.contains(eE,r.text))return r;throw r?new j("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new j("Invalid delimiter type '"+t.type+"'",t)}te({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=gl(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:Af[t.funcName].size,mclass:Af[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?L.makeSpan([t.mclass]):li.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(xr(t.delim,t.mode));var r=new K.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var i=Z(li.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",i),r.setAttribute("maxsize",i),r}});function xf(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}te({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new j("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:gl(e[0],t).text,color:r}}});te({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=gl(e[0],t),i=t.parser;++i.leftrightDepth;var n=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var s=xe(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:n,left:r.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{xf(t);for(var r=kt(t.body,e,!0,["mopen","mclose"]),i=0,n=0,s=!1,a=0;a<r.length;a++)r[a].isMiddle?s=!0:(i=Math.max(r[a].height,i),n=Math.max(r[a].depth,n));i*=e.sizeMultiplier,n*=e.sizeMultiplier;var o;if(t.left==="."?o=Ls(e,["mopen"]):o=li.leftRightDelim(t.left,i,n,e,t.mode,["mopen"]),r.unshift(o),s)for(var l=1;l<r.length;l++){var u=r[l],c=u.isMiddle;c&&(r[l]=li.leftRightDelim(c.delim,i,n,c.options,t.mode,[]))}var h;if(t.right===".")h=Ls(e,["mclose"]);else{var m=t.rightColor?e.withColor(t.rightColor):e;h=li.leftRightDelim(t.right,i,n,m,t.mode,["mclose"])}return r.push(h),L.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{xf(t);var r=nr(t.body,e);if(t.left!=="."){var i=new K.MathNode("mo",[xr(t.left,t.mode)]);i.setAttribute("fence","true"),r.unshift(i)}if(t.right!=="."){var n=new K.MathNode("mo",[xr(t.right,t.mode)]);n.setAttribute("fence","true"),t.rightColor&&n.setAttribute("mathcolor",t.rightColor),r.push(n)}return xc(r)}});te({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=gl(e[0],t);if(!t.parser.leftrightDepth)throw new j("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=Ls(e,[]);else{r=li.sizedDelim(t.delim,1,e,t.mode,[]);var i={delim:t.delim,options:e};r.isMiddle=i}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?xr("|","text"):xr(t.delim,t.mode),i=new K.MathNode("mo",[r]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var _c=(t,e)=>{var r=L.wrapFragment(Me(t.body,e),e),i=t.label.slice(1),n=e.sizeMultiplier,s,a=0,o=de.isCharacterBox(t.body);if(i==="sout")s=L.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/n,a=-.5*e.fontMetrics().xHeight;else if(i==="phase"){var l=st({number:.6,unit:"pt"},e),u=st({number:.35,unit:"ex"},e),c=e.havingBaseSizing();n=n/c.sizeMultiplier;var h=r.height+r.depth+l+u;r.style.paddingLeft=Z(h/2+l);var m=Math.floor(1e3*h*n),p=GT(m),b=new ci([new Li("phase",p)],{width:"400em",height:Z(m/1e3),viewBox:"0 0 400000 "+m,preserveAspectRatio:"xMinYMin slice"});s=L.makeSvgSpan(["hide-tail"],[b],e),s.style.height=Z(h),a=r.depth+l+u}else{/cancel/.test(i)?o||r.classes.push("cancel-pad"):i==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var A=0,x=0,S=0;/box/.test(i)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),A=e.fontMetrics().fboxsep+(i==="colorbox"?0:S),x=A):i==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),A=4*S,x=Math.max(0,.25-r.depth)):(A=o?.2:0,x=A),s=fi.encloseSpan(r,i,A,x,e),/fbox|boxed|fcolorbox/.test(i)?(s.style.borderStyle="solid",s.style.borderWidth=Z(S)):i==="angl"&&S!==.049&&(s.style.borderTopWidth=Z(S),s.style.borderRightWidth=Z(S)),a=r.depth+x,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var R;if(t.backgroundColor)R=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:r,shift:0}]},e);else{var I=/cancel|phase/.test(i)?["svg-align"]:[];R=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:I}]},e)}return/cancel/.test(i)&&(R.height=r.height,R.depth=r.depth),/cancel/.test(i)&&!o?L.makeSpan(["mord","cancel-lap"],[R],e):L.makeSpan(["mord"],[R],e)},Oc=(t,e)=>{var r=0,i=new K.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Xe(t.body,e)]);switch(t.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*r+"pt"),i.setAttribute("height","+"+2*r+"pt"),i.setAttribute("lspace",r+"pt"),i.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var n=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);i.setAttribute("style","border: "+n+"em solid "+String(t.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&i.setAttribute("mathbackground",t.backgroundColor),i};te({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:i,funcName:n}=t,s=xe(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:i.mode,label:n,backgroundColor:s,body:a}},htmlBuilder:_c,mathmlBuilder:Oc});te({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:i,funcName:n}=t,s=xe(e[0],"color-token").color,a=xe(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:i.mode,label:n,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:_c,mathmlBuilder:Oc});te({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});te({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];return{type:"enclose",mode:r.mode,label:i,body:n}},htmlBuilder:_c,mathmlBuilder:Oc});te({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var Ug={};function Kr(t){for(var{type:e,names:r,props:i,handler:n,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:n},l=0;l<r.length;++l)Ug[r[l]]=o;s&&(vo[e]=s),a&&(Eo[e]=a)}var zg={};function v(t,e){zg[t]=e}function Sf(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var bl=t=>{var e=t.parser.settings;if(!e.displayMode)throw new j("{"+t.envName+"} can be used only in display mode.")};function Nc(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Wi(t,e,r){var{hskipBeforeAndAfter:i,addJot:n,cols:s,arraystretch:a,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:h,leqno:m}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var p=t.gullet.expandMacroAsText("\\arraystretch");if(p==null)a=1;else if(a=parseFloat(p),!a||a<0)throw new j("Invalid \\arraystretch: "+p)}t.gullet.beginGroup();var b=[],A=[b],x=[],S=[],R=l!=null?[]:void 0;function I(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function P(){R&&(t.gullet.macros.get("\\df@tag")?(R.push(t.subparse([new vr("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):R.push(Boolean(l)&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(I(),S.push(Sf(t));;){var N=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),N={type:"ordgroup",mode:t.mode,body:N},r&&(N={type:"styling",mode:t.mode,style:r,body:[N]}),b.push(N);var $=t.fetch().text;if($==="&"){if(h&&b.length===h){if(u||o)throw new j("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if($==="\\end"){P(),b.length===1&&N.type==="styling"&&N.body[0].body.length===0&&(A.length>1||!c)&&A.pop(),S.length<A.length+1&&S.push([]);break}else if($==="\\\\"){t.consume();var _=void 0;t.gullet.future().text!==" "&&(_=t.parseSizeGroup(!0)),x.push(_?_.value:null),P(),S.push(Sf(t)),b=[],A.push(b),I()}else throw new j("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:n,arraystretch:a,body:A,cols:s,rowGaps:x,hskipBeforeAndAfter:i,hLinesBeforeRow:S,colSeparationType:o,tags:R,leqno:m}}function Ic(t){return t.slice(0,1)==="d"?"display":"text"}var jr=function(e,r){var i,n,s=e.body.length,a=e.hLinesBeforeRow,o=0,l=new Array(s),u=[],c=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),h=1/r.fontMetrics().ptPerEm,m=5*h;if(e.colSeparationType&&e.colSeparationType==="small"){var p=r.havingStyle(he.SCRIPT).sizeMultiplier;m=.2778*(p/r.sizeMultiplier)}var b=e.colSeparationType==="CD"?st({number:3,unit:"ex"},r):12*h,A=3*h,x=e.arraystretch*b,S=.7*x,R=.3*x,I=0;function P(ua){for(var ca=0;ca<ua.length;++ca)ca>0&&(I+=.25),u.push({pos:I,isDashed:ua[ca]})}for(P(a[0]),i=0;i<e.body.length;++i){var N=e.body[i],$=S,_=R;o<N.length&&(o=N.length);var B=new Array(N.length);for(n=0;n<N.length;++n){var z=Me(N[n],r);_<z.depth&&(_=z.depth),$<z.height&&($=z.height),B[n]=z}var M=e.rowGaps[i],ne=0;M&&(ne=st(M,r),ne>0&&(ne+=R,_<ne&&(_=ne),ne=0)),e.addJot&&(_+=A),B.height=$,B.depth=_,I+=$,B.pos=I,I+=_+ne,l[i]=B,P(a[i+1])}var Ee=I/2+r.fontMetrics().axisHeight,We=e.cols||[],De=[],Re,Ye,se=[];if(e.tags&&e.tags.some(ua=>ua))for(i=0;i<s;++i){var Ue=l[i],Be=Ue.pos-Ee,ze=e.tags[i],At=void 0;ze===!0?At=L.makeSpan(["eqn-num"],[],r):ze===!1?At=L.makeSpan([],[],r):At=L.makeSpan([],kt(ze,r,!0),r),At.depth=Ue.depth,At.height=Ue.height,se.push({type:"elem",elem:At,shift:Be})}for(n=0,Ye=0;n<o||Ye<We.length;++n,++Ye){for(var ut=We[Ye]||{},mr=!0;ut.type==="separator";){if(mr||(Re=L.makeSpan(["arraycolsep"],[]),Re.style.width=Z(r.fontMetrics().doubleRuleSep),De.push(Re)),ut.separator==="|"||ut.separator===":"){var ei=ut.separator==="|"?"solid":"dashed",sr=L.makeSpan(["vertical-separator"],[],r);sr.style.height=Z(I),sr.style.borderRightWidth=Z(c),sr.style.borderRightStyle=ei,sr.style.margin="0 "+Z(-c/2);var yh=I-Ee;yh&&(sr.style.verticalAlign=Z(-yh)),De.push(sr)}else throw new j("Invalid separator type: "+ut.separator);Ye++,ut=We[Ye]||{},mr=!1}if(!(n>=o)){var bn=void 0;(n>0||e.hskipBeforeAndAfter)&&(bn=de.deflt(ut.pregap,m),bn!==0&&(Re=L.makeSpan(["arraycolsep"],[]),Re.style.width=Z(bn),De.push(Re)));var Tn=[];for(i=0;i<s;++i){var oa=l[i],la=oa[n];if(la){var l6=oa.pos-Ee;la.depth=oa.depth,la.height=oa.height,Tn.push({type:"elem",elem:la,shift:l6})}}Tn=L.makeVList({positionType:"individualShift",children:Tn},r),Tn=L.makeSpan(["col-align-"+(ut.align||"c")],[Tn]),De.push(Tn),(n<o-1||e.hskipBeforeAndAfter)&&(bn=de.deflt(ut.postgap,m),bn!==0&&(Re=L.makeSpan(["arraycolsep"],[]),Re.style.width=Z(bn),De.push(Re)))}}if(l=L.makeSpan(["mtable"],De),u.length>0){for(var u6=L.makeLineSpan("hline",r,c),c6=L.makeLineSpan("hdashline",r,c),Ll=[{type:"elem",elem:l,shift:0}];u.length>0;){var Ah=u.pop(),xh=Ah.pos-Ee;Ah.isDashed?Ll.push({type:"elem",elem:c6,shift:xh}):Ll.push({type:"elem",elem:u6,shift:xh})}l=L.makeVList({positionType:"individualShift",children:Ll},r)}if(se.length===0)return L.makeSpan(["mord"],[l],r);var Pl=L.makeVList({positionType:"individualShift",children:se},r);return Pl=L.makeSpan(["tag"],[Pl],r),L.makeFragment([l,Pl])},tE={c:"center ",l:"left ",r:"right "},Qr=function(e,r){for(var i=[],n=new K.MathNode("mtd",[],["mtr-glue"]),s=new K.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],l=[],u=0;u<o.length;u++)l.push(new K.MathNode("mtd",[Xe(o[u],r)]));e.tags&&e.tags[a]&&(l.unshift(n),l.push(n),e.leqno?l.unshift(s):l.push(s)),i.push(new K.MathNode("mtr",l))}var c=new K.MathNode("mtable",i),h=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",Z(h));var m="",p="";if(e.cols&&e.cols.length>0){var b=e.cols,A="",x=!1,S=0,R=b.length;b[0].type==="separator"&&(m+="top ",S=1),b[b.length-1].type==="separator"&&(m+="bottom ",R-=1);for(var I=S;I<R;I++)b[I].type==="align"?(p+=tE[b[I].align],x&&(A+="none "),x=!0):b[I].type==="separator"&&x&&(A+=b[I].separator==="|"?"solid ":"dashed ",x=!1);c.setAttribute("columnalign",p.trim()),/[sd]/.test(A)&&c.setAttribute("columnlines",A.trim())}if(e.colSeparationType==="align"){for(var P=e.cols||[],N="",$=1;$<P.length;$++)N+=$%2?"0em ":"1em ";c.setAttribute("columnspacing",N.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var _="",B=e.hLinesBeforeRow;m+=B[0].length>0?"left ":"",m+=B[B.length-1].length>0?"right ":"";for(var z=1;z<B.length-1;z++)_+=B[z].length===0?"none ":B[z][0]?"dashed ":"solid ";return/[sd]/.test(_)&&c.setAttribute("rowlines",_.trim()),m!==""&&(c=new K.MathNode("menclose",[c]),c.setAttribute("notation",m.trim())),e.arraystretch&&e.arraystretch<1&&(c=new K.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},$g=function(e,r){e.envName.indexOf("ed")===-1&&bl(e);var i=[],n=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=Wi(e.parser,{cols:i,addJot:!0,autoTag:s?void 0:Nc(e.envName),emptySingleRow:!0,colSeparationType:n,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var c="",h=0;h<r[0].body.length;h++){var m=xe(r[0].body[h],"textord");c+=m.text}o=Number(c),l=o*2}var p=!l;a.body.forEach(function(S){for(var R=1;R<S.length;R+=2){var I=xe(S[R],"styling"),P=xe(I.body[0],"ordgroup");P.body.unshift(u)}if(p)l<S.length&&(l=S.length);else{var N=S.length/2;if(o<N)throw new j("Too many math in a row: "+("expected "+o+", but got "+N),S[0])}});for(var b=0;b<l;++b){var A="r",x=0;b%2===1?A="l":b>0&&p&&(x=1),i[b]={type:"align",align:A,pregap:x,postgap:0}}return a.colSeparationType=p?"align":"alignat",a};Kr({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=ml(e[0]),i=r?[e[0]]:xe(e[0],"ordgroup").body,n=i.map(function(a){var o=wc(a),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new j("Unknown column alignment: "+l,a)}),s={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Wi(t.parser,s,Ic(t.envName))},htmlBuilder:jr,mathmlBuilder:Qr});Kr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var n=t.parser;if(n.consumeSpaces(),n.fetch().text==="["){if(n.consume(),n.consumeSpaces(),r=n.fetch().text,"lcr".indexOf(r)===-1)throw new j("Expected l or c or r",n.nextToken);n.consume(),n.consumeSpaces(),n.expect("]"),n.consume(),i.cols=[{type:"align",align:r}]}}var s=Wi(t.parser,i,Ic(t.envName)),a=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(a).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:jr,mathmlBuilder:Qr});Kr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=Wi(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:jr,mathmlBuilder:Qr});Kr({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=ml(e[0]),i=r?[e[0]]:xe(e[0],"ordgroup").body,n=i.map(function(a){var o=wc(a),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new j("Unknown column alignment: "+l,a)});if(n.length>1)throw new j("{subarray} can contain only one column");var s={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Wi(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new j("{subarray} can contain only one column");return s},htmlBuilder:jr,mathmlBuilder:Qr});Kr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Wi(t.parser,e,Ic(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:jr,mathmlBuilder:Qr});Kr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:$g,htmlBuilder:jr,mathmlBuilder:Qr});Kr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){de.contains(["gather","gather*"],t.envName)&&bl(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Nc(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Wi(t.parser,e,"display")},htmlBuilder:jr,mathmlBuilder:Qr});Kr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:$g,htmlBuilder:jr,mathmlBuilder:Qr});Kr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){bl(t);var e={autoTag:Nc(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Wi(t.parser,e,"display")},htmlBuilder:jr,mathmlBuilder:Qr});Kr({type:"array",names:["CD"],props:{numArgs:0},handler(t){return bl(t),zv(t.parser)},htmlBuilder:jr,mathmlBuilder:Qr});v("\\nonumber","\\gdef\\@eqnsw{0}");v("\\notag","\\nonumber");te({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new j(t.funcName+" valid only within array environment")}});var wf=Ug;te({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];if(n.type!=="ordgroup")throw new j("Invalid environment name",n);for(var s="",a=0;a<n.body.length;++a)s+=xe(n.body[a],"textord").text;if(i==="\\begin"){if(!wf.hasOwnProperty(s))throw new j("No such environment: "+s,n);var o=wf[s],{args:l,optArgs:u}=r.parseArguments("\\begin{"+s+"}",o),c={mode:r.mode,envName:s,parser:r},h=o.handler(c,l,u);r.expect("\\end",!1);var m=r.nextToken,p=xe(r.parseFunction(),"environment");if(p.name!==s)throw new j("Mismatch: \\begin{"+s+"} matched by \\end{"+p.name+"}",m);return h}return{type:"environment",mode:r.mode,name:s,nameGroup:n}}});var qg=(t,e)=>{var r=t.font,i=e.withFont(r);return Me(t.body,i)},Vg=(t,e)=>{var r=t.font,i=e.withFont(r);return Xe(t.body,i)},Cf={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};te({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=yo(e[0]),s=i;return s in Cf&&(s=Cf[s]),{type:"font",mode:r.mode,font:s.slice(1),body:n}},htmlBuilder:qg,mathmlBuilder:Vg});te({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,i=e[0],n=de.isCharacterBox(i);return{type:"mclass",mode:r.mode,mclass:pl(i),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:i}],isCharacterBox:n}}});te({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:i,breakOnTokenText:n}=t,{mode:s}=r,a=r.parseExpression(!0,n),o="math"+i.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:r.mode,body:a}}},htmlBuilder:qg,mathmlBuilder:Vg});var Wg=(t,e)=>{var r=e;return t==="display"?r=r.id>=he.SCRIPT.id?r.text():he.DISPLAY:t==="text"&&r.size===he.DISPLAY.size?r=he.TEXT:t==="script"?r=he.SCRIPT:t==="scriptscript"&&(r=he.SCRIPTSCRIPT),r},Mc=(t,e)=>{var r=Wg(t.size,e.style),i=r.fracNum(),n=r.fracDen(),s;s=e.havingStyle(i);var a=Me(t.numer,s,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<l?l:a.depth}s=e.havingStyle(n);var u=Me(t.denom,s,e),c,h,m;t.hasBarLine?(t.barSize?(h=st(t.barSize,e),c=L.makeLineSpan("frac-line",e,h)):c=L.makeLineSpan("frac-line",e),h=c.height,m=c.height):(c=null,h=0,m=e.fontMetrics().defaultRuleThickness);var p,b,A;r.size===he.DISPLAY.size||t.size==="display"?(p=e.fontMetrics().num1,h>0?b=3*m:b=7*m,A=e.fontMetrics().denom1):(h>0?(p=e.fontMetrics().num2,b=m):(p=e.fontMetrics().num3,b=3*m),A=e.fontMetrics().denom2);var x;if(c){var R=e.fontMetrics().axisHeight;p-a.depth-(R+.5*h)<b&&(p+=b-(p-a.depth-(R+.5*h))),R-.5*h-(u.height-A)<b&&(A+=b-(R-.5*h-(u.height-A)));var I=-(R-.5*h);x=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:A},{type:"elem",elem:c,shift:I},{type:"elem",elem:a,shift:-p}]},e)}else{var S=p-a.depth-(u.height-A);S<b&&(p+=.5*(b-S),A+=.5*(b-S)),x=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:A},{type:"elem",elem:a,shift:-p}]},e)}s=e.havingStyle(r),x.height*=s.sizeMultiplier/e.sizeMultiplier,x.depth*=s.sizeMultiplier/e.sizeMultiplier;var P;r.size===he.DISPLAY.size?P=e.fontMetrics().delim1:r.size===he.SCRIPTSCRIPT.size?P=e.havingStyle(he.SCRIPT).fontMetrics().delim2:P=e.fontMetrics().delim2;var N,$;return t.leftDelim==null?N=Ls(e,["mopen"]):N=li.customSizedDelim(t.leftDelim,P,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?$=L.makeSpan([]):t.rightDelim==null?$=Ls(e,["mclose"]):$=li.customSizedDelim(t.rightDelim,P,!0,e.havingStyle(r),t.mode,["mclose"]),L.makeSpan(["mord"].concat(s.sizingClasses(e)),[N,L.makeSpan(["mfrac"],[x]),$],e)},Dc=(t,e)=>{var r=new K.MathNode("mfrac",[Xe(t.numer,e),Xe(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var i=st(t.barSize,e);r.setAttribute("linethickness",Z(i))}var n=Wg(t.size,e.style);if(n.size!==e.style.size){r=new K.MathNode("mstyle",[r]);var s=n.size===he.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",s),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var o=new K.MathNode("mo",[new K.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(r),t.rightDelim!=null){var l=new K.MathNode("mo",[new K.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return xc(a)}return r};te({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0],s=e[1],a,o=null,l=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",l=")";break;case"\\\\bracefrac":a=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:n,denom:s,hasBarLine:a,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:Mc,mathmlBuilder:Dc});te({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0],s=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:n,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});te({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:i}=t,n;switch(r){case"\\over":n="\\frac";break;case"\\choose":n="\\binom";break;case"\\atop":n="\\\\atopfrac";break;case"\\brace":n="\\\\bracefrac";break;case"\\brack":n="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:n,token:i}}});var kf=["display","text","script","scriptscript"],_f=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};te({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,i=e[4],n=e[5],s=yo(e[0]),a=s.type==="atom"&&s.family==="open"?_f(s.text):null,o=yo(e[1]),l=o.type==="atom"&&o.family==="close"?_f(o.text):null,u=xe(e[2],"size"),c,h=null;u.isBlank?c=!0:(h=u.value,c=h.number>0);var m="auto",p=e[3];if(p.type==="ordgroup"){if(p.body.length>0){var b=xe(p.body[0],"textord");m=kf[Number(b.text)]}}else p=xe(p,"textord"),m=kf[Number(p.text)];return{type:"genfrac",mode:r.mode,numer:i,denom:n,continued:!1,hasBarLine:c,barSize:h,leftDelim:a,rightDelim:l,size:m}},htmlBuilder:Mc,mathmlBuilder:Dc});te({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:i,token:n}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:xe(e[0],"size").value,token:n}}});te({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0],s=MT(xe(e[1],"infix").size),a=e[2],o=s.number>0;return{type:"genfrac",mode:r.mode,numer:n,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Mc,mathmlBuilder:Dc});var Yg=(t,e)=>{var r=e.style,i,n;t.type==="supsub"?(i=t.sup?Me(t.sup,e.havingStyle(r.sup()),e):Me(t.sub,e.havingStyle(r.sub()),e),n=xe(t.base,"horizBrace")):n=xe(t,"horizBrace");var s=Me(n.base,e.havingBaseStyle(he.DISPLAY)),a=fi.svgSpan(n,e),o;if(n.isOver?(o=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=L.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),i){var l=L.makeSpan(["mord",n.isOver?"mover":"munder"],[o],e);n.isOver?o=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:i}]},e):o=L.makeVList({positionType:"bottom",positionData:l.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return L.makeSpan(["mord",n.isOver?"mover":"munder"],[o],e)},rE=(t,e)=>{var r=fi.mathMLnode(t.label);return new K.MathNode(t.isOver?"mover":"munder",[Xe(t.base,e),r])};te({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t;return{type:"horizBrace",mode:r.mode,label:i,isOver:/^\\over/.test(i),base:e[0]}},htmlBuilder:Yg,mathmlBuilder:rE});te({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[1],n=xe(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:n})?{type:"href",mode:r.mode,href:n,body:ht(i)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=kt(t.body,e,!1);return L.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=Pi(t.body,e);return r instanceof br||(r=new br("mrow",[r])),r.setAttribute("href",t.href),r}});te({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=xe(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:i}))return r.formatUnsupportedCmd("\\url");for(var n=[],s=0;s<i.length;s++){var a=i[s];a==="~"&&(a="\\textasciitilde"),n.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:r.mode,font:"\\texttt",body:n};return{type:"href",mode:r.mode,href:i,body:ht(o)}}});te({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:ht(e[0])}},htmlBuilder(t,e){var r=kt(t.body,e,!1);return L.makeFragment(r)},mathmlBuilder(t,e){return new K.MathNode("mrow",nr(t.body,e))}});te({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:i,token:n}=t,s=xe(e[0],"raw").string,a=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(i){case"\\htmlClass":l.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var u=s.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length!==2)throw new j("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:l,body:ht(a)}:r.formatUnsupportedCmd(i)},htmlBuilder:(t,e)=>{var r=kt(t.body,e,!1),i=["enclosing"];t.attributes.class&&i.push(...t.attributes.class.trim().split(/\s+/));var n=L.makeSpan(i,r,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&n.setAttribute(s,t.attributes[s]);return n},mathmlBuilder:(t,e)=>Pi(t.body,e)});te({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:ht(e[0]),mathml:ht(e[1])}},htmlBuilder:(t,e)=>{var r=kt(t.html,e,!1);return L.makeFragment(r)},mathmlBuilder:(t,e)=>Pi(t.mathml,e)});var n0=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new j("Invalid size: '"+e+"' in \\includegraphics");var i={number:+(r[1]+r[2]),unit:r[3]};if(!hg(i))throw new j("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};te({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:i}=t,n={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(r[0])for(var l=xe(r[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length===2){var m=h[1].trim();switch(h[0].trim()){case"alt":o=m;break;case"width":n=n0(m);break;case"height":s=n0(m);break;case"totalheight":a=n0(m);break;default:throw new j("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var p=xe(e[0],"url").url;return o===""&&(o=p,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:i.mode,alt:o,width:n,height:s,totalheight:a,src:p}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=st(t.height,e),i=0;t.totalheight.number>0&&(i=st(t.totalheight,e)-r);var n=0;t.width.number>0&&(n=st(t.width,e));var s={height:Z(r+i)};n>0&&(s.width=Z(n)),i>0&&(s.verticalAlign=Z(-i));var a=new rv(t.src,t.alt,s);return a.height=r,a.depth=i,a},mathmlBuilder:(t,e)=>{var r=new K.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var i=st(t.height,e),n=0;if(t.totalheight.number>0&&(n=st(t.totalheight,e)-i,r.setAttribute("valign",Z(-n))),r.setAttribute("height",Z(i+n)),t.width.number>0){var s=st(t.width,e);r.setAttribute("width",Z(s))}return r.setAttribute("src",t.src),r}});te({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:i}=t,n=xe(e[0],"size");if(r.settings.strict){var s=i[1]==="m",a=n.value.unit==="mu";s?(a||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+n.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):a&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:n.value}},htmlBuilder(t,e){return L.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=st(t.dimension,e);return new K.SpaceNode(r)}});te({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0];return{type:"lap",mode:r.mode,alignment:i.slice(5),body:n}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=L.makeSpan([],[Me(t.body,e)]),r=L.makeSpan(["inner"],[r],e)):r=L.makeSpan(["inner"],[Me(t.body,e)]);var i=L.makeSpan(["fix"],[]),n=L.makeSpan([t.alignment],[r,i],e),s=L.makeSpan(["strut"]);return s.style.height=Z(n.height+n.depth),n.depth&&(s.style.verticalAlign=Z(-n.depth)),n.children.unshift(s),n=L.makeSpan(["thinbox"],[n],e),L.makeSpan(["mord","vbox"],[n],e)},mathmlBuilder:(t,e)=>{var r=new K.MathNode("mpadded",[Xe(t.body,e)]);if(t.alignment!=="rlap"){var i=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",i+"width")}return r.setAttribute("width","0px"),r}});te({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:i}=t,n=i.mode;i.switchMode("math");var s=r==="\\("?"\\)":"$",a=i.parseExpression(!1,s);return i.expect(s),i.switchMode(n),{type:"styling",mode:i.mode,style:"text",body:a}}});te({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new j("Mismatched "+t.funcName)}});var Of=(t,e)=>{switch(e.style.size){case he.DISPLAY.size:return t.display;case he.TEXT.size:return t.text;case he.SCRIPT.size:return t.script;case he.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};te({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:ht(e[0]),text:ht(e[1]),script:ht(e[2]),scriptscript:ht(e[3])}},htmlBuilder:(t,e)=>{var r=Of(t,e),i=kt(r,e,!1);return L.makeFragment(i)},mathmlBuilder:(t,e)=>{var r=Of(t,e);return Pi(r,e)}});var Gg=(t,e,r,i,n,s,a)=>{t=L.makeSpan([],[t]);var o=r&&de.isCharacterBox(r),l,u;if(e){var c=Me(e,i.havingStyle(n.sup()),i);u={elem:c,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-c.depth)}}if(r){var h=Me(r,i.havingStyle(n.sub()),i);l={elem:h,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-h.height)}}var m;if(u&&l){var p=i.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+a;m=L.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Z(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Z(s)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(l){var b=t.height-a;m=L.makeVList({positionType:"top",positionData:b,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Z(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},i)}else if(u){var A=t.depth+a;m=L.makeVList({positionType:"bottom",positionData:A,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Z(s)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return t;var x=[m];if(l&&s!==0&&!o){var S=L.makeSpan(["mspace"],[],i);S.style.marginRight=Z(s),x.unshift(S)}return L.makeSpan(["mop","op-limits"],x,i)},Xg=["\\smallint"],Jn=(t,e)=>{var r,i,n=!1,s;t.type==="supsub"?(r=t.sup,i=t.sub,s=xe(t.base,"op"),n=!0):s=xe(t,"op");var a=e.style,o=!1;a.size===he.DISPLAY.size&&s.symbol&&!de.contains(Xg,s.name)&&(o=!0);var l;if(s.symbol){var u=o?"Size2-Regular":"Size1-Regular",c="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(c=s.name.slice(1),s.name=c==="oiint"?"\\iint":"\\iiint"),l=L.makeSymbol(s.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),c.length>0){var h=l.italic,m=L.staticSvg(c+"Size"+(o?"2":"1"),e);l=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:m,shift:o?.08:0}]},e),s.name="\\"+c,l.classes.unshift("mop"),l.italic=h}}else if(s.body){var p=kt(s.body,e,!0);p.length===1&&p[0]instanceof Ar?(l=p[0],l.classes[0]="mop"):l=L.makeSpan(["mop"],p,e)}else{for(var b=[],A=1;A<s.name.length;A++)b.push(L.mathsym(s.name[A],s.mode,e));l=L.makeSpan(["mop"],b,e)}var x=0,S=0;return(l instanceof Ar||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(x=(l.height-l.depth)/2-e.fontMetrics().axisHeight,S=l.italic),n?Gg(l,r,i,e,a,S,x):(x&&(l.style.position="relative",l.style.top=Z(x)),l)},ea=(t,e)=>{var r;if(t.symbol)r=new br("mo",[xr(t.name,t.mode)]),de.contains(Xg,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new br("mo",nr(t.body,e));else{r=new br("mi",[new As(t.name.slice(1))]);var i=new br("mo",[xr("⁡","text")]);t.parentIsSupSub?r=new br("mrow",[r,i]):r=Ag([r,i])}return r},iE={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};te({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=i;return n.length===1&&(n=iE[n]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Jn,mathmlBuilder:ea});te({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ht(i)}},htmlBuilder:Jn,mathmlBuilder:ea});var nE={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};te({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Jn,mathmlBuilder:ea});te({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Jn,mathmlBuilder:ea});te({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,i=r;return i.length===1&&(i=nE[i]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Jn,mathmlBuilder:ea});var Kg=(t,e)=>{var r,i,n=!1,s;t.type==="supsub"?(r=t.sup,i=t.sub,s=xe(t.base,"operatorname"),n=!0):s=xe(t,"operatorname");var a;if(s.body.length>0){for(var o=s.body.map(h=>{var m=h.text;return typeof m=="string"?{type:"textord",mode:h.mode,text:m}:h}),l=kt(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof Ar&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=L.makeSpan(["mop"],l,e)}else a=L.makeSpan(["mop"],[],e);return n?Gg(a,r,i,e,e.style,0,0):a},sE=(t,e)=>{for(var r=nr(t.body,e.withFont("mathrm")),i=!0,n=0;n<r.length;n++){var s=r[n];if(!(s instanceof K.SpaceNode))if(s instanceof K.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof K.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var o=r.map(c=>c.toText()).join("");r=[new K.TextNode(o)]}var l=new K.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new K.MathNode("mo",[xr("⁡","text")]);return t.parentIsSupSub?new K.MathNode("mrow",[l,u]):K.newDocumentFragment([l,u])};te({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0];return{type:"operatorname",mode:r.mode,body:ht(n),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Kg,mathmlBuilder:sE});v("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");pn({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?L.makeFragment(kt(t.body,e,!1)):L.makeSpan(["mord"],kt(t.body,e,!0),e)},mathmlBuilder(t,e){return Pi(t.body,e,!0)}});te({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,i=e[0];return{type:"overline",mode:r.mode,body:i}},htmlBuilder(t,e){var r=Me(t.body,e.havingCrampedStyle()),i=L.makeLineSpan("overline-line",e),n=e.fontMetrics().defaultRuleThickness,s=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*n},{type:"elem",elem:i},{type:"kern",size:n}]},e);return L.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var r=new K.MathNode("mo",[new K.TextNode("‾")]);r.setAttribute("stretchy","true");var i=new K.MathNode("mover",[Xe(t.body,e),r]);return i.setAttribute("accent","true"),i}});te({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"phantom",mode:r.mode,body:ht(i)}},htmlBuilder:(t,e)=>{var r=kt(t.body,e.withPhantom(),!1);return L.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=nr(t.body,e);return new K.MathNode("mphantom",r)}});te({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"hphantom",mode:r.mode,body:i}},htmlBuilder:(t,e)=>{var r=L.makeSpan([],[Me(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var i=0;i<r.children.length;i++)r.children[i].height=0,r.children[i].depth=0;return r=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),L.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=nr(ht(t.body),e),i=new K.MathNode("mphantom",r),n=new K.MathNode("mpadded",[i]);return n.setAttribute("height","0px"),n.setAttribute("depth","0px"),n}});te({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"vphantom",mode:r.mode,body:i}},htmlBuilder:(t,e)=>{var r=L.makeSpan(["inner"],[Me(t.body,e.withPhantom())]),i=L.makeSpan(["fix"],[]);return L.makeSpan(["mord","rlap"],[r,i],e)},mathmlBuilder:(t,e)=>{var r=nr(ht(t.body),e),i=new K.MathNode("mphantom",r),n=new K.MathNode("mpadded",[i]);return n.setAttribute("width","0px"),n}});te({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,i=xe(e[0],"size").value,n=e[1];return{type:"raisebox",mode:r.mode,dy:i,body:n}},htmlBuilder(t,e){var r=Me(t.body,e),i=st(t.dy,e);return L.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new K.MathNode("mpadded",[Xe(t.body,e)]),i=t.dy.number+t.dy.unit;return r.setAttribute("voffset",i),r}});te({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});te({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,r){var{parser:i}=t,n=r[0],s=xe(e[0],"size"),a=xe(e[1],"size");return{type:"rule",mode:i.mode,shift:n&&xe(n,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var r=L.makeSpan(["mord","rule"],[],e),i=st(t.width,e),n=st(t.height,e),s=t.shift?st(t.shift,e):0;return r.style.borderRightWidth=Z(i),r.style.borderTopWidth=Z(n),r.style.bottom=Z(s),r.width=i,r.height=n+s,r.depth=-s,r.maxFontSize=n*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=st(t.width,e),i=st(t.height,e),n=t.shift?st(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new K.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",Z(r)),a.setAttribute("height",Z(i));var o=new K.MathNode("mpadded",[a]);return n>=0?o.setAttribute("height",Z(n)):(o.setAttribute("height",Z(n)),o.setAttribute("depth",Z(-n))),o.setAttribute("voffset",Z(n)),o}});function jg(t,e,r){for(var i=kt(t,e,!1),n=e.sizeMultiplier/r.sizeMultiplier,s=0;s<i.length;s++){var a=i[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(i[s].classes,e.sizingClasses(r)):i[s].classes[a+1]==="reset-size"+e.size&&(i[s].classes[a+1]="reset-size"+r.size),i[s].height*=n,i[s].depth*=n}return L.makeFragment(i)}var Nf=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],aE=(t,e)=>{var r=e.havingSize(t.size);return jg(t.body,r,e)};te({type:"sizing",names:Nf,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:i,parser:n}=t,s=n.parseExpression(!1,r);return{type:"sizing",mode:n.mode,size:Nf.indexOf(i)+1,body:s}},htmlBuilder:aE,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),i=nr(t.body,r),n=new K.MathNode("mstyle",i);return n.setAttribute("mathsize",Z(r.sizeMultiplier)),n}});te({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:i}=t,n=!1,s=!1,a=r[0]&&xe(r[0],"ordgroup");if(a)for(var o="",l=0;l<a.body.length;++l){var u=a.body[l];if(o=u.text,o==="t")n=!0;else if(o==="b")s=!0;else{n=!1,s=!1;break}}else n=!0,s=!0;var c=e[0];return{type:"smash",mode:i.mode,body:c,smashHeight:n,smashDepth:s}},htmlBuilder:(t,e)=>{var r=L.makeSpan([],[Me(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].depth=0;var s=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return L.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var r=new K.MathNode("mpadded",[Xe(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});te({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:i}=t,n=r[0],s=e[0];return{type:"sqrt",mode:i.mode,body:s,index:n}},htmlBuilder(t,e){var r=Me(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=L.wrapFragment(r,e);var i=e.fontMetrics(),n=i.defaultRuleThickness,s=n;e.style.id<he.TEXT.id&&(s=e.fontMetrics().xHeight);var a=n+s/4,o=r.height+r.depth+a+n,{span:l,ruleWidth:u,advanceWidth:c}=li.sqrtImage(o,e),h=l.height-u;h>r.height+r.depth+a&&(a=(a+h-r.height-r.depth)/2);var m=l.height-r.height-a-u;r.style.paddingLeft=Z(c);var p=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+m)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var b=e.havingStyle(he.SCRIPTSCRIPT),A=Me(t.index,b,e),x=.6*(p.height-p.depth),S=L.makeVList({positionType:"shift",positionData:-x,children:[{type:"elem",elem:A}]},e),R=L.makeSpan(["root"],[S]);return L.makeSpan(["mord","sqrt"],[R,p],e)}else return L.makeSpan(["mord","sqrt"],[p],e)},mathmlBuilder(t,e){var{body:r,index:i}=t;return i?new K.MathNode("mroot",[Xe(r,e),Xe(i,e)]):new K.MathNode("msqrt",[Xe(r,e)])}});var If={display:he.DISPLAY,text:he.TEXT,script:he.SCRIPT,scriptscript:he.SCRIPTSCRIPT};te({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:i,parser:n}=t,s=n.parseExpression(!0,r),a=i.slice(1,i.length-5);return{type:"styling",mode:n.mode,style:a,body:s}},htmlBuilder(t,e){var r=If[t.style],i=e.havingStyle(r).withFont("");return jg(t.body,i,e)},mathmlBuilder(t,e){var r=If[t.style],i=e.havingStyle(r),n=nr(t.body,i),s=new K.MathNode("mstyle",n),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[t.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var oE=function(e,r){var i=e.base;if(i)if(i.type==="op"){var n=i.limits&&(r.style.size===he.DISPLAY.size||i.alwaysHandleSupSub);return n?Jn:null}else if(i.type==="operatorname"){var s=i.alwaysHandleSupSub&&(r.style.size===he.DISPLAY.size||i.limits);return s?Kg:null}else{if(i.type==="accent")return de.isCharacterBox(i.base)?Cc:null;if(i.type==="horizBrace"){var a=!e.sub;return a===i.isOver?Yg:null}else return null}else return null};pn({type:"supsub",htmlBuilder(t,e){var r=oE(t,e);if(r)return r(t,e);var{base:i,sup:n,sub:s}=t,a=Me(i,e),o,l,u=e.fontMetrics(),c=0,h=0,m=i&&de.isCharacterBox(i);if(n){var p=e.havingStyle(e.style.sup());o=Me(n,p,e),m||(c=a.height-p.fontMetrics().supDrop*p.sizeMultiplier/e.sizeMultiplier)}if(s){var b=e.havingStyle(e.style.sub());l=Me(s,b,e),m||(h=a.depth+b.fontMetrics().subDrop*b.sizeMultiplier/e.sizeMultiplier)}var A;e.style===he.DISPLAY?A=u.sup1:e.style.cramped?A=u.sup3:A=u.sup2;var x=e.sizeMultiplier,S=Z(.5/u.ptPerEm/x),R=null;if(l){var I=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof Ar||I)&&(R=Z(-a.italic))}var P;if(o&&l){c=Math.max(c,A,o.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var N=u.defaultRuleThickness,$=4*N;if(c-o.depth-(l.height-h)<$){h=$-(c-o.depth)+l.height;var _=.8*u.xHeight-(c-o.depth);_>0&&(c+=_,h-=_)}var B=[{type:"elem",elem:l,shift:h,marginRight:S,marginLeft:R},{type:"elem",elem:o,shift:-c,marginRight:S}];P=L.makeVList({positionType:"individualShift",children:B},e)}else if(l){h=Math.max(h,u.sub1,l.height-.8*u.xHeight);var z=[{type:"elem",elem:l,marginLeft:R,marginRight:S}];P=L.makeVList({positionType:"shift",positionData:h,children:z},e)}else if(o)c=Math.max(c,A,o.depth+.25*u.xHeight),P=L.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:o,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var M=J0(a,"right")||"mord";return L.makeSpan([M],[a,L.makeSpan(["msupsub"],[P])],e)},mathmlBuilder(t,e){var r=!1,i,n;t.base&&t.base.type==="horizBrace"&&(n=!!t.sup,n===t.base.isOver&&(r=!0,i=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[Xe(t.base,e)];t.sub&&s.push(Xe(t.sub,e)),t.sup&&s.push(Xe(t.sup,e));var a;if(r)a=i?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===he.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===he.DISPLAY||u.limits)?a="munderover":a="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===he.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===he.DISPLAY)?a="munder":a="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===he.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===he.DISPLAY)?a="mover":a="msup"}return new K.MathNode(a,s)}});pn({type:"atom",htmlBuilder(t,e){return L.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new K.MathNode("mo",[xr(t.text,t.mode)]);if(t.family==="bin"){var i=Sc(t,e);i==="bold-italic"&&r.setAttribute("mathvariant",i)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var Qg={mi:"italic",mn:"normal",mtext:"normal"};pn({type:"mathord",htmlBuilder(t,e){return L.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new K.MathNode("mi",[xr(t.text,t.mode,e)]),i=Sc(t,e)||"italic";return i!==Qg[r.type]&&r.setAttribute("mathvariant",i),r}});pn({type:"textord",htmlBuilder(t,e){return L.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=xr(t.text,t.mode,e),i=Sc(t,e)||"normal",n;return t.mode==="text"?n=new K.MathNode("mtext",[r]):/[0-9]/.test(t.text)?n=new K.MathNode("mn",[r]):t.text==="\\prime"?n=new K.MathNode("mo",[r]):n=new K.MathNode("mi",[r]),i!==Qg[n.type]&&n.setAttribute("mathvariant",i),n}});var s0={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},a0={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};pn({type:"spacing",htmlBuilder(t,e){if(a0.hasOwnProperty(t.text)){var r=a0[t.text].className||"";if(t.mode==="text"){var i=L.makeOrd(t,e,"textord");return i.classes.push(r),i}else return L.makeSpan(["mspace",r],[L.mathsym(t.text,t.mode,e)],e)}else{if(s0.hasOwnProperty(t.text))return L.makeSpan(["mspace",s0[t.text]],[],e);throw new j('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(a0.hasOwnProperty(t.text))r=new K.MathNode("mtext",[new K.TextNode(" ")]);else{if(s0.hasOwnProperty(t.text))return new K.MathNode("mspace");throw new j('Unknown type of space "'+t.text+'"')}return r}});var Mf=()=>{var t=new K.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};pn({type:"tag",mathmlBuilder(t,e){var r=new K.MathNode("mtable",[new K.MathNode("mtr",[Mf(),new K.MathNode("mtd",[Pi(t.body,e)]),Mf(),new K.MathNode("mtd",[Pi(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var Df={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Rf={"\\textbf":"textbf","\\textmd":"textmd"},lE={"\\textit":"textit","\\textup":"textup"},Lf=(t,e)=>{var r=t.font;return r?Df[r]?e.withTextFontFamily(Df[r]):Rf[r]?e.withTextFontWeight(Rf[r]):e.withTextFontShape(lE[r]):e};te({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];return{type:"text",mode:r.mode,body:ht(n),font:i}},htmlBuilder(t,e){var r=Lf(t,e),i=kt(t.body,r,!0);return L.makeSpan(["mord","text"],i,r)},mathmlBuilder(t,e){var r=Lf(t,e);return Pi(t.body,r)}});te({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Me(t.body,e),i=L.makeLineSpan("underline-line",e),n=e.fontMetrics().defaultRuleThickness,s=L.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:n},{type:"elem",elem:i},{type:"kern",size:3*n},{type:"elem",elem:r}]},e);return L.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var r=new K.MathNode("mo",[new K.TextNode("‾")]);r.setAttribute("stretchy","true");var i=new K.MathNode("munder",[Xe(t.body,e),r]);return i.setAttribute("accentunder","true"),i}});te({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Me(t.body,e),i=e.fontMetrics().axisHeight,n=.5*(r.height-i-(r.depth+i));return L.makeVList({positionType:"shift",positionData:n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new K.MathNode("mpadded",[Xe(t.body,e)],["vcenter"])}});te({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new j("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=Pf(t),i=[],n=e.havingStyle(e.style.text()),s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),i.push(L.makeSymbol(a,"Typewriter-Regular",t.mode,n,["mord","texttt"]))}return L.makeSpan(["mord","text"].concat(n.sizingClasses(e)),L.tryCombineChars(i),n)},mathmlBuilder(t,e){var r=new K.TextNode(Pf(t)),i=new K.MathNode("mtext",[r]);return i.setAttribute("mathvariant","monospace"),i}});var Pf=t=>t.body.replace(/ /g,t.star?"␣":" "),Ci=Eg,Jg=`[ \r
	]`,uE="\\\\[a-zA-Z@]+",cE="\\\\[^\uD800-\uDFFF]",hE="("+uE+")"+Jg+"*",fE=`\\\\(
|[ \r	]+
?)[ \r	]*`,ru="[̀-ͯ]",dE=new RegExp(ru+"+$"),mE="("+Jg+"+)|"+(fE+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(ru+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(ru+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+hE)+("|"+cE+")");class Bf{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(mE,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new vr("EOF",new lr(this,r,r));var i=this.tokenRegex.exec(e);if(i===null||i.index!==r)throw new j("Unexpected character: '"+e[r]+"'",new vr(e[r],new lr(this,r,r+1)));var n=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[n]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new vr(n,new lr(this,r,this.tokenRegex.lastIndex))}}class pE{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new j("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,i){if(i===void 0&&(i=!1),i){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var gE=zg;v("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});v("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});v("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});v("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});v("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});v("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");v("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var Ff={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};v("\\char",function(t){var e=t.popToken(),r,i="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")i=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new j("\\char` missing argument");i=e.text.charCodeAt(0)}else r=10;if(r){if(i=Ff[e.text],i==null||i>=r)throw new j("Invalid base-"+r+" digit "+e.text);for(var n;(n=Ff[t.future().text])!=null&&n<r;)i*=r,i+=n,t.popToken()}return"\\@char{"+i+"}"});var Rc=(t,e,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new j("\\newcommand's first argument must be a macro name");var n=i[0].text,s=t.isDefined(n);if(s&&!e)throw new j("\\newcommand{"+n+"} attempting to redefine "+(n+"; use \\renewcommand"));if(!s&&!r)throw new j("\\renewcommand{"+n+"} when command "+n+" does not yet exist; use \\newcommand");var a=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var o="",l=t.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=t.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new j("Invalid number of arguments: "+o);a=parseInt(o),i=t.consumeArg().tokens}return t.macros.set(n,{tokens:i,numArgs:a}),""};v("\\newcommand",t=>Rc(t,!1,!0));v("\\renewcommand",t=>Rc(t,!0,!1));v("\\providecommand",t=>Rc(t,!0,!0));v("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});v("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});v("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Ci[r],je.math[r],je.text[r]),""});v("\\bgroup","{");v("\\egroup","}");v("~","\\nobreakspace");v("\\lq","`");v("\\rq","'");v("\\aa","\\r a");v("\\AA","\\r A");v("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");v("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");v("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");v("ℬ","\\mathscr{B}");v("ℰ","\\mathscr{E}");v("ℱ","\\mathscr{F}");v("ℋ","\\mathscr{H}");v("ℐ","\\mathscr{I}");v("ℒ","\\mathscr{L}");v("ℳ","\\mathscr{M}");v("ℛ","\\mathscr{R}");v("ℭ","\\mathfrak{C}");v("ℌ","\\mathfrak{H}");v("ℨ","\\mathfrak{Z}");v("\\Bbbk","\\Bbb{k}");v("·","\\cdotp");v("\\llap","\\mathllap{\\textrm{#1}}");v("\\rlap","\\mathrlap{\\textrm{#1}}");v("\\clap","\\mathclap{\\textrm{#1}}");v("\\mathstrut","\\vphantom{(}");v("\\underbar","\\underline{\\text{#1}}");v("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');v("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");v("\\ne","\\neq");v("≠","\\neq");v("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");v("∉","\\notin");v("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");v("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");v("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");v("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");v("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");v("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");v("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");v("⟂","\\perp");v("‼","\\mathclose{!\\mkern-0.8mu!}");v("∌","\\notni");v("⌜","\\ulcorner");v("⌝","\\urcorner");v("⌞","\\llcorner");v("⌟","\\lrcorner");v("©","\\copyright");v("®","\\textregistered");v("️","\\textregistered");v("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');v("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');v("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');v("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');v("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");v("⋮","\\vdots");v("\\varGamma","\\mathit{\\Gamma}");v("\\varDelta","\\mathit{\\Delta}");v("\\varTheta","\\mathit{\\Theta}");v("\\varLambda","\\mathit{\\Lambda}");v("\\varXi","\\mathit{\\Xi}");v("\\varPi","\\mathit{\\Pi}");v("\\varSigma","\\mathit{\\Sigma}");v("\\varUpsilon","\\mathit{\\Upsilon}");v("\\varPhi","\\mathit{\\Phi}");v("\\varPsi","\\mathit{\\Psi}");v("\\varOmega","\\mathit{\\Omega}");v("\\substack","\\begin{subarray}{c}#1\\end{subarray}");v("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");v("\\boxed","\\fbox{$\\displaystyle{#1}$}");v("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");v("\\implies","\\DOTSB\\;\\Longrightarrow\\;");v("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Hf={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};v("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in Hf?e=Hf[r]:(r.slice(0,4)==="\\not"||r in je.math&&de.contains(["bin","rel"],je.math[r].group))&&(e="\\dotsb"),e});var Lc={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};v("\\dotso",function(t){var e=t.future().text;return e in Lc?"\\ldots\\,":"\\ldots"});v("\\dotsc",function(t){var e=t.future().text;return e in Lc&&e!==","?"\\ldots\\,":"\\ldots"});v("\\cdots",function(t){var e=t.future().text;return e in Lc?"\\@cdots\\,":"\\@cdots"});v("\\dotsb","\\cdots");v("\\dotsm","\\cdots");v("\\dotsi","\\!\\cdots");v("\\dotsx","\\ldots\\,");v("\\DOTSI","\\relax");v("\\DOTSB","\\relax");v("\\DOTSX","\\relax");v("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");v("\\,","\\tmspace+{3mu}{.1667em}");v("\\thinspace","\\,");v("\\>","\\mskip{4mu}");v("\\:","\\tmspace+{4mu}{.2222em}");v("\\medspace","\\:");v("\\;","\\tmspace+{5mu}{.2777em}");v("\\thickspace","\\;");v("\\!","\\tmspace-{3mu}{.1667em}");v("\\negthinspace","\\!");v("\\negmedspace","\\tmspace-{4mu}{.2222em}");v("\\negthickspace","\\tmspace-{5mu}{.277em}");v("\\enspace","\\kern.5em ");v("\\enskip","\\hskip.5em\\relax");v("\\quad","\\hskip1em\\relax");v("\\qquad","\\hskip2em\\relax");v("\\tag","\\@ifstar\\tag@literal\\tag@paren");v("\\tag@paren","\\tag@literal{({#1})}");v("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new j("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});v("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");v("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");v("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");v("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");v("\\newline","\\\\\\relax");v("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Zg=Z(Ur["Main-Regular"]["T".charCodeAt(0)][1]-.7*Ur["Main-Regular"]["A".charCodeAt(0)][1]);v("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Zg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");v("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Zg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");v("\\hspace","\\@ifstar\\@hspacer\\@hspace");v("\\@hspace","\\hskip #1\\relax");v("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");v("\\ordinarycolon",":");v("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");v("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');v("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');v("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');v("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');v("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');v("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');v("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');v("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');v("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');v("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');v("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');v("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');v("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');v("∷","\\dblcolon");v("∹","\\eqcolon");v("≔","\\coloneqq");v("≕","\\eqqcolon");v("⩴","\\Coloneqq");v("\\ratio","\\vcentcolon");v("\\coloncolon","\\dblcolon");v("\\colonequals","\\coloneqq");v("\\coloncolonequals","\\Coloneqq");v("\\equalscolon","\\eqqcolon");v("\\equalscoloncolon","\\Eqqcolon");v("\\colonminus","\\coloneq");v("\\coloncolonminus","\\Coloneq");v("\\minuscolon","\\eqcolon");v("\\minuscoloncolon","\\Eqcolon");v("\\coloncolonapprox","\\Colonapprox");v("\\coloncolonsim","\\Colonsim");v("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");v("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");v("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");v("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");v("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");v("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");v("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");v("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");v("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");v("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");v("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");v("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");v("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");v("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");v("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");v("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");v("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");v("\\nleqq","\\html@mathml{\\@nleqq}{≰}");v("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");v("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");v("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");v("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");v("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");v("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");v("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");v("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");v("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");v("\\imath","\\html@mathml{\\@imath}{ı}");v("\\jmath","\\html@mathml{\\@jmath}{ȷ}");v("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");v("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");v("⟦","\\llbracket");v("⟧","\\rrbracket");v("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");v("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");v("⦃","\\lBrace");v("⦄","\\rBrace");v("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");v("⦵","\\minuso");v("\\darr","\\downarrow");v("\\dArr","\\Downarrow");v("\\Darr","\\Downarrow");v("\\lang","\\langle");v("\\rang","\\rangle");v("\\uarr","\\uparrow");v("\\uArr","\\Uparrow");v("\\Uarr","\\Uparrow");v("\\N","\\mathbb{N}");v("\\R","\\mathbb{R}");v("\\Z","\\mathbb{Z}");v("\\alef","\\aleph");v("\\alefsym","\\aleph");v("\\Alpha","\\mathrm{A}");v("\\Beta","\\mathrm{B}");v("\\bull","\\bullet");v("\\Chi","\\mathrm{X}");v("\\clubs","\\clubsuit");v("\\cnums","\\mathbb{C}");v("\\Complex","\\mathbb{C}");v("\\Dagger","\\ddagger");v("\\diamonds","\\diamondsuit");v("\\empty","\\emptyset");v("\\Epsilon","\\mathrm{E}");v("\\Eta","\\mathrm{H}");v("\\exist","\\exists");v("\\harr","\\leftrightarrow");v("\\hArr","\\Leftrightarrow");v("\\Harr","\\Leftrightarrow");v("\\hearts","\\heartsuit");v("\\image","\\Im");v("\\infin","\\infty");v("\\Iota","\\mathrm{I}");v("\\isin","\\in");v("\\Kappa","\\mathrm{K}");v("\\larr","\\leftarrow");v("\\lArr","\\Leftarrow");v("\\Larr","\\Leftarrow");v("\\lrarr","\\leftrightarrow");v("\\lrArr","\\Leftrightarrow");v("\\Lrarr","\\Leftrightarrow");v("\\Mu","\\mathrm{M}");v("\\natnums","\\mathbb{N}");v("\\Nu","\\mathrm{N}");v("\\Omicron","\\mathrm{O}");v("\\plusmn","\\pm");v("\\rarr","\\rightarrow");v("\\rArr","\\Rightarrow");v("\\Rarr","\\Rightarrow");v("\\real","\\Re");v("\\reals","\\mathbb{R}");v("\\Reals","\\mathbb{R}");v("\\Rho","\\mathrm{P}");v("\\sdot","\\cdot");v("\\sect","\\S");v("\\spades","\\spadesuit");v("\\sub","\\subset");v("\\sube","\\subseteq");v("\\supe","\\supseteq");v("\\Tau","\\mathrm{T}");v("\\thetasym","\\vartheta");v("\\weierp","\\wp");v("\\Zeta","\\mathrm{Z}");v("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");v("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");v("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");v("\\bra","\\mathinner{\\langle{#1}|}");v("\\ket","\\mathinner{|{#1}\\rangle}");v("\\braket","\\mathinner{\\langle{#1}\\rangle}");v("\\Bra","\\left\\langle#1\\right|");v("\\Ket","\\left|#1\\right\\rangle");var e2=t=>e=>{var r=e.consumeArg().tokens,i=e.consumeArg().tokens,n=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=h=>m=>{t&&(m.macros.set("|",a),n.length&&m.macros.set("\\|",o));var p=h;if(!h&&n.length){var b=m.future();b.text==="|"&&(m.popToken(),p=!0)}return{tokens:p?n:i,numArgs:0}};e.macros.set("|",l(!1)),n.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...s,...u,...r]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};v("\\bra@ket",e2(!1));v("\\bra@set",e2(!0));v("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");v("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");v("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");v("\\angln","{\\angl n}");v("\\blue","\\textcolor{##6495ed}{#1}");v("\\orange","\\textcolor{##ffa500}{#1}");v("\\pink","\\textcolor{##ff00af}{#1}");v("\\red","\\textcolor{##df0030}{#1}");v("\\green","\\textcolor{##28ae7b}{#1}");v("\\gray","\\textcolor{gray}{#1}");v("\\purple","\\textcolor{##9d38bd}{#1}");v("\\blueA","\\textcolor{##ccfaff}{#1}");v("\\blueB","\\textcolor{##80f6ff}{#1}");v("\\blueC","\\textcolor{##63d9ea}{#1}");v("\\blueD","\\textcolor{##11accd}{#1}");v("\\blueE","\\textcolor{##0c7f99}{#1}");v("\\tealA","\\textcolor{##94fff5}{#1}");v("\\tealB","\\textcolor{##26edd5}{#1}");v("\\tealC","\\textcolor{##01d1c1}{#1}");v("\\tealD","\\textcolor{##01a995}{#1}");v("\\tealE","\\textcolor{##208170}{#1}");v("\\greenA","\\textcolor{##b6ffb0}{#1}");v("\\greenB","\\textcolor{##8af281}{#1}");v("\\greenC","\\textcolor{##74cf70}{#1}");v("\\greenD","\\textcolor{##1fab54}{#1}");v("\\greenE","\\textcolor{##0d923f}{#1}");v("\\goldA","\\textcolor{##ffd0a9}{#1}");v("\\goldB","\\textcolor{##ffbb71}{#1}");v("\\goldC","\\textcolor{##ff9c39}{#1}");v("\\goldD","\\textcolor{##e07d10}{#1}");v("\\goldE","\\textcolor{##a75a05}{#1}");v("\\redA","\\textcolor{##fca9a9}{#1}");v("\\redB","\\textcolor{##ff8482}{#1}");v("\\redC","\\textcolor{##f9685d}{#1}");v("\\redD","\\textcolor{##e84d39}{#1}");v("\\redE","\\textcolor{##bc2612}{#1}");v("\\maroonA","\\textcolor{##ffbde0}{#1}");v("\\maroonB","\\textcolor{##ff92c6}{#1}");v("\\maroonC","\\textcolor{##ed5fa6}{#1}");v("\\maroonD","\\textcolor{##ca337c}{#1}");v("\\maroonE","\\textcolor{##9e034e}{#1}");v("\\purpleA","\\textcolor{##ddd7ff}{#1}");v("\\purpleB","\\textcolor{##c6b9fc}{#1}");v("\\purpleC","\\textcolor{##aa87ff}{#1}");v("\\purpleD","\\textcolor{##7854ab}{#1}");v("\\purpleE","\\textcolor{##543b78}{#1}");v("\\mintA","\\textcolor{##f5f9e8}{#1}");v("\\mintB","\\textcolor{##edf2df}{#1}");v("\\mintC","\\textcolor{##e0e5cc}{#1}");v("\\grayA","\\textcolor{##f6f7f7}{#1}");v("\\grayB","\\textcolor{##f0f1f2}{#1}");v("\\grayC","\\textcolor{##e3e5e6}{#1}");v("\\grayD","\\textcolor{##d6d8da}{#1}");v("\\grayE","\\textcolor{##babec2}{#1}");v("\\grayF","\\textcolor{##888d93}{#1}");v("\\grayG","\\textcolor{##626569}{#1}");v("\\grayH","\\textcolor{##3b3e40}{#1}");v("\\grayI","\\textcolor{##21242c}{#1}");v("\\kaBlue","\\textcolor{##314453}{#1}");v("\\kaGreen","\\textcolor{##71B307}{#1}");var t2={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class bE{constructor(e,r,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new pE(gE,r.macros),this.mode=i,this.stack=[]}feed(e){this.lexer=new Bf(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,i,n;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:n,end:i}=this.consumeArg(["]"])}else({tokens:n,start:r,end:i}=this.consumeArg());return this.pushToken(new vr("EOF",i.loc)),this.pushTokens(n),r.range(i,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],i=e&&e.length>0;i||this.consumeSpaces();var n=this.future(),s,a=0,o=0;do{if(s=this.popToken(),r.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new j("Extra }",s)}else if(s.text==="EOF")throw new j("Unexpected end of input in a macro argument, expected '"+(e&&i?e[o]:"}")+"'",s);if(e&&i)if((a===0||a===1&&e[o]==="{")&&s.text===e[o]){if(++o,o===e.length){r.splice(-o,o);break}}else o=0}while(a!==0||i);return n.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:n,end:s}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new j("The length of delimiters doesn't match the number of args!");for(var i=r[0],n=0;n<i.length;n++){var s=this.popToken();if(i[n]!==s.text)throw new j("Use of the macro doesn't match its definition",s)}}for(var a=[],o=0;o<e;o++)a.push(this.consumeArg(r&&r[o+1]).tokens);return a}expandOnce(e){var r=this.popToken(),i=r.text,n=r.noexpand?null:this._getExpansion(i);if(n==null||e&&n.unexpandable){if(e&&n==null&&i[0]==="\\"&&!this.isDefined(i))throw new j("Undefined control sequence: "+i);return this.pushToken(r),r}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new j("Too many expansions: infinite loop or need to increase maxExpand setting");var s=n.tokens,a=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs){s=s.slice();for(var o=s.length-1;o>=0;--o){var l=s[o];if(l.text==="#"){if(o===0)throw new j("Incomplete placeholder at end of macro body",l);if(l=s[--o],l.text==="#")s.splice(o+1,1);else if(/^[1-9]$/.test(l.text))s.splice(o,2,...a[+l.text-1]);else throw new j("Not a valid argument number",l)}}}return this.pushTokens(s),s}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;){var e=this.expandOnce();if(e instanceof vr)return e.treatAsRelax&&(e.text="\\relax"),this.stack.pop()}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new vr(e)]):void 0}expandTokens(e){var r=[],i=this.stack.length;for(this.pushTokens(e);this.stack.length>i;){var n=this.expandOnce(!0);n instanceof vr&&(n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),r.push(this.stack.pop()))}return r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(i=>i.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var i=this.lexer.catcodes[e];if(i!=null&&i!==13)return}var n=typeof r=="function"?r(this):r;if(typeof n=="string"){var s=0;if(n.indexOf("#")!==-1)for(var a=n.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var o=new Bf(n,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var c={tokens:l,numArgs:s};return c}return n}isDefined(e){return this.macros.has(e)||Ci.hasOwnProperty(e)||je.math.hasOwnProperty(e)||je.text.hasOwnProperty(e)||t2.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Ci.hasOwnProperty(e)&&!Ci[e].primitive}}var Uf=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Sa=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),o0={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},zf={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};let r2=class iu{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new bE(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new j("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new vr("}")),this.gullet.pushTokens(e);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,i}parseExpression(e,r){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var n=this.fetch();if(iu.endOfExpression.indexOf(n.text)!==-1||r&&n.text===r||e&&Ci[n.text]&&Ci[n.text].infix)break;var s=this.parseAtom(r);if(s){if(s.type==="internal")continue}else break;i.push(s)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(e){for(var r=-1,i,n=0;n<e.length;n++)if(e[n].type==="infix"){if(r!==-1)throw new j("only one infix operator per group",e[n].token);r=n,i=e[n].replaceWith}if(r!==-1&&i){var s,a,o=e.slice(0,r),l=e.slice(r+1);o.length===1&&o[0].type==="ordgroup"?s=o[0]:s={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var u;return i==="\\\\abovefrac"?u=this.callFunction(i,[s,e[r],a],[]):u=this.callFunction(i,[s,a],[]),[u]}else return e}handleSupSubscript(e){var r=this.fetch(),i=r.text;this.consume(),this.consumeSpaces();var n=this.parseGroup(e);if(!n)throw new j("Expected group after '"+i+"'",r);return n}formatUnsupportedCmd(e){for(var r=[],i=0;i<e.length;i++)r.push({type:"textord",mode:"text",text:e[i]});var n={type:"text",mode:this.mode,body:r},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]};return s}parseAtom(e){var r=this.parseGroup("atom",e);if(this.mode==="text")return r;for(var i,n;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(r&&r.type==="op"){var a=s.text==="\\limits";r.limits=a,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=s.text==="\\limits");else throw new j("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(i)throw new j("Double superscript",s);i=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(n)throw new j("Double subscript",s);n=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(i)throw new j("Double superscript",s);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:l}}else if(Sa[s.text]){var u=Sa[s.text],c=Uf.test(s.text);for(this.consume();;){var h=this.fetch().text;if(!Sa[h]||Uf.test(h)!==c)break;this.consume(),u+=Sa[h]}var m=new iu(u,this.settings).parse();c?n={type:"ordgroup",mode:"math",body:m}:i={type:"ordgroup",mode:"math",body:m}}else break}return i||n?{type:"supsub",mode:this.mode,base:r,sup:i,sub:n}:r}parseFunction(e,r){var i=this.fetch(),n=i.text,s=Ci[n];if(!s)return null;if(this.consume(),r&&r!=="atom"&&!s.allowedInArgument)throw new j("Got function '"+n+"' with no arguments"+(r?" as "+r:""),i);if(this.mode==="text"&&!s.allowedInText)throw new j("Can't use function '"+n+"' in text mode",i);if(this.mode==="math"&&s.allowedInMath===!1)throw new j("Can't use function '"+n+"' in math mode",i);var{args:a,optArgs:o}=this.parseArguments(n,s);return this.callFunction(n,a,o,i,e)}callFunction(e,r,i,n,s){var a={funcName:e,parser:this,token:n,breakOnTokenText:s},o=Ci[e];if(o&&o.handler)return o.handler(a,r,i);throw new j("No function handler for "+e)}parseArguments(e,r){var i=r.numArgs+r.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var n=[],s=[],a=0;a<i;a++){var o=r.argTypes&&r.argTypes[a],l=a<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&a===1&&s[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)s.push(u);else if(u!=null)n.push(u);else throw new j("Null argument, please report this as a bug")}return{args:n,optArgs:s}}parseGroupOfType(e,r,i){switch(r){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,r);case"hbox":{var n=this.parseArgumentGroup(i,"text");return n!=null?{type:"styling",mode:n.mode,body:[n],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",i);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(i)throw new j("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new j("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new j("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var i=this.gullet.scanArgument(r);if(i==null)return null;for(var n="",s;(s=this.fetch()).text!=="EOF";)n+=s.text,this.consume();return this.consume(),i.text=n,i}parseRegexGroup(e,r){for(var i=this.fetch(),n=i,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)n=a,s+=n.text,this.consume();if(s==="")throw new j("Invalid "+r+": '"+i.text+"'",i);return i.range(n,s)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!i)throw new j("Invalid color: '"+r.text+"'",r);var n=i[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}}parseSizeGroup(e){var r,i=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",i=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!n)throw new j("Invalid size: '"+r.text+"'",r);var s={number:+(n[1]+n[2]),unit:n[3]};if(!hg(s))throw new j("Invalid unit: '"+s.unit+"'",r);return{type:"size",mode:this.mode,value:s,isBlank:i}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var i=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(e,r){var i=this.gullet.scanArgument(e);if(i==null)return null;var n=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:i.loc,body:s};return r&&this.switchMode(n),a}parseGroup(e,r){var i=this.fetch(),n=i.text,s;if(n==="{"||n==="\\begingroup"){this.consume();var a=n==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:lr.range(i,l),body:o,semisimple:n==="\\begingroup"||void 0}}else if(s=this.parseFunction(r,e)||this.parseSymbol(),s==null&&n[0]==="\\"&&!t2.hasOwnProperty(n)){if(this.settings.throwOnError)throw new j("Undefined control sequence: "+n,i);s=this.formatUnsupportedCmd(n),this.consume()}return s}formLigatures(e){for(var r=e.length-1,i=0;i<r;++i){var n=e[i],s=n.text;s==="-"&&e[i+1].text==="-"&&(i+1<r&&e[i+2].text==="-"?(e.splice(i,3,{type:"textord",mode:"text",loc:lr.range(n,e[i+2]),text:"---"}),r-=2):(e.splice(i,2,{type:"textord",mode:"text",loc:lr.range(n,e[i+1]),text:"--"}),r-=1)),(s==="'"||s==="`")&&e[i+1].text===s&&(e.splice(i,2,{type:"textord",mode:"text",loc:lr.range(n,e[i+1]),text:s+s}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var i=r.slice(5),n=i.charAt(0)==="*";if(n&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new j(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:n}}zf.hasOwnProperty(r[0])&&!je[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=zf[r[0]]+r.slice(1));var s=dE.exec(r);s&&(r=r.substring(0,s.index),r==="i"?r="ı":r==="j"&&(r="ȷ"));var a;if(je[this.mode][r]){this.settings.strict&&this.mode==="math"&&Q0.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var o=je[this.mode][r].group,l=lr.range(e),u;if(sv.hasOwnProperty(o)){var c=o;u={type:"atom",mode:this.mode,family:c,loc:l,text:r}}else u={type:o,mode:this.mode,loc:l,text:r};a=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(cg(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:lr.range(e),text:r};else return null;if(this.consume(),s)for(var h=0;h<s[0].length;h++){var m=s[0][h];if(!o0[m])throw new j("Unknown accent ' "+m+"'",e);var p=o0[m][this.mode]||o0[m].text;if(!p)throw new j("Accent "+m+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:lr.range(e),label:p,isStretchy:!1,isShifty:!0,base:a}}return a}};r2.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Pc=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new r2(e,r);delete i.gullet.macros.current["\\df@tag"];var n=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new j("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:i.subparse([new vr("\\df@tag")])}]}return n},i2=function(e,r,i){r.textContent="";var n=Bc(e,i).toNode();r.appendChild(n)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),i2=function(){throw new j("KaTeX doesn't work in quirks mode.")});var TE=function(e,r){var i=Bc(e,r).toMarkup();return i},vE=function(e,r){var i=new Tc(r);return Pc(e,i)},n2=function(e,r,i){if(i.throwOnError||!(e instanceof j))throw e;var n=L.makeSpan(["katex-error"],[new Ar(r)]);return n.setAttribute("title",e.toString()),n.setAttribute("style","color:"+i.errorColor),n},Bc=function(e,r){var i=new Tc(r);try{var n=Pc(e,i);return _v(n,e,i)}catch(s){return n2(s,e,i)}},EE=function(e,r){var i=new Tc(r);try{var n=Pc(e,i);return Ov(n,e,i)}catch(s){return n2(s,e,i)}},$f={version:"0.16.4",render:i2,renderToString:TE,ParseError:j,SETTINGS_SCHEMA:Xa,__parse:vE,__renderToDomTree:Bc,__renderToHTMLTree:EE,__setFontMetrics:JT,__defineSymbol:d,__defineMacro:v,__domTree:{Span:Zs,Anchor:yc,SymbolNode:Ar,SvgNode:ci,PathNode:Li,LineNode:j0}};function yE(t){let e,r=$f.renderToString(t[1],{throwOnError:!1,displayMode:t[0]})+"",i;return{c(){e=new h6(!1),i=ke(),this.h()},l(n){e=f6(n,!1),i=ke(),this.h()},h(){e.a=i},m(n,s){e.m(r,n,s),J(n,i,s)},p(n,[s]){s&1&&r!==(r=$f.renderToString(n[1],{throwOnError:!1,displayMode:n[0]})+"")&&e.p(r)},i:Ft,o:Ft,d(n){n&&q(i),n&&e.d()}}}function AE(t,e,r){let i;fr(t,rr,o=>r(3,i=o));let{element:n}=e,s,a=i(n).text();return t.$$set=o=>{"element"in o&&r(2,n=o.element)},t.$$.update=()=>{t.$$.dirty&12&&(n.tagName=="me"?r(0,s=i(n).attr("mode")!=="inline"):n.tagName=="m"?r(0,s=i(n).attr("mode")==="display"):r(0,s=!1))},[s,a,n,i]}class s2 extends Tt{constructor(e){super(),vt(this,e,AE,yE,Et,{element:2})}}function xE(t){let e,r,i,n;return r=new Tl({props:{element:t[0]}}),{c(){e=Se('"'),ge(r.$$.fragment),i=Se('"')},l(s){e=we(s,'"'),be(r.$$.fragment,s),i=we(s,'"')},m(s,a){J(s,e,a),Te(r,s,a),J(s,i,a),n=!0},p(s,[a]){const o={};a&1&&(o.element=s[0]),r.$set(o)},i(s){n||(H(r.$$.fragment,s),n=!0)},o(s){V(r.$$.fragment,s),n=!1},d(s){s&&q(e),ve(r,s),s&&q(i)}}}function SE(t,e,r){let{element:i}=e;return t.$$set=n=>{"element"in n&&r(0,i=n.element)},[i]}class a2 extends Tt{constructor(e){super(),vt(this,e,SE,xE,Et,{element:0})}}function wE(t){let e,r;return e=new Tl({props:{element:t[0]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&1&&(s.element=i[0]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function CE(t){let e;return{c(){e=Se(t[2])},l(r){e=we(r,t[2])},m(r,i){J(r,e,i)},p:Ft,i:Ft,o:Ft,d(r){r&&q(e)}}}function kE(t){let e,r,i,n,s;const a=[CE,wE],o=[];function l(u,c){return c&3&&(r=null),r==null&&(r=u[1](u[0]).text()===""),r?0:1}return i=l(t,-1),n=o[i]=a[i](t),{c(){e=Fe("a"),n.c(),this.h()},l(u){e=He(u,"A",{href:!0});var c=$e(e);n.l(c),c.forEach(q),this.h()},h(){Nt(e,"href",t[2])},m(u,c){J(u,e,c),o[i].m(e,null),s=!0},p(u,[c]){let h=i;i=l(u,c),i===h?o[i].p(u,c):(_e(),V(o[h],1,1,()=>{o[h]=null}),Oe(),n=o[i],n?n.p(u,c):(n=o[i]=a[i](u),n.c()),H(n,1),n.m(e,null))},i(u){s||(H(n),s=!0)},o(u){V(n),s=!1},d(u){u&&q(e),o[i].d()}}}function _E(t,e,r){let i;fr(t,rr,a=>r(1,i=a));let{element:n}=e,s=i(n).attr("href");return t.$$set=a=>{"element"in a&&r(0,n=a.element)},[n,i,s]}class OE extends Tt{constructor(e){super(),vt(this,e,_E,kE,Et,{element:0})}}function qf(t,e,r){const i=t.slice();return i[2]=e[r],i}function NE(t){let e,r;return e=new OE({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function IE(t){let e,r;return e=new xT({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function ME(t){let e,r;return e=new a2({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function DE(t){let e,r;return e=new og({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function RE(t){let e,r;return e=new lg({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function LE(t){let e,r;return e=new s2({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function PE(t){let e=t[1](t[2]).text()+"",r;return{c(){r=Se(e)},l(i){r=we(i,e)},m(i,n){J(i,r,n)},p(i,n){n&3&&e!==(e=i[1](i[2]).text()+"")&&bt(r,e)},i:Ft,o:Ft,d(i){i&&q(r)}}}function Vf(t){let e,r,i,n;const s=[PE,LE,RE,DE,ME,IE,NE],a=[];function o(l,u){return"tagName"in l[2]?l[2].tagName==="m"||l[2].tagName==="me"?1:l[2].tagName==="em"?2:l[2].tagName==="c"?3:l[2].tagName==="q"?4:l[2].tagName==="image"?5:l[2].tagName==="url"?6:-1:0}return~(e=o(t))&&(r=a[e]=s[e](t)),{c(){r&&r.c(),i=ke()},l(l){r&&r.l(l),i=ke()},m(l,u){~e&&a[e].m(l,u),J(l,i,u),n=!0},p(l,u){let c=e;e=o(l),e===c?~e&&a[e].p(l,u):(r&&(_e(),V(a[c],1,1,()=>{a[c]=null}),Oe()),~e?(r=a[e],r?r.p(l,u):(r=a[e]=s[e](l),r.c()),H(r,1),r.m(i.parentNode,i)):r=null)},i(l){n||(H(r),n=!0)},o(l){V(r),n=!1},d(l){~e&&a[e].d(l),l&&q(i)}}}function BE(t){let e,r,i=t[1](t[0]).contents(),n=[];for(let a=0;a<i.length;a+=1)n[a]=Vf(qf(t,i,a));const s=a=>V(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ke()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ke()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);J(a,e,o),r=!0},p(a,[o]){if(o&3){i=a[1](a[0]).contents();let l;for(l=0;l<i.length;l+=1){const u=qf(a,i,l);n[l]?(n[l].p(u,o),H(n[l],1)):(n[l]=Vf(u),n[l].c(),H(n[l],1),n[l].m(e.parentNode,e))}for(_e(),l=i.length;l<n.length;l+=1)s(l);Oe()}},i(a){if(!r){for(let o=0;o<i.length;o+=1)H(n[o]);r=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)V(n[o]);r=!1},d(a){ot(n,a),a&&q(e)}}}function FE(t,e,r){let i;fr(t,rr,s=>r(1,i=s));let{element:n}=e;return t.$$set=s=>{"element"in s&&r(0,n=s.element)},[n,i]}class Tl extends Tt{constructor(e){super(),vt(this,e,FE,BE,Et,{element:0})}}function HE(t){let e,r,i;return r=new Tl({props:{element:t[0]}}),{c(){e=Fe("p"),ge(r.$$.fragment)},l(n){e=He(n,"P",{});var s=$e(e);be(r.$$.fragment,s),s.forEach(q)},m(n,s){J(n,e,s),Te(r,e,null),i=!0},p(n,[s]){const a={};s&1&&(a.element=n[0]),r.$set(a)},i(n){i||(H(r.$$.fragment,n),i=!0)},o(n){V(r.$$.fragment,n),i=!1},d(n){n&&q(e),ve(r)}}}function UE(t,e,r){let{element:i}=e;return t.$$set=n=>{"element"in n&&r(0,i=n.element)},[i]}class Fc extends Tt{constructor(e){super(),vt(this,e,UE,HE,Et,{element:0})}}function zE(t){let e,r,i;return r=new c2({props:{element:t[0]}}),{c(){e=Fe("li"),ge(r.$$.fragment)},l(n){e=He(n,"LI",{});var s=$e(e);be(r.$$.fragment,s),s.forEach(q)},m(n,s){J(n,e,s),Te(r,e,null),i=!0},p(n,[s]){const a={};s&1&&(a.element=n[0]),r.$set(a)},i(n){i||(H(r.$$.fragment,n),i=!0)},o(n){V(r.$$.fragment,n),i=!1},d(n){n&&q(e),ve(r)}}}function $E(t,e,r){let{element:i}=e;return t.$$set=n=>{"element"in n&&r(0,i=n.element)},[i]}class o2 extends Tt{constructor(e){super(),vt(this,e,$E,zE,Et,{element:0})}}function Wf(t,e,r){const i=t.slice();return i[3]=e[r],i}function Yf(t,e,r){const i=t.slice();return i[3]=e[r],i}function Gf(t){let e,r,i,n;const s=[VE,qE],a=[];function o(l,u){return l[1]?0:1}return e=o(t),r=a[e]=s[e](t),{c(){r.c(),i=ke()},l(l){r.l(l),i=ke()},m(l,u){a[e].m(l,u),J(l,i,u),n=!0},p(l,u){let c=e;e=o(l),e===c?a[e].p(l,u):(_e(),V(a[c],1,1,()=>{a[c]=null}),Oe(),r=a[e],r?r.p(l,u):(r=a[e]=s[e](l),r.c()),H(r,1),r.m(i.parentNode,i))},i(l){n||(H(r),n=!0)},o(l){V(r),n=!1},d(l){a[e].d(l),l&&q(i)}}}function qE(t){let e,r,i=t[2](t[0]).children("item"),n=[];for(let a=0;a<i.length;a+=1)n[a]=Xf(Wf(t,i,a));const s=a=>V(n[a],1,1,()=>{n[a]=null});return{c(){e=Fe("ul");for(let a=0;a<n.length;a+=1)n[a].c()},l(a){e=He(a,"UL",{});var o=$e(e);for(let l=0;l<n.length;l+=1)n[l].l(o);o.forEach(q)},m(a,o){J(a,e,o);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null);r=!0},p(a,o){if(o&5){i=a[2](a[0]).children("item");let l;for(l=0;l<i.length;l+=1){const u=Wf(a,i,l);n[l]?(n[l].p(u,o),H(n[l],1)):(n[l]=Xf(u),n[l].c(),H(n[l],1),n[l].m(e,null))}for(_e(),l=i.length;l<n.length;l+=1)s(l);Oe()}},i(a){if(!r){for(let o=0;o<i.length;o+=1)H(n[o]);r=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)V(n[o]);r=!1},d(a){a&&q(e),ot(n,a)}}}function VE(t){let e,r,i=t[2](t[0]).children("item"),n=[];for(let a=0;a<i.length;a+=1)n[a]=Kf(Yf(t,i,a));const s=a=>V(n[a],1,1,()=>{n[a]=null});return{c(){e=Fe("ol");for(let a=0;a<n.length;a+=1)n[a].c()},l(a){e=He(a,"OL",{});var o=$e(e);for(let l=0;l<n.length;l+=1)n[l].l(o);o.forEach(q)},m(a,o){J(a,e,o);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null);r=!0},p(a,o){if(o&5){i=a[2](a[0]).children("item");let l;for(l=0;l<i.length;l+=1){const u=Yf(a,i,l);n[l]?(n[l].p(u,o),H(n[l],1)):(n[l]=Kf(u),n[l].c(),H(n[l],1),n[l].m(e,null))}for(_e(),l=i.length;l<n.length;l+=1)s(l);Oe()}},i(a){if(!r){for(let o=0;o<i.length;o+=1)H(n[o]);r=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)V(n[o]);r=!1},d(a){a&&q(e),ot(n,a)}}}function Xf(t){let e,r;return e=new o2({props:{element:t[3]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&5&&(s.element=i[3]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function Kf(t){let e,r;return e=new o2({props:{element:t[3]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&5&&(s.element=i[3]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function WE(t){let e=t[2](t[0]).children("item"),r,i,n=e&&Gf(t);return{c(){n&&n.c(),r=ke()},l(s){n&&n.l(s),r=ke()},m(s,a){n&&n.m(s,a),J(s,r,a),i=!0},p(s,[a]){a&5&&(e=s[2](s[0]).children("item")),e?n?(n.p(s,a),a&5&&H(n,1)):(n=Gf(s),n.c(),H(n,1),n.m(r.parentNode,r)):n&&(_e(),V(n,1,1,()=>{n=null}),Oe())},i(s){i||(H(n),i=!0)},o(s){V(n),i=!1},d(s){n&&n.d(s),s&&q(r)}}}function YE(t,e,r){let i,n;fr(t,rr,a=>r(2,n=a));let{element:s}=e;return t.$$set=a=>{"element"in a&&r(0,s=a.element)},t.$$.update=()=>{t.$$.dirty&1&&r(1,i=s.attribs.mode=="ordered")},[s,i,n]}class Hc extends Tt{constructor(e){super(),vt(this,e,YE,WE,Et,{element:0})}}const Ss=(t,e)=>e(t).parents("division").length,Bi=(t,e)=>{if(e(t).attr("label"))return e(t).attr("label");if(Ss(t,e)===0)return"Chapter";if(Ss(t,e)===1)return"Section";{let r="sub".repeat(Ss(t,e)-1)+"section";return r.charAt(0).toUpperCase()+r.slice(1)}},Gr=(t,e)=>{let r=`${e(t).prevAll("division").length+1}`;return e(t).attr("numbering")&&(r=e(t).attr("numbering")),Ss(t,e)===0?`${r}`:`${Gr(e(t).parent("division")[0],e)}.${r}`},Uc=(t,e)=>e(t).parents("knowl").length,Ai=(t,e)=>e(t).attr("mode")?e(t).attr("mode"):e(t).parent("knowl").length>0?Ai(e(t).parent("knowl")[0],e):"knowl",Fi=(t,e)=>e(t).attr("label")?e(t).attr("label"):Uc(t,e)===0?Ai(t,e)==="exercise"?"Exercise":Ai(t,e)==="activity"?"Activity":Ai(t,e)==="theorem"?"Theorem":Ai(t,e)==="lemma"?"Lemma":Ai(t,e)==="conjecture"?"Conjecture":Ai(t,e)==="definition"?"Definition":"Knowl":["exercise","activity"].includes(Ai(t,e))?"Task":"Part",di=(t,e)=>{let r=`${e(t).prevAll("knowl").length+1}`;return e(t).attr("numbering")&&(r=e(t).attr("numbering")),Uc(t,e)>0?`${di(e(t).parent("knowl")[0],e)}.${r}`:e(t).parents("division").length===0?`${r}`:Gr(e(t).closest("division")[0],e)+`.${r}`};function jf(t,e,r){const i=t.slice();return i[2]=e[r],i}function GE(t){let e,r;return e=new a2({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function XE(t){let e,r;return e=new og({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function KE(t){let e,r;return e=new lg({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function jE(t){let e,r;return e=new s2({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function QE(t){let e=t[1](t[2]).text()+"",r;return{c(){r=Se(e)},l(i){r=we(i,e)},m(i,n){J(i,r,n)},p(i,n){n&3&&e!==(e=i[1](i[2]).text()+"")&&bt(r,e)},i:Ft,o:Ft,d(i){i&&q(r)}}}function Qf(t){let e,r,i,n;const s=[QE,jE,KE,XE,GE],a=[];function o(l,u){return"tagName"in l[2]?l[2].tagName==="m"||l[2].tagName==="me"?1:l[2].tagName==="em"?2:l[2].tagName==="c"?3:l[2].tagName==="q"?4:-1:0}return~(e=o(t))&&(r=a[e]=s[e](t)),{c(){r&&r.c(),i=ke()},l(l){r&&r.l(l),i=ke()},m(l,u){~e&&a[e].m(l,u),J(l,i,u),n=!0},p(l,u){let c=e;e=o(l),e===c?~e&&a[e].p(l,u):(r&&(_e(),V(a[c],1,1,()=>{a[c]=null}),Oe()),~e?(r=a[e],r?r.p(l,u):(r=a[e]=s[e](l),r.c()),H(r,1),r.m(i.parentNode,i)):r=null)},i(l){n||(H(r),n=!0)},o(l){V(r),n=!1},d(l){~e&&a[e].d(l),l&&q(i)}}}function JE(t){let e,r,i=t[1](t[0]).contents(),n=[];for(let a=0;a<i.length;a+=1)n[a]=Qf(jf(t,i,a));const s=a=>V(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ke()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ke()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);J(a,e,o),r=!0},p(a,[o]){if(o&3){i=a[1](a[0]).contents();let l;for(l=0;l<i.length;l+=1){const u=jf(a,i,l);n[l]?(n[l].p(u,o),H(n[l],1)):(n[l]=Qf(u),n[l].c(),H(n[l],1),n[l].m(e.parentNode,e))}for(_e(),l=i.length;l<n.length;l+=1)s(l);Oe()}},i(a){if(!r){for(let o=0;o<i.length;o+=1)H(n[o]);r=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)V(n[o]);r=!1},d(a){ot(n,a),a&&q(e)}}}function ZE(t,e,r){let i;fr(t,rr,s=>r(1,i=s));let{element:n}=e;return t.$$set=s=>{"element"in s&&r(0,n=s.element)},[n,i]}class ta extends Tt{constructor(e){super(),vt(this,e,ZE,JE,Et,{element:0})}}function Jf(t,e,r){const i=t.slice();return i[2]=e[r],i}function ey(t){let e,r;return e=new Hc({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function ty(t){let e,r;return e=new Fc({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function Zf(t){let e,r,i,n;const s=[ty,ey],a=[];function o(l,u){return l[2].tagName==="p"?0:l[2].tagName==="list"?1:-1}return~(e=o(t))&&(r=a[e]=s[e](t)),{c(){r&&r.c(),i=ke()},l(l){r&&r.l(l),i=ke()},m(l,u){~e&&a[e].m(l,u),J(l,i,u),n=!0},p(l,u){let c=e;e=o(l),e===c?~e&&a[e].p(l,u):(r&&(_e(),V(a[c],1,1,()=>{a[c]=null}),Oe()),~e?(r=a[e],r?r.p(l,u):(r=a[e]=s[e](l),r.c()),H(r,1),r.m(i.parentNode,i)):r=null)},i(l){n||(H(r),n=!0)},o(l){V(r),n=!1},d(l){~e&&a[e].d(l),l&&q(i)}}}function ry(t){let e,r,i=t[1](t[0]).children(),n=[];for(let a=0;a<i.length;a+=1)n[a]=Zf(Jf(t,i,a));const s=a=>V(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ke()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ke()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);J(a,e,o),r=!0},p(a,[o]){if(o&3){i=a[1](a[0]).children();let l;for(l=0;l<i.length;l+=1){const u=Jf(a,i,l);n[l]?(n[l].p(u,o),H(n[l],1)):(n[l]=Zf(u),n[l].c(),H(n[l],1),n[l].m(e.parentNode,e))}for(_e(),l=i.length;l<n.length;l+=1)s(l);Oe()}},i(a){if(!r){for(let o=0;o<i.length;o+=1)H(n[o]);r=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)V(n[o]);r=!1},d(a){ot(n,a),a&&q(e)}}}function iy(t,e,r){let i;fr(t,rr,s=>r(1,i=s));let{element:n}=e;return t.$$set=s=>{"element"in s&&r(0,n=s.element)},[n,i]}class l2 extends Tt{constructor(e){super(),vt(this,e,iy,ry,Et,{element:0})}}function ed(t,e,r){const i=t.slice();return i[2]=e[r],i}function ny(t){let e,r;return e=new Hc({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function sy(t){let e,r;return e=new Fc({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function td(t){let e,r,i,n;const s=[sy,ny],a=[];function o(l,u){return l[2].tagName==="p"?0:l[2].tagName==="list"?1:-1}return~(e=o(t))&&(r=a[e]=s[e](t)),{c(){r&&r.c(),i=ke()},l(l){r&&r.l(l),i=ke()},m(l,u){~e&&a[e].m(l,u),J(l,i,u),n=!0},p(l,u){let c=e;e=o(l),e===c?~e&&a[e].p(l,u):(r&&(_e(),V(a[c],1,1,()=>{a[c]=null}),Oe()),~e?(r=a[e],r?r.p(l,u):(r=a[e]=s[e](l),r.c()),H(r,1),r.m(i.parentNode,i)):r=null)},i(l){n||(H(r),n=!0)},o(l){V(r),n=!1},d(l){~e&&a[e].d(l),l&&q(i)}}}function ay(t){let e,r,i=t[1](t[0]).children(),n=[];for(let a=0;a<i.length;a+=1)n[a]=td(ed(t,i,a));const s=a=>V(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ke()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ke()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);J(a,e,o),r=!0},p(a,[o]){if(o&3){i=a[1](a[0]).children();let l;for(l=0;l<i.length;l+=1){const u=ed(a,i,l);n[l]?(n[l].p(u,o),H(n[l],1)):(n[l]=td(u),n[l].c(),H(n[l],1),n[l].m(e.parentNode,e))}for(_e(),l=i.length;l<n.length;l+=1)s(l);Oe()}},i(a){if(!r){for(let o=0;o<i.length;o+=1)H(n[o]);r=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)V(n[o]);r=!1},d(a){ot(n,a),a&&q(e)}}}function oy(t,e,r){let i;fr(t,rr,s=>r(1,i=s));let{element:n}=e;return t.$$set=s=>{"element"in s&&r(0,n=s.element)},[n,i]}class u2 extends Tt{constructor(e){super(),vt(this,e,oy,ay,Et,{element:0})}}function rd(t,e,r){const i=t.slice();return i[2]=e[r],i}function id(t,e,r){const i=t.slice();return i[5]=e[r],i}function nd(t,e,r){const i=t.slice();return i[8]=e[r],i}function sd(t,e,r){const i=t.slice();return i[11]=e[r],i}function ad(t,e,r){const i=t.slice();return i[14]=e[r],i}function od(t,e,r){const i=t.slice();return i[14]=e[r],i}function ly(t){let e,r,i=t[1](t[0]).children("title:first"),n=[];for(let o=0;o<i.length;o+=1)n[o]=ud(ad(t,i,o));const s=o=>V(n[o],1,1,()=>{n[o]=null});let a=null;return i.length||(a=ld(t)),{c(){e=Fe("h4");for(let o=0;o<n.length;o+=1)n[o].c();a&&a.c()},l(o){e=He(o,"H4",{});var l=$e(e);for(let u=0;u<n.length;u+=1)n[u].l(l);a&&a.l(l),l.forEach(q)},m(o,l){J(o,e,l);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);a&&a.m(e,null),r=!0},p(o,l){if(l&3){i=o[1](o[0]).children("title:first");let u;for(u=0;u<i.length;u+=1){const c=ad(o,i,u);n[u]?(n[u].p(c,l),H(n[u],1)):(n[u]=ud(c),n[u].c(),H(n[u],1),n[u].m(e,null))}for(_e(),u=i.length;u<n.length;u+=1)s(u);Oe(),!i.length&&a?a.p(o,l):i.length?a&&(a.d(1),a=null):(a=ld(o),a.c(),a.m(e,null))}},i(o){if(!r){for(let l=0;l<i.length;l+=1)H(n[l]);r=!0}},o(o){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)V(n[l]);r=!1},d(o){o&&q(e),ot(n,o),a&&a.d()}}}function uy(t){let e,r,i=t[1](t[0]).children("title:first"),n=[];for(let o=0;o<i.length;o+=1)n[o]=hd(od(t,i,o));const s=o=>V(n[o],1,1,()=>{n[o]=null});let a=null;return i.length||(a=cd(t)),{c(){e=Fe("h3");for(let o=0;o<n.length;o+=1)n[o].c();a&&a.c()},l(o){e=He(o,"H3",{});var l=$e(e);for(let u=0;u<n.length;u+=1)n[u].l(l);a&&a.l(l),l.forEach(q)},m(o,l){J(o,e,l);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);a&&a.m(e,null),r=!0},p(o,l){if(l&3){i=o[1](o[0]).children("title:first");let u;for(u=0;u<i.length;u+=1){const c=od(o,i,u);n[u]?(n[u].p(c,l),H(n[u],1)):(n[u]=hd(c),n[u].c(),H(n[u],1),n[u].m(e,null))}for(_e(),u=i.length;u<n.length;u+=1)s(u);Oe(),!i.length&&a?a.p(o,l):i.length?a&&(a.d(1),a=null):(a=cd(o),a.c(),a.m(e,null))}},i(o){if(!r){for(let l=0;l<i.length;l+=1)H(n[l]);r=!0}},o(o){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)V(n[l]);r=!1},d(o){o&&q(e),ot(n,o),a&&a.d()}}}function ld(t){let e=Fi(t[0],t[1])+"",r,i,n=di(t[0],t[1])+"",s,a;return{c(){r=Se(e),i=pt(),s=Se(n),a=Se(".")},l(o){r=we(o,e),i=gt(o),s=we(o,n),a=we(o,".")},m(o,l){J(o,r,l),J(o,i,l),J(o,s,l),J(o,a,l)},p(o,l){l&3&&e!==(e=Fi(o[0],o[1])+"")&&bt(r,e),l&3&&n!==(n=di(o[0],o[1])+"")&&bt(s,n)},d(o){o&&q(r),o&&q(i),o&&q(s),o&&q(a)}}}function ud(t){let e=Fi(t[0],t[1])+"",r,i,n=di(t[0],t[1])+"",s,a,o,l,u;return o=new ta({props:{element:t[14]}}),{c(){r=Se(e),i=pt(),s=Se(n),a=Se(`:
                `),ge(o.$$.fragment),l=Se(".")},l(c){r=we(c,e),i=gt(c),s=we(c,n),a=we(c,`:
                `),be(o.$$.fragment,c),l=we(c,".")},m(c,h){J(c,r,h),J(c,i,h),J(c,s,h),J(c,a,h),Te(o,c,h),J(c,l,h),u=!0},p(c,h){(!u||h&3)&&e!==(e=Fi(c[0],c[1])+"")&&bt(r,e),(!u||h&3)&&n!==(n=di(c[0],c[1])+"")&&bt(s,n);const m={};h&3&&(m.element=c[14]),o.$set(m)},i(c){u||(H(o.$$.fragment,c),u=!0)},o(c){V(o.$$.fragment,c),u=!1},d(c){c&&q(r),c&&q(i),c&&q(s),c&&q(a),ve(o,c),c&&q(l)}}}function cd(t){let e=Fi(t[0],t[1])+"",r,i,n=di(t[0],t[1])+"",s,a;return{c(){r=Se(e),i=pt(),s=Se(n),a=Se(".")},l(o){r=we(o,e),i=gt(o),s=we(o,n),a=we(o,".")},m(o,l){J(o,r,l),J(o,i,l),J(o,s,l),J(o,a,l)},p(o,l){l&3&&e!==(e=Fi(o[0],o[1])+"")&&bt(r,e),l&3&&n!==(n=di(o[0],o[1])+"")&&bt(s,n)},d(o){o&&q(r),o&&q(i),o&&q(s),o&&q(a)}}}function hd(t){let e=Fi(t[0],t[1])+"",r,i,n=di(t[0],t[1])+"",s,a,o,l,u;return o=new ta({props:{element:t[14]}}),{c(){r=Se(e),i=pt(),s=Se(n),a=Se(`:
                `),ge(o.$$.fragment),l=Se(".")},l(c){r=we(c,e),i=gt(c),s=we(c,n),a=we(c,`:
                `),be(o.$$.fragment,c),l=we(c,".")},m(c,h){J(c,r,h),J(c,i,h),J(c,s,h),J(c,a,h),Te(o,c,h),J(c,l,h),u=!0},p(c,h){(!u||h&3)&&e!==(e=Fi(c[0],c[1])+"")&&bt(r,e),(!u||h&3)&&n!==(n=di(c[0],c[1])+"")&&bt(s,n);const m={};h&3&&(m.element=c[14]),o.$set(m)},i(c){u||(H(o.$$.fragment,c),u=!0)},o(c){V(o.$$.fragment,c),u=!1},d(c){c&&q(r),c&&q(i),c&&q(s),c&&q(a),ve(o,c),c&&q(l)}}}function fd(t){let e,r;return e=new l2({props:{element:t[11]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[11]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function dd(t){let e,r,i=t[1](t[0]).children("content:first"),n=[];for(let a=0;a<i.length;a+=1)n[a]=md(nd(t,i,a));const s=a=>V(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ke()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ke()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);J(a,e,o),r=!0},p(a,o){if(o&3){i=a[1](a[0]).children("content:first");let l;for(l=0;l<i.length;l+=1){const u=nd(a,i,l);n[l]?(n[l].p(u,o),H(n[l],1)):(n[l]=md(u),n[l].c(),H(n[l],1),n[l].m(e.parentNode,e))}for(_e(),l=i.length;l<n.length;l+=1)s(l);Oe()}},i(a){if(!r){for(let o=0;o<i.length;o+=1)H(n[o]);r=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)V(n[o]);r=!1},d(a){ot(n,a),a&&q(e)}}}function md(t){let e,r;return e=new $c({props:{element:t[8]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[8]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function pd(t){let e,r;return e=new zc({props:{element:t[5]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[5]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function gd(t){let e,r;return e=new u2({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function cy(t){let e,r,i,n,s,a,o,l,u;const c=[uy,ly],h=[];function m(_,B){return B&3&&(r=null),r==null&&(r=Uc(_[0],_[1])===0),r?0:1}i=m(t,-1),n=h[i]=c[i](t);let p=t[1](t[0]).children("intro:first"),b=[];for(let _=0;_<p.length;_+=1)b[_]=fd(sd(t,p,_));const A=_=>V(b[_],1,1,()=>{b[_]=null});let x=t[1](t[0]).children("knowl"),S=[];for(let _=0;_<x.length;_+=1)S[_]=pd(id(t,x,_));const R=_=>V(S[_],1,1,()=>{S[_]=null});let I=null;x.length||(I=dd(t));let P=t[1](t[0]).children("outtro:first"),N=[];for(let _=0;_<P.length;_+=1)N[_]=gd(rd(t,P,_));const $=_=>V(N[_],1,1,()=>{N[_]=null});return{c(){e=Fe("div"),n.c(),s=pt(),a=Fe("div");for(let _=0;_<b.length;_+=1)b[_].c();o=pt();for(let _=0;_<S.length;_+=1)S[_].c();I&&I.c(),l=pt();for(let _=0;_<N.length;_+=1)N[_].c();this.h()},l(_){e=He(_,"DIV",{});var B=$e(e);n.l(B),s=gt(B),a=He(B,"DIV",{style:!0});var z=$e(a);for(let M=0;M<b.length;M+=1)b[M].l(z);o=gt(z);for(let M=0;M<S.length;M+=1)S[M].l(z);I&&I.l(z),l=gt(z);for(let M=0;M<N.length;M+=1)N[M].l(z);z.forEach(q),B.forEach(q),this.h()},h(){Os(a,"margin-left","3em")},m(_,B){J(_,e,B),h[i].m(e,null),et(e,s),et(e,a);for(let z=0;z<b.length;z+=1)b[z]&&b[z].m(a,null);et(a,o);for(let z=0;z<S.length;z+=1)S[z]&&S[z].m(a,null);I&&I.m(a,null),et(a,l);for(let z=0;z<N.length;z+=1)N[z]&&N[z].m(a,null);u=!0},p(_,[B]){let z=i;if(i=m(_,B),i===z?h[i].p(_,B):(_e(),V(h[z],1,1,()=>{h[z]=null}),Oe(),n=h[i],n?n.p(_,B):(n=h[i]=c[i](_),n.c()),H(n,1),n.m(e,s)),B&3){p=_[1](_[0]).children("intro:first");let M;for(M=0;M<p.length;M+=1){const ne=sd(_,p,M);b[M]?(b[M].p(ne,B),H(b[M],1)):(b[M]=fd(ne),b[M].c(),H(b[M],1),b[M].m(a,o))}for(_e(),M=p.length;M<b.length;M+=1)A(M);Oe()}if(B&3){x=_[1](_[0]).children("knowl");let M;for(M=0;M<x.length;M+=1){const ne=id(_,x,M);S[M]?(S[M].p(ne,B),H(S[M],1)):(S[M]=pd(ne),S[M].c(),H(S[M],1),S[M].m(a,l))}for(_e(),M=x.length;M<S.length;M+=1)R(M);Oe(),!x.length&&I?I.p(_,B):x.length?I&&(_e(),V(I,1,1,()=>{I=null}),Oe()):(I=dd(_),I.c(),H(I,1),I.m(a,l))}if(B&3){P=_[1](_[0]).children("outtro:first");let M;for(M=0;M<P.length;M+=1){const ne=rd(_,P,M);N[M]?(N[M].p(ne,B),H(N[M],1)):(N[M]=gd(ne),N[M].c(),H(N[M],1),N[M].m(a,null))}for(_e(),M=P.length;M<N.length;M+=1)$(M);Oe()}},i(_){if(!u){H(n);for(let B=0;B<p.length;B+=1)H(b[B]);for(let B=0;B<x.length;B+=1)H(S[B]);for(let B=0;B<P.length;B+=1)H(N[B]);u=!0}},o(_){V(n),b=b.filter(Boolean);for(let B=0;B<b.length;B+=1)V(b[B]);S=S.filter(Boolean);for(let B=0;B<S.length;B+=1)V(S[B]);N=N.filter(Boolean);for(let B=0;B<N.length;B+=1)V(N[B]);u=!1},d(_){_&&q(e),h[i].d(),ot(b,_),ot(S,_),I&&I.d(),ot(N,_)}}}function hy(t,e,r){let i;fr(t,rr,s=>r(1,i=s));let{element:n}=e;return t.$$set=s=>{"element"in s&&r(0,n=s.element)},[n,i]}class zc extends Tt{constructor(e){super(),vt(this,e,hy,cy,Et,{element:0})}}function bd(t,e,r){const i=t.slice();return i[3]=e[r],i}function fy(t){let e,r;return e=new zc({props:{element:t[3]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&5&&(s.element=i[3]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function dy(t){let e,r;return e=new Hc({props:{element:t[3]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&5&&(s.element=i[3]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function my(t){let e,r;return e=new Fc({props:{element:t[3]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&5&&(s.element=i[3]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function Td(t){let e,r,i,n;const s=[my,dy,fy],a=[];function o(l,u){return l[3].tagName==="p"?0:l[3].tagName==="list"?1:l[1]&&l[3].tagName==="knowl"?2:-1}return~(e=o(t))&&(r=a[e]=s[e](t)),{c(){r&&r.c(),i=ke()},l(l){r&&r.l(l),i=ke()},m(l,u){~e&&a[e].m(l,u),J(l,i,u),n=!0},p(l,u){let c=e;e=o(l),e===c?~e&&a[e].p(l,u):(r&&(_e(),V(a[c],1,1,()=>{a[c]=null}),Oe()),~e?(r=a[e],r?r.p(l,u):(r=a[e]=s[e](l),r.c()),H(r,1),r.m(i.parentNode,i)):r=null)},i(l){n||(H(r),n=!0)},o(l){V(r),n=!1},d(l){~e&&a[e].d(l),l&&q(i)}}}function py(t){let e,r,i=t[2](t[0]).children(),n=[];for(let a=0;a<i.length;a+=1)n[a]=Td(bd(t,i,a));const s=a=>V(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ke()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ke()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);J(a,e,o),r=!0},p(a,[o]){if(o&7){i=a[2](a[0]).children();let l;for(l=0;l<i.length;l+=1){const u=bd(a,i,l);n[l]?(n[l].p(u,o),H(n[l],1)):(n[l]=Td(u),n[l].c(),H(n[l],1),n[l].m(e.parentNode,e))}for(_e(),l=i.length;l<n.length;l+=1)s(l);Oe()}},i(a){if(!r){for(let o=0;o<i.length;o+=1)H(n[o]);r=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)V(n[o]);r=!1},d(a){ot(n,a),a&&q(e)}}}function gy(t,e,r){let i;fr(t,rr,a=>r(2,i=a));let{element:n}=e,{allowKnowls:s=!1}=e;return t.$$set=a=>{"element"in a&&r(0,n=a.element),"allowKnowls"in a&&r(1,s=a.allowKnowls)},[n,s,i]}class c2 extends Tt{constructor(e){super(),vt(this,e,gy,py,Et,{element:0,allowKnowls:1})}}function by(t){let e,r,i;return r=new c2({props:{element:t[0],allowKnowls:t[1]}}),{c(){e=Fe("div"),ge(r.$$.fragment)},l(n){e=He(n,"DIV",{});var s=$e(e);be(r.$$.fragment,s),s.forEach(q)},m(n,s){J(n,e,s),Te(r,e,null),i=!0},p(n,[s]){const a={};s&1&&(a.element=n[0]),s&2&&(a.allowKnowls=n[1]),r.$set(a)},i(n){i||(H(r.$$.fragment,n),i=!0)},o(n){V(r.$$.fragment,n),i=!1},d(n){n&&q(e),ve(r)}}}function Ty(t,e,r){let{element:i}=e,{allowKnowls:n=!1}=e;return t.$$set=s=>{"element"in s&&r(0,i=s.element),"allowKnowls"in s&&r(1,n=s.allowKnowls)},[i,n]}class $c extends Tt{constructor(e){super(),vt(this,e,Ty,by,Et,{element:0,allowKnowls:1})}}function vd(t,e,r){const i=t.slice();return i[2]=e[r],i}function Ed(t,e,r){const i=t.slice();return i[5]=e[r],i}function yd(t,e,r){const i=t.slice();return i[8]=e[r],i}function Ad(t,e,r){const i=t.slice();return i[11]=e[r],i}function xd(t,e,r){const i=t.slice();return i[14]=e[r],i}function Sd(t,e,r){const i=t.slice();return i[14]=e[r],i}function vy(t){let e,r,i=t[1](t[0]).children("title:first"),n=[];for(let o=0;o<i.length;o+=1)n[o]=Cd(xd(t,i,o));const s=o=>V(n[o],1,1,()=>{n[o]=null});let a=null;return i.length||(a=wd(t)),{c(){e=Fe("h2");for(let o=0;o<n.length;o+=1)n[o].c();a&&a.c()},l(o){e=He(o,"H2",{});var l=$e(e);for(let u=0;u<n.length;u+=1)n[u].l(l);a&&a.l(l),l.forEach(q)},m(o,l){J(o,e,l);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);a&&a.m(e,null),r=!0},p(o,l){if(l&3){i=o[1](o[0]).children("title:first");let u;for(u=0;u<i.length;u+=1){const c=xd(o,i,u);n[u]?(n[u].p(c,l),H(n[u],1)):(n[u]=Cd(c),n[u].c(),H(n[u],1),n[u].m(e,null))}for(_e(),u=i.length;u<n.length;u+=1)s(u);Oe(),!i.length&&a?a.p(o,l):i.length?a&&(a.d(1),a=null):(a=wd(o),a.c(),a.m(e,null))}},i(o){if(!r){for(let l=0;l<i.length;l+=1)H(n[l]);r=!0}},o(o){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)V(n[l]);r=!1},d(o){o&&q(e),ot(n,o),a&&a.d()}}}function Ey(t){let e,r,i=t[1](t[0]).children("title:first"),n=[];for(let o=0;o<i.length;o+=1)n[o]=_d(Sd(t,i,o));const s=o=>V(n[o],1,1,()=>{n[o]=null});let a=null;return i.length||(a=kd(t)),{c(){e=Fe("h1");for(let o=0;o<n.length;o+=1)n[o].c();a&&a.c()},l(o){e=He(o,"H1",{});var l=$e(e);for(let u=0;u<n.length;u+=1)n[u].l(l);a&&a.l(l),l.forEach(q)},m(o,l){J(o,e,l);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);a&&a.m(e,null),r=!0},p(o,l){if(l&3){i=o[1](o[0]).children("title:first");let u;for(u=0;u<i.length;u+=1){const c=Sd(o,i,u);n[u]?(n[u].p(c,l),H(n[u],1)):(n[u]=_d(c),n[u].c(),H(n[u],1),n[u].m(e,null))}for(_e(),u=i.length;u<n.length;u+=1)s(u);Oe(),!i.length&&a?a.p(o,l):i.length?a&&(a.d(1),a=null):(a=kd(o),a.c(),a.m(e,null))}},i(o){if(!r){for(let l=0;l<i.length;l+=1)H(n[l]);r=!0}},o(o){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)V(n[l]);r=!1},d(o){o&&q(e),ot(n,o),a&&a.d()}}}function wd(t){let e=Bi(t[0],t[1])+"",r,i,n=Gr(t[0],t[1])+"",s,a;return{c(){r=Se(e),i=pt(),s=Se(n),a=Se(".")},l(o){r=we(o,e),i=gt(o),s=we(o,n),a=we(o,".")},m(o,l){J(o,r,l),J(o,i,l),J(o,s,l),J(o,a,l)},p(o,l){l&3&&e!==(e=Bi(o[0],o[1])+"")&&bt(r,e),l&3&&n!==(n=Gr(o[0],o[1])+"")&&bt(s,n)},d(o){o&&q(r),o&&q(i),o&&q(s),o&&q(a)}}}function Cd(t){let e=Bi(t[0],t[1])+"",r,i,n=Gr(t[0],t[1])+"",s,a,o,l,u;return o=new ta({props:{element:t[14]}}),{c(){r=Se(e),i=pt(),s=Se(n),a=Se(`:
                `),ge(o.$$.fragment),l=Se(".")},l(c){r=we(c,e),i=gt(c),s=we(c,n),a=we(c,`:
                `),be(o.$$.fragment,c),l=we(c,".")},m(c,h){J(c,r,h),J(c,i,h),J(c,s,h),J(c,a,h),Te(o,c,h),J(c,l,h),u=!0},p(c,h){(!u||h&3)&&e!==(e=Bi(c[0],c[1])+"")&&bt(r,e),(!u||h&3)&&n!==(n=Gr(c[0],c[1])+"")&&bt(s,n);const m={};h&3&&(m.element=c[14]),o.$set(m)},i(c){u||(H(o.$$.fragment,c),u=!0)},o(c){V(o.$$.fragment,c),u=!1},d(c){c&&q(r),c&&q(i),c&&q(s),c&&q(a),ve(o,c),c&&q(l)}}}function kd(t){let e=Bi(t[0],t[1])+"",r,i,n=Gr(t[0],t[1])+"",s,a;return{c(){r=Se(e),i=pt(),s=Se(n),a=Se(".")},l(o){r=we(o,e),i=gt(o),s=we(o,n),a=we(o,".")},m(o,l){J(o,r,l),J(o,i,l),J(o,s,l),J(o,a,l)},p(o,l){l&3&&e!==(e=Bi(o[0],o[1])+"")&&bt(r,e),l&3&&n!==(n=Gr(o[0],o[1])+"")&&bt(s,n)},d(o){o&&q(r),o&&q(i),o&&q(s),o&&q(a)}}}function _d(t){let e=Bi(t[0],t[1])+"",r,i,n=Gr(t[0],t[1])+"",s,a,o,l,u;return o=new ta({props:{element:t[14]}}),{c(){r=Se(e),i=pt(),s=Se(n),a=Se(`:
                `),ge(o.$$.fragment),l=Se(".")},l(c){r=we(c,e),i=gt(c),s=we(c,n),a=we(c,`:
                `),be(o.$$.fragment,c),l=we(c,".")},m(c,h){J(c,r,h),J(c,i,h),J(c,s,h),J(c,a,h),Te(o,c,h),J(c,l,h),u=!0},p(c,h){(!u||h&3)&&e!==(e=Bi(c[0],c[1])+"")&&bt(r,e),(!u||h&3)&&n!==(n=Gr(c[0],c[1])+"")&&bt(s,n);const m={};h&3&&(m.element=c[14]),o.$set(m)},i(c){u||(H(o.$$.fragment,c),u=!0)},o(c){V(o.$$.fragment,c),u=!1},d(c){c&&q(r),c&&q(i),c&&q(s),c&&q(a),ve(o,c),c&&q(l)}}}function Od(t){let e,r;return e=new l2({props:{element:t[11]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[11]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function Nd(t){let e,r,i=t[1](t[0]).children("content:first"),n=[];for(let a=0;a<i.length;a+=1)n[a]=Id(yd(t,i,a));const s=a=>V(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ke()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ke()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);J(a,e,o),r=!0},p(a,o){if(o&3){i=a[1](a[0]).children("content:first");let l;for(l=0;l<i.length;l+=1){const u=yd(a,i,l);n[l]?(n[l].p(u,o),H(n[l],1)):(n[l]=Id(u),n[l].c(),H(n[l],1),n[l].m(e.parentNode,e))}for(_e(),l=i.length;l<n.length;l+=1)s(l);Oe()}},i(a){if(!r){for(let o=0;o<i.length;o+=1)H(n[o]);r=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)V(n[o]);r=!1},d(a){ot(n,a),a&&q(e)}}}function Id(t){let e,r;return e=new $c({props:{element:t[8],allowKnowls:!0}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[8]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function Md(t){let e,r;return e=new h2({props:{element:t[5]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[5]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function Dd(t){let e,r;return e=new u2({props:{element:t[2]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&3&&(s.element=i[2]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function yy(t){let e,r,i,n,s,a,o,l,u;const c=[Ey,vy],h=[];function m(_,B){return B&3&&(r=null),r==null&&(r=Ss(_[0],_[1])===0),r?0:1}i=m(t,-1),n=h[i]=c[i](t);let p=t[1](t[0]).children("intro:first"),b=[];for(let _=0;_<p.length;_+=1)b[_]=Od(Ad(t,p,_));const A=_=>V(b[_],1,1,()=>{b[_]=null});let x=t[1](t[0]).children("division"),S=[];for(let _=0;_<x.length;_+=1)S[_]=Md(Ed(t,x,_));const R=_=>V(S[_],1,1,()=>{S[_]=null});let I=null;x.length||(I=Nd(t));let P=t[1](t[0]).children("outtro:first"),N=[];for(let _=0;_<P.length;_+=1)N[_]=Dd(vd(t,P,_));const $=_=>V(N[_],1,1,()=>{N[_]=null});return{c(){e=Fe("div"),n.c(),s=pt(),a=Fe("div");for(let _=0;_<b.length;_+=1)b[_].c();o=pt();for(let _=0;_<S.length;_+=1)S[_].c();I&&I.c(),l=pt();for(let _=0;_<N.length;_+=1)N[_].c()},l(_){e=He(_,"DIV",{});var B=$e(e);n.l(B),s=gt(B),a=He(B,"DIV",{});var z=$e(a);for(let M=0;M<b.length;M+=1)b[M].l(z);o=gt(z);for(let M=0;M<S.length;M+=1)S[M].l(z);I&&I.l(z),l=gt(z);for(let M=0;M<N.length;M+=1)N[M].l(z);z.forEach(q),B.forEach(q)},m(_,B){J(_,e,B),h[i].m(e,null),et(e,s),et(e,a);for(let z=0;z<b.length;z+=1)b[z]&&b[z].m(a,null);et(a,o);for(let z=0;z<S.length;z+=1)S[z]&&S[z].m(a,null);I&&I.m(a,null),et(a,l);for(let z=0;z<N.length;z+=1)N[z]&&N[z].m(a,null);u=!0},p(_,[B]){let z=i;if(i=m(_,B),i===z?h[i].p(_,B):(_e(),V(h[z],1,1,()=>{h[z]=null}),Oe(),n=h[i],n?n.p(_,B):(n=h[i]=c[i](_),n.c()),H(n,1),n.m(e,s)),B&3){p=_[1](_[0]).children("intro:first");let M;for(M=0;M<p.length;M+=1){const ne=Ad(_,p,M);b[M]?(b[M].p(ne,B),H(b[M],1)):(b[M]=Od(ne),b[M].c(),H(b[M],1),b[M].m(a,o))}for(_e(),M=p.length;M<b.length;M+=1)A(M);Oe()}if(B&3){x=_[1](_[0]).children("division");let M;for(M=0;M<x.length;M+=1){const ne=Ed(_,x,M);S[M]?(S[M].p(ne,B),H(S[M],1)):(S[M]=Md(ne),S[M].c(),H(S[M],1),S[M].m(a,l))}for(_e(),M=x.length;M<S.length;M+=1)R(M);Oe(),!x.length&&I?I.p(_,B):x.length?I&&(_e(),V(I,1,1,()=>{I=null}),Oe()):(I=Nd(_),I.c(),H(I,1),I.m(a,l))}if(B&3){P=_[1](_[0]).children("outtro:first");let M;for(M=0;M<P.length;M+=1){const ne=vd(_,P,M);N[M]?(N[M].p(ne,B),H(N[M],1)):(N[M]=Dd(ne),N[M].c(),H(N[M],1),N[M].m(a,null))}for(_e(),M=P.length;M<N.length;M+=1)$(M);Oe()}},i(_){if(!u){H(n);for(let B=0;B<p.length;B+=1)H(b[B]);for(let B=0;B<x.length;B+=1)H(S[B]);for(let B=0;B<P.length;B+=1)H(N[B]);u=!0}},o(_){V(n),b=b.filter(Boolean);for(let B=0;B<b.length;B+=1)V(b[B]);S=S.filter(Boolean);for(let B=0;B<S.length;B+=1)V(S[B]);N=N.filter(Boolean);for(let B=0;B<N.length;B+=1)V(N[B]);u=!1},d(_){_&&q(e),h[i].d(),ot(b,_),ot(S,_),I&&I.d(),ot(N,_)}}}function Ay(t,e,r){let i;fr(t,rr,s=>r(1,i=s));let{element:n}=e;return t.$$set=s=>{"element"in s&&r(0,n=s.element)},[n,i]}class h2 extends Tt{constructor(e){super(),vt(this,e,Ay,yy,Et,{element:0})}}function Rd(t,e,r){const i=t.slice();return i[3]=e[r],i}function Ld(t,e,r){const i=t.slice();return i[3]=e[r],i}function Pd(t,e,r){const i=t.slice();return i[3]=e[r],i}function Bd(t,e,r){const i=t.slice();return i[3]=e[r],i}function Fd(t){let e,r,i;return r=new ta({props:{element:t[3]}}),{c(){e=Fe("h1"),ge(r.$$.fragment),this.h()},l(n){e=He(n,"H1",{style:!0});var s=$e(e);be(r.$$.fragment,s),s.forEach(q),this.h()},h(){Os(e,"text-align","center"),Os(e,"font-size","2.5em")},m(n,s){J(n,e,s),Te(r,e,null),i=!0},p(n,s){const a={};s&1&&(a.element=n[3]),r.$set(a)},i(n){i||(H(r.$$.fragment,n),i=!0)},o(n){V(r.$$.fragment,n),i=!1},d(n){n&&q(e),ve(r)}}}function Hd(t){let e,r,i=t[0].children("content:first"),n=[];for(let o=0;o<i.length;o+=1)n[o]=qd(Ld(t,i,o));const s=o=>V(n[o],1,1,()=>{n[o]=null});let a=null;return i.length||(a=Ud(t)),{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=ke(),a&&a.c()},l(o){for(let l=0;l<n.length;l+=1)n[l].l(o);e=ke(),a&&a.l(o)},m(o,l){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(o,l);J(o,e,l),a&&a.m(o,l),r=!0},p(o,l){if(l&1){i=o[0].children("content:first");let u;for(u=0;u<i.length;u+=1){const c=Ld(o,i,u);n[u]?(n[u].p(c,l),H(n[u],1)):(n[u]=qd(c),n[u].c(),H(n[u],1),n[u].m(e.parentNode,e))}for(_e(),u=i.length;u<n.length;u+=1)s(u);Oe(),!i.length&&a?a.p(o,l):i.length?a&&(_e(),V(a,1,1,()=>{a=null}),Oe()):(a=Ud(o),a.c(),H(a,1),a.m(e.parentNode,e))}},i(o){if(!r){for(let l=0;l<i.length;l+=1)H(n[l]);r=!0}},o(o){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)V(n[l]);r=!1},d(o){ot(n,o),o&&q(e),a&&a.d(o)}}}function Ud(t){let e,r,i=t[0].children("knowl:first"),n=[];for(let o=0;o<i.length;o+=1)n[o]=$d(Pd(t,i,o));const s=o=>V(n[o],1,1,()=>{n[o]=null});let a=null;return i.length||(a=zd()),{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=ke(),a&&a.c()},l(o){for(let l=0;l<n.length;l+=1)n[l].l(o);e=ke(),a&&a.l(o)},m(o,l){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(o,l);J(o,e,l),a&&a.m(o,l),r=!0},p(o,l){if(l&1){i=o[0].children("knowl:first");let u;for(u=0;u<i.length;u+=1){const c=Pd(o,i,u);n[u]?(n[u].p(c,l),H(n[u],1)):(n[u]=$d(c),n[u].c(),H(n[u],1),n[u].m(e.parentNode,e))}for(_e(),u=i.length;u<n.length;u+=1)s(u);Oe(),!i.length&&a?a.p(o,l):i.length?a&&(a.d(1),a=null):(a=zd(),a.c(),a.m(e.parentNode,e))}},i(o){if(!r){for(let l=0;l<i.length;l+=1)H(n[l]);r=!0}},o(o){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)V(n[l]);r=!1},d(o){ot(n,o),o&&q(e),a&&a.d(o)}}}function zd(t){let e,r;return{c(){e=Fe("div"),r=Se("(No SpaTeXt elements found.)"),this.h()},l(i){e=He(i,"DIV",{class:!0});var n=$e(e);r=we(n,"(No SpaTeXt elements found.)"),n.forEach(q),this.h()},h(){Nt(e,"class","warning svelte-qolqgz")},m(i,n){J(i,e,n),et(e,r)},p:Ft,d(i){i&&q(e)}}}function $d(t){let e,r;return e=new zc({props:{element:t[3]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&1&&(s.element=i[3]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function qd(t){let e,r;return e=new $c({props:{element:t[3],allowKnowls:!0}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&1&&(s.element=i[3]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function Vd(t){let e,r;return e=new h2({props:{element:t[3]}}),{c(){ge(e.$$.fragment)},l(i){be(e.$$.fragment,i)},m(i,n){Te(e,i,n),r=!0},p(i,n){const s={};n&1&&(s.element=i[3]),e.$set(s)},i(i){r||(H(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ve(e,i)}}}function xy(t){let e,r,i,n=t[0].children("title"),s=[];for(let h=0;h<n.length;h+=1)s[h]=Fd(Bd(t,n,h));const a=h=>V(s[h],1,1,()=>{s[h]=null});let o=t[0].children("division"),l=[];for(let h=0;h<o.length;h+=1)l[h]=Vd(Rd(t,o,h));const u=h=>V(l[h],1,1,()=>{l[h]=null});let c=null;return o.length||(c=Hd(t)),{c(){for(let h=0;h<s.length;h+=1)s[h].c();e=pt();for(let h=0;h<l.length;h+=1)l[h].c();r=ke(),c&&c.c()},l(h){for(let m=0;m<s.length;m+=1)s[m].l(h);e=gt(h);for(let m=0;m<l.length;m+=1)l[m].l(h);r=ke(),c&&c.l(h)},m(h,m){for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(h,m);J(h,e,m);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(h,m);J(h,r,m),c&&c.m(h,m),i=!0},p(h,[m]){if(m&1){n=h[0].children("title");let p;for(p=0;p<n.length;p+=1){const b=Bd(h,n,p);s[p]?(s[p].p(b,m),H(s[p],1)):(s[p]=Fd(b),s[p].c(),H(s[p],1),s[p].m(e.parentNode,e))}for(_e(),p=n.length;p<s.length;p+=1)a(p);Oe()}if(m&1){o=h[0].children("division");let p;for(p=0;p<o.length;p+=1){const b=Rd(h,o,p);l[p]?(l[p].p(b,m),H(l[p],1)):(l[p]=Vd(b),l[p].c(),H(l[p],1),l[p].m(r.parentNode,r))}for(_e(),p=o.length;p<l.length;p+=1)u(p);Oe(),!o.length&&c?c.p(h,m):o.length?c&&(_e(),V(c,1,1,()=>{c=null}),Oe()):(c=Hd(h),c.c(),H(c,1),c.m(r.parentNode,r))}},i(h){if(!i){for(let m=0;m<n.length;m+=1)H(s[m]);for(let m=0;m<o.length;m+=1)H(l[m]);i=!0}},o(h){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)V(s[m]);l=l.filter(Boolean);for(let m=0;m<l.length;m+=1)V(l[m]);i=!1},d(h){ot(s,h),h&&q(e),ot(l,h),h&&q(r),c&&c.d(h)}}}function Sy(t,e,r){let i,n;fr(t,rr,a=>r(2,n=a));let{stx:s}=e;return t.$$set=a=>{"stx"in a&&r(1,s=a.stx)},t.$$.update=()=>{t.$$.dirty&2&&rr.update(()=>bc(s,{xml:!0})),t.$$.dirty&4&&r(0,i=n("spatext:first"))},[i,s,n]}class wy extends Tt{constructor(e){super(),vt(this,e,Sy,xy,Et,{stx:1})}}const Cy=`<?xml version="1.0"?>
<spatext xmlns="https://spatext.clontz.org" version="0.3">
    <title>A sample SpaTeXt document</title>
    <division>
        <title>My first chapter</title>
    </division>
    <division/>
    <division/>
    <division>
        <title>Another chapter</title>
        <division numbering="LE"/>
        <division numbering="EV">
            <title>My second section</title>
            <intro><p>About to start a subsection</p></intro>
            <division>
                <title>My first subsection</title>
            </division>
            <division/>
            <division>
                <title>Another subsection</title>
                <content>
                    <p>Showing off a couple knowls...</p>
                    <knowl/>
                    <knowl mode="definition"/>
                    <knowl/>
                    <knowl mode="theorem" label="My Big Fat Important Theorem"/>
                    <knowl mode="exercise">
                        <title>An example <c>&lt;knowl&gt;</c></title>
                        <intro>
                            <p>So here's a few parts.</p>
                        </intro>
                        <knowl/>
                        <knowl>
                            <intro><p>Some sub-knowls.</p></intro>
                            <knowl>
                                <content>
                                    <p>Some inline math <m>x^2+y^2=z^2</m>.</p>
                                    <p>Some display math <m mode="display">\\sum_{k=0}^n k=\\frac{n(n+1)}{2}</m></p>
                                    <p>
Hey check out <url href="https://checkit.clontz.org"><em>CheckIt</em></url>.
It's at <url href="https://checkit.clontz.org"/>.
                                    </p>
                                </content>
                                <outtro>
                                    <p>I guess an answer <em>should</em> go here.</p>
                                </outtro>
                            </knowl>
                            <knowl>
                                <content>
                                    <p>And now a list.</p>
                                    <list mode="ordered">
                                        <item><p>First thing.</p></item>
                                        <item><p>Second thing.</p></item>
                                        <item>
                                            <p>Something with a sublist.</p>
                                            <list>
                                                <item><p>hi</p></item>
                                                <item><p>mom</p></item>
                                            </list>
                                        </item>
                                        <item><p><m>4^{th}</m> thing.</p></item>
                                        <item><p>Last thing.</p></item>
                                    </list>
                                </content>
                                <outtro>
                                    <p>Another answer.</p>
                                </outtro>
                            </knowl>
                            <outtro>
                                <p>The grand conclusion.</p>
                            </outtro>
                        </knowl>
                        <knowl>
                            <content>
                                <p>
Hey let's try an image. <image remote="https://via.placeholder.com" source="150x100"/>
                                </p>
                            </content>
                            <outtro>
                                <p>And finally... the end!</p>
                            </outtro>
                        </knowl>
                    </knowl>
                    <knowl>
                        <content>
                            <p>A short one.</p>
                        </content>
                        <outtro>
                            <p>Shorter conclusion.</p>
                        </outtro>
                    </knowl>
                </content>
            </division>
        </division>
        <division numbering="AT">
            <title>My second section</title>
        </division>
    </division>
    <division >
        <title>My penultimate chapter</title>
    </division>
    <division>
        <title>My last chapter</title>
    </division>
</spatext>`;class Le{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,i){let n=[];return this.decompose(0,e,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(r,this.length,n,1),Hr.from(n,this.length-(r-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){let i=[];return this.decompose(e,r,i,0),Hr.from(i,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),n=new ws(this),s=new ws(e);for(let a=r,o=r;;){if(n.next(a),s.next(a),a=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(o+=n.value.length,n.done||o>=i)return!0}}iter(e=1){return new ws(this,e)}iterRange(e,r=this.length){return new f2(this,e,r)}iterLines(e,r){let i;if(e==null)i=this.iter();else{r==null&&(r=this.lines+1);let n=this.line(e).from;i=this.iterRange(n,Math.max(n,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new d2(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Le.empty:e.length<=32?new ct(e):Hr.from(ct.split(e,[]))}}class ct extends Le{constructor(e,r=ky(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,i,n){for(let s=0;;s++){let a=this.text[s],o=n+a.length;if((r?i:o)>=e)return new _y(n,o,i,a);n=o+1,i++}}decompose(e,r,i,n){let s=e<=0&&r>=this.length?this:new ct(Wd(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(n&1){let a=i.pop(),o=ja(s.text,a.text.slice(),0,s.length);if(o.length<=32)i.push(new ct(o,a.length+s.length));else{let l=o.length>>1;i.push(new ct(o.slice(0,l)),new ct(o.slice(l)))}}else i.push(s)}replace(e,r,i){if(!(i instanceof ct))return super.replace(e,r,i);let n=ja(this.text,ja(i.text,Wd(this.text,0,e)),r),s=this.length+i.length-(r-e);return n.length<=32?new ct(n,s):Hr.from(ct.split(n,[]),s)}sliceString(e,r=this.length,i=`
`){let n="";for(let s=0,a=0;s<=r&&a<this.text.length;a++){let o=this.text[a],l=s+o.length;s>e&&a&&(n+=i),e<l&&r>s&&(n+=o.slice(Math.max(0,e-s),r-s)),s=l+1}return n}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let i=[],n=-1;for(let s of e)i.push(s),n+=s.length+1,i.length==32&&(r.push(new ct(i,n)),i=[],n=-1);return n>-1&&r.push(new ct(i,n)),r}}class Hr extends Le{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,r,i,n){for(let s=0;;s++){let a=this.children[s],o=n+a.length,l=i+a.lines-1;if((r?l:o)>=e)return a.lineInner(e,r,i,n);n=o+1,i=l+1}}decompose(e,r,i,n){for(let s=0,a=0;a<=r&&s<this.children.length;s++){let o=this.children[s],l=a+o.length;if(e<=l&&r>=a){let u=n&((a<=e?1:0)|(l>=r?2:0));a>=e&&l<=r&&!u?i.push(o):o.decompose(e-a,r-a,i,u)}a=l+1}}replace(e,r,i){if(i.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let a=this.children[n],o=s+a.length;if(e>=s&&r<=o){let l=a.replace(e-s,r-s,i),u=this.lines-a.lines+l.lines;if(l.lines<u>>5-1&&l.lines>u>>5+1){let c=this.children.slice();return c[n]=l,new Hr(c,this.length-(r-e)+i.length)}return super.replace(s,o,l)}s=o+1}return super.replace(e,r,i)}sliceString(e,r=this.length,i=`
`){let n="";for(let s=0,a=0;s<this.children.length&&a<=r;s++){let o=this.children[s],l=a+o.length;a>e&&s&&(n+=i),e<l&&r>a&&(n+=o.sliceString(e-a,r-a,i)),a=l+1}return n}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof Hr))return 0;let i=0,[n,s,a,o]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;n+=r,s+=r){if(n==a||s==o)return i;let l=this.children[n],u=e.children[s];if(l!=u)return i+l.scanIdentical(u,r);i+=l.length+1}}static from(e,r=e.reduce((i,n)=>i+n.length+1,-1)){let i=0;for(let p of e)i+=p.lines;if(i<32){let p=[];for(let b of e)b.flatten(p);return new ct(p,r)}let n=Math.max(32,i>>5),s=n<<1,a=n>>1,o=[],l=0,u=-1,c=[];function h(p){let b;if(p.lines>s&&p instanceof Hr)for(let A of p.children)h(A);else p.lines>a&&(l>a||!l)?(m(),o.push(p)):p instanceof ct&&l&&(b=c[c.length-1])instanceof ct&&p.lines+b.lines<=32?(l+=p.lines,u+=p.length+1,c[c.length-1]=new ct(b.text.concat(p.text),b.length+1+p.length)):(l+p.lines>n&&m(),l+=p.lines,u+=p.length+1,c.push(p))}function m(){l!=0&&(o.push(c.length==1?c[0]:Hr.from(c,u)),u=-1,l=c.length=0)}for(let p of e)h(p);return m(),o.length==1?o[0]:new Hr(o,r)}}Le.empty=new ct([""],0);function ky(t){let e=-1;for(let r of t)e+=r.length+1;return e}function ja(t,e,r=0,i=1e9){for(let n=0,s=0,a=!0;s<t.length&&n<=i;s++){let o=t[s],l=n+o.length;l>=r&&(l>i&&(o=o.slice(0,i-n)),n<r&&(o=o.slice(r-n)),a?(e[e.length-1]+=o,a=!1):e.push(o)),n=l+1}return e}function Wd(t,e,r){return ja(t,[""],e,r)}class ws{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof ct?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],a=s>>1,o=n instanceof ct?n.text.length:n.children.length;if(a==(r>0?o:0)){if(i==0)return this.done=!0,this.value="",this;r>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(r>0?0:1)){if(this.offsets[i]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(n instanceof ct){let l=n.text[a+(r<0?-1:0)];if(this.offsets[i]+=r,l.length>Math.max(0,e))return this.value=e==0?l:r>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=n.children[a+(r<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=r):(r<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(r>0?1:(l instanceof ct?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class f2{constructor(e,r,i){this.value="",this.done=!1,this.cursor=new ws(e,r>i?-1:1),this.pos=r>i?e.length:0,this.from=Math.min(r,i),this.to=Math.max(r,i)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let i=r<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:n}=this.cursor.next(e);return this.pos+=(n.length+e)*r,this.value=n.length<=i?n:r<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class d2{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:i,value:n}=this.inner.next(e);return r?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Le.prototype[Symbol.iterator]=function(){return this.iter()},ws.prototype[Symbol.iterator]=f2.prototype[Symbol.iterator]=d2.prototype[Symbol.iterator]=function(){return this});class _y{constructor(e,r,i,n){this.from=e,this.to=r,this.number=i,this.text=n}get length(){return this.to-this.from}}let Mn="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Mn.length;t++)Mn[t]+=Mn[t-1];function Oy(t){for(let e=1;e<Mn.length;e+=2)if(Mn[e]>t)return Mn[e-1]<=t;return!1}function Yd(t){return t>=127462&&t<=127487}const Gd=8205;function qt(t,e,r=!0,i=!0){return(r?m2:Ny)(t,e,i)}function m2(t,e,r){if(e==t.length)return e;e&&p2(t.charCodeAt(e))&&g2(t.charCodeAt(e-1))&&e--;let i=It(t,e);for(e+=Tr(i);e<t.length;){let n=It(t,e);if(i==Gd||n==Gd||r&&Oy(n))e+=Tr(n),i=n;else if(Yd(n)){let s=0,a=e-2;for(;a>=0&&Yd(It(t,a));)s++,a-=2;if(s%2==0)break;e+=2}else break}return e}function Ny(t,e,r){for(;e>0;){let i=m2(t,e-2,r);if(i<e)return i;e--}return 0}function p2(t){return t>=56320&&t<57344}function g2(t){return t>=55296&&t<56320}function It(t,e){let r=t.charCodeAt(e);if(!g2(r)||e+1==t.length)return r;let i=t.charCodeAt(e+1);return p2(i)?(r-55296<<10)+(i-56320)+65536:r}function qc(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Tr(t){return t<65536?1:2}const nu=/\r\n?|\n/;var zt=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(zt||(zt={}));class Wr{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let i=this.sections[r+1];e+=i<0?this.sections[r]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,i=0,n=0;r<this.sections.length;){let s=this.sections[r++],a=this.sections[r++];a<0?(e(i,n,s),n+=s):n+=a,i+=s}}iterChangedRanges(e,r=!1){su(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let i=this.sections[r++],n=this.sections[r++];n<0?e.push(i,n):e.push(n,i)}return new Wr(e)}composeDesc(e){return this.empty?e:e.empty?this:b2(this,e)}mapDesc(e,r=!1){return e.empty?this:au(this,e,r)}mapPos(e,r=-1,i=zt.Simple){let n=0,s=0;for(let a=0;a<this.sections.length;){let o=this.sections[a++],l=this.sections[a++],u=n+o;if(l<0){if(u>e)return s+(e-n);s+=o}else{if(i!=zt.Simple&&u>=e&&(i==zt.TrackDel&&n<e&&u>e||i==zt.TrackBefore&&n<e||i==zt.TrackAfter&&u>e))return null;if(u>e||u==e&&r<0&&!o)return e==n||r<0?s:s+l;s+=l}n=u}if(e>n)throw new RangeError(`Position ${e} is out of range for changeset of length ${n}`);return s}touchesRange(e,r=e){for(let i=0,n=0;i<this.sections.length&&n<=r;){let s=this.sections[i++],a=this.sections[i++],o=n+s;if(a>=0&&n<=r&&o>=e)return n<e&&o>r?"cover":!0;n=o}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let i=this.sections[r++],n=this.sections[r++];e+=(e?" ":"")+i+(n>=0?":"+n:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Wr(e)}static create(e){return new Wr(e)}}class xt extends Wr{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return su(this,(r,i,n,s,a)=>e=e.replace(n,n+(i-r),a),!1),e}mapDesc(e,r=!1){return au(this,e,r,!0)}invert(e){let r=this.sections.slice(),i=[];for(let n=0,s=0;n<r.length;n+=2){let a=r[n],o=r[n+1];if(o>=0){r[n]=o,r[n+1]=a;let l=n>>1;for(;i.length<l;)i.push(Le.empty);i.push(a?e.slice(s,s+a):Le.empty)}s+=a}return new xt(r,i)}compose(e){return this.empty?e:e.empty?this:b2(this,e,!0)}map(e,r=!1){return e.empty?this:au(this,e,r,!0)}iterChanges(e,r=!1){su(this,e,r)}get desc(){return Wr.create(this.sections)}filter(e){let r=[],i=[],n=[],s=new Ps(this);e:for(let a=0,o=0;;){let l=a==e.length?1e9:e[a++];for(;o<l||o==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-o);Pt(n,c,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;Pt(r,c,h),h>0&&ki(i,r,s.text),s.forward(c),o+=c}let u=e[a++];for(;o<u;){if(s.done)break e;let c=Math.min(s.len,u-o);Pt(r,c,-1),Pt(n,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),o+=c}}return{changes:new xt(r,i),filtered:Wr.create(n)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let i=this.sections[r],n=this.sections[r+1];n<0?e.push(i):n==0?e.push([i]):e.push([i].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,i){let n=[],s=[],a=0,o=null;function l(c=!1){if(!c&&!n.length)return;a<r&&Pt(n,r-a,-1);let h=new xt(n,s);o=o?o.compose(h.map(o)):h,n=[],s=[],a=0}function u(c){if(Array.isArray(c))for(let h of c)u(h);else if(c instanceof xt){if(c.length!=r)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${r})`);l(),o=o?o.compose(c.map(o)):c}else{let{from:h,to:m=h,insert:p}=c;if(h>m||h<0||m>r)throw new RangeError(`Invalid change range ${h} to ${m} (in doc of length ${r})`);let b=p?typeof p=="string"?Le.of(p.split(i||nu)):p:Le.empty,A=b.length;if(h==m&&A==0)return;h<a&&l(),h>a&&Pt(n,h-a,-1),Pt(n,m-h,A),ki(s,n,b),a=m}}return u(e),l(!o),o}static empty(e){return new xt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],i=[];for(let n=0;n<e.length;n++){let s=e[n];if(typeof s=="number")r.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((a,o)=>o&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)r.push(s[0],0);else{for(;i.length<n;)i.push(Le.empty);i[n]=Le.of(s.slice(1)),r.push(s[0],i[n].length)}}}return new xt(r,i)}static createSet(e,r){return new xt(e,r)}}function Pt(t,e,r,i=!1){if(e==0&&r<=0)return;let n=t.length-2;n>=0&&r<=0&&r==t[n+1]?t[n]+=e:e==0&&t[n]==0?t[n+1]+=r:i?(t[n]+=e,t[n+1]+=r):t.push(e,r)}function ki(t,e,r){if(r.length==0)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<i;)t.push(Le.empty);t.push(r)}}function su(t,e,r){let i=t.inserted;for(let n=0,s=0,a=0;a<t.sections.length;){let o=t.sections[a++],l=t.sections[a++];if(l<0)n+=o,s+=o;else{let u=n,c=s,h=Le.empty;for(;u+=o,c+=l,l&&i&&(h=h.append(i[a-2>>1])),!(r||a==t.sections.length||t.sections[a+1]<0);)o=t.sections[a++],l=t.sections[a++];e(n,u,s,c,h),n=u,s=c}}}function au(t,e,r,i=!1){let n=[],s=i?[]:null,a=new Ps(t),o=new Ps(e);for(let l=-1;;)if(a.ins==-1&&o.ins==-1){let u=Math.min(a.len,o.len);Pt(n,u,-1),a.forward(u),o.forward(u)}else if(o.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(o.len<a.len||o.len==a.len&&!r))){let u=o.len;for(Pt(n,o.ins,-1);u;){let c=Math.min(a.len,u);a.ins>=0&&l<a.i&&a.len<=c&&(Pt(n,0,a.ins),s&&ki(s,n,a.text),l=a.i),a.forward(c),u-=c}o.next()}else if(a.ins>=0){let u=0,c=a.len;for(;c;)if(o.ins==-1){let h=Math.min(c,o.len);u+=h,c-=h,o.forward(h)}else if(o.ins==0&&o.len<c)c-=o.len,o.next();else break;Pt(n,u,l<a.i?a.ins:0),s&&l<a.i&&ki(s,n,a.text),l=a.i,a.forward(a.len-c)}else{if(a.done&&o.done)return s?xt.createSet(n,s):Wr.create(n);throw new Error("Mismatched change set lengths")}}function b2(t,e,r=!1){let i=[],n=r?[]:null,s=new Ps(t),a=new Ps(e);for(let o=!1;;){if(s.done&&a.done)return n?xt.createSet(i,n):Wr.create(i);if(s.ins==0)Pt(i,s.len,0,o),s.next();else if(a.len==0&&!a.done)Pt(i,0,a.ins,o),n&&ki(n,i,a.text),a.next();else{if(s.done||a.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,a.len),u=i.length;if(s.ins==-1){let c=a.ins==-1?-1:a.off?0:a.ins;Pt(i,l,c,o),n&&c&&ki(n,i,a.text)}else a.ins==-1?(Pt(i,s.off?0:s.len,l,o),n&&ki(n,i,s.textBit(l))):(Pt(i,s.off?0:s.len,a.off?0:a.ins,o),n&&!a.off&&ki(n,i,a.text));o=(s.ins>l||a.ins>=0&&a.len>l)&&(o||i.length>u),s.forward2(l),a.forward(l)}}}}class Ps{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?Le.empty:e[r]}textBit(e){let{inserted:r}=this.set,i=this.i-2>>1;return i>=r.length&&!e?Le.empty:r[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class rn{constructor(e,r,i){this.from=e,this.to=r,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,r=-1){let i,n;return this.empty?i=n=e.mapPos(this.from,r):(i=e.mapPos(this.from,1),n=e.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new rn(i,n,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return Y.range(e,r);let i=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return Y.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Y.range(e.anchor,e.head)}static create(e,r,i){return new rn(e,r,i)}}class Y{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:Y.create(this.ranges.map(i=>i.map(e,r)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Y([this.main],0)}addRange(e,r=!0){return Y.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let i=this.ranges.slice();return i[r]=e,Y.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Y(e.ranges.map(r=>rn.fromJSON(r)),e.main)}static single(e,r=e){return new Y([Y.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<e.length;n++){let s=e[n];if(s.empty?s.from<=i:s.from<i)return Y.normalized(e.slice(),r);i=s.to}return new Y(e,r)}static cursor(e,r=0,i,n){return rn.create(e,e,(r==0?0:r<0?4:8)|(i==null?3:Math.min(2,i))|(n??33554431)<<5)}static range(e,r,i,n){let s=(i??33554431)<<5|(n==null?3:Math.min(2,n));return r<e?rn.create(r,e,24|s):rn.create(e,r,(r>e?4:0)|s)}static normalized(e,r=0){let i=e[r];e.sort((n,s)=>n.from-s.from),r=e.indexOf(i);for(let n=1;n<e.length;n++){let s=e[n],a=e[n-1];if(s.empty?s.from<=a.to:s.from<a.to){let o=a.from,l=Math.max(s.to,a.to);n<=r&&r--,e.splice(--n,2,s.anchor>s.head?Y.range(l,o):Y.range(o,l))}}return new Y(e,r)}}function T2(t,e){for(let r of t.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let Vc=0;class oe{constructor(e,r,i,n,s){this.combine=e,this.compareInput=r,this.compare=i,this.isStatic=n,this.id=Vc++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new oe(e.combine||(r=>r),e.compareInput||((r,i)=>r===i),e.compare||(e.combine?(r,i)=>r===i:Wc),!!e.static,e.enables)}of(e){return new Qa([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new Qa(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new Qa(e,this,2,r)}from(e,r){return r||(r=i=>i),this.compute([e],i=>r(i.field(e)))}}function Wc(t,e){return t==e||t.length==e.length&&t.every((r,i)=>r===e[i])}class Qa{constructor(e,r,i,n){this.dependencies=e,this.facet=r,this.type=i,this.value=n,this.id=Vc++}dynamicSlot(e){var r;let i=this.value,n=this.facet.compareInput,s=this.id,a=e[s]>>1,o=this.type==2,l=!1,u=!1,c=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?u=!0:((r=e[h.id])!==null&&r!==void 0?r:1)&1||c.push(e[h.id]);return{create(h){return h.values[a]=i(h),1},update(h,m){if(l&&m.docChanged||u&&(m.docChanged||m.selection)||ou(h,c)){let p=i(h);if(o?!Xd(p,h.values[a],n):!n(p,h.values[a]))return h.values[a]=p,1}return 0},reconfigure:(h,m)=>{let p,b=m.config.address[s];if(b!=null){let A=xo(m,b);if(this.dependencies.every(x=>x instanceof oe?m.facet(x)===h.facet(x):x instanceof Lt?m.field(x,!1)==h.field(x,!1):!0)||(o?Xd(p=i(h),A,n):n(p=i(h),A)))return h.values[a]=A,0}else p=i(h);return h.values[a]=p,1}}}}function Xd(t,e,r){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!r(t[i],e[i]))return!1;return!0}function ou(t,e){let r=!1;for(let i of e)Cs(t,i)&1&&(r=!0);return r}function Iy(t,e,r){let i=r.map(l=>t[l.id]),n=r.map(l=>l.type),s=i.filter(l=>!(l&1)),a=t[e.id]>>1;function o(l){let u=[];for(let c=0;c<i.length;c++){let h=xo(l,i[c]);if(n[c]==2)for(let m of h)u.push(m);else u.push(h)}return e.combine(u)}return{create(l){for(let u of i)Cs(l,u);return l.values[a]=o(l),1},update(l,u){if(!ou(l,s))return 0;let c=o(l);return e.compare(c,l.values[a])?0:(l.values[a]=c,1)},reconfigure(l,u){let c=ou(l,i),h=u.config.facets[e.id],m=u.facet(e);if(h&&!c&&Wc(r,h))return l.values[a]=m,0;let p=o(l);return e.compare(p,m)?(l.values[a]=m,0):(l.values[a]=p,1)}}}const Kd=oe.define({static:!0});class Lt{constructor(e,r,i,n,s){this.id=e,this.createF=r,this.updateF=i,this.compareF=n,this.spec=s,this.provides=void 0}static define(e){let r=new Lt(Vc++,e.create,e.update,e.compare||((i,n)=>i===n),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(Kd).find(i=>i.field==this);return((r==null?void 0:r.create)||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:i=>(i.values[r]=this.create(i),1),update:(i,n)=>{let s=i.values[r],a=this.updateF(s,n);return this.compareF(s,a)?0:(i.values[r]=a,1)},reconfigure:(i,n)=>n.config.address[this.id]!=null?(i.values[r]=n.field(this),0):(i.values[r]=this.create(i),1)}}init(e){return[this,Kd.of({field:this,create:e})]}get extension(){return this}}const Zi={lowest:4,low:3,default:2,high:1,highest:0};function ns(t){return e=>new v2(e,t)}const Zn={highest:ns(Zi.highest),high:ns(Zi.high),default:ns(Zi.default),low:ns(Zi.low),lowest:ns(Zi.lowest)};class v2{constructor(e,r){this.inner=e,this.prec=r}}class vl{of(e){return new lu(this,e)}reconfigure(e){return vl.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class lu{constructor(e,r){this.compartment=e,this.inner=r}}class Ao{constructor(e,r,i,n,s,a){for(this.base=e,this.compartments=r,this.dynamicSlots=i,this.address=n,this.staticValues=s,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,i){let n=[],s=Object.create(null),a=new Map;for(let m of My(e,r,a))m instanceof Lt?n.push(m):(s[m.facet.id]||(s[m.facet.id]=[])).push(m);let o=Object.create(null),l=[],u=[];for(let m of n)o[m.id]=u.length<<1,u.push(p=>m.slot(p));let c=i==null?void 0:i.config.facets;for(let m in s){let p=s[m],b=p[0].facet,A=c&&c[m]||[];if(p.every(x=>x.type==0))if(o[b.id]=l.length<<1|1,Wc(A,p))l.push(i.facet(b));else{let x=b.combine(p.map(S=>S.value));l.push(i&&b.compare(x,i.facet(b))?i.facet(b):x)}else{for(let x of p)x.type==0?(o[x.id]=l.length<<1|1,l.push(x.value)):(o[x.id]=u.length<<1,u.push(S=>x.dynamicSlot(S)));o[b.id]=u.length<<1,u.push(x=>Iy(x,b,p))}}let h=u.map(m=>m(o));return new Ao(e,a,h,o,l,s)}}function My(t,e,r){let i=[[],[],[],[],[]],n=new Map;function s(a,o){let l=n.get(a);if(l!=null){if(l<=o)return;let u=i[l].indexOf(a);u>-1&&i[l].splice(u,1),a instanceof lu&&r.delete(a.compartment)}if(n.set(a,o),Array.isArray(a))for(let u of a)s(u,o);else if(a instanceof lu){if(r.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(a.compartment)||a.inner;r.set(a.compartment,u),s(u,o)}else if(a instanceof v2)s(a.inner,a.prec);else if(a instanceof Lt)i[o].push(a),a.provides&&s(a.provides,o);else if(a instanceof Qa)i[o].push(a),a.facet.extensions&&s(a.facet.extensions,Zi.default);else{let u=a.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,o)}}return s(t,Zi.default),i.reduce((a,o)=>a.concat(o))}function Cs(t,e){if(e&1)return 2;let r=e>>1,i=t.status[r];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;t.status[r]=4;let n=t.computeSlot(t,t.config.dynamicSlots[r]);return t.status[r]=2|n}function xo(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const E2=oe.define(),y2=oe.define({combine:t=>t.some(e=>e),static:!0}),A2=oe.define({combine:t=>t.length?t[0]:void 0,static:!0}),x2=oe.define(),S2=oe.define(),w2=oe.define(),C2=oe.define({combine:t=>t.length?t[0]:!1});class gi{constructor(e,r){this.type=e,this.value=r}static define(){return new Dy}}class Dy{of(e){return new gi(this,e)}}class Ry{constructor(e){this.map=e}of(e){return new Ae(this,e)}}class Ae{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new Ae(this.type,r)}is(e){return this.type==e}static define(e={}){return new Ry(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let i=[];for(let n of e){let s=n.map(r);s&&i.push(s)}return i}}Ae.reconfigure=Ae.define();Ae.appendConfig=Ae.define();class wt{constructor(e,r,i,n,s,a){this.startState=e,this.changes=r,this.selection=i,this.effects=n,this.annotations=s,this.scrollIntoView=a,this._doc=null,this._state=null,i&&T2(i,r.newLength),s.some(o=>o.type==wt.time)||(this.annotations=s.concat(wt.time.of(Date.now())))}static create(e,r,i,n,s,a){return new wt(e,r,i,n,s,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(wt.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}wt.time=gi.define();wt.userEvent=gi.define();wt.addToHistory=gi.define();wt.remote=gi.define();function Ly(t,e){let r=[];for(let i=0,n=0;;){let s,a;if(i<t.length&&(n==e.length||e[n]>=t[i]))s=t[i++],a=t[i++];else if(n<e.length)s=e[n++],a=e[n++];else return r;!r.length||r[r.length-1]<s?r.push(s,a):r[r.length-1]<a&&(r[r.length-1]=a)}}function k2(t,e,r){var i;let n,s,a;return r?(n=e.changes,s=xt.empty(e.changes.length),a=t.changes.compose(e.changes)):(n=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),a=t.changes.compose(n)),{changes:a,selection:e.selection?e.selection.map(s):(i=t.selection)===null||i===void 0?void 0:i.map(n),effects:Ae.mapEffects(t.effects,n).concat(Ae.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function uu(t,e,r){let i=e.selection,n=Dn(e.annotations);return e.userEvent&&(n=n.concat(wt.userEvent.of(e.userEvent))),{changes:e.changes instanceof xt?e.changes:xt.of(e.changes||[],r,t.facet(A2)),selection:i&&(i instanceof Y?i:Y.single(i.anchor,i.head)),effects:Dn(e.effects),annotations:n,scrollIntoView:!!e.scrollIntoView}}function _2(t,e,r){let i=uu(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(r=!1);let a=!!e[s].sequential;i=k2(i,uu(t,e[s],a?i.changes.newLength:t.doc.length),a)}let n=wt.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return By(r?Py(n):n)}function Py(t){let e=t.startState,r=!0;for(let n of e.facet(x2)){let s=n(t);if(s===!1){r=!1;break}Array.isArray(s)&&(r=r===!0?s:Ly(r,s))}if(r!==!0){let n,s;if(r===!1)s=t.changes.invertedDesc,n=xt.empty(e.doc.length);else{let a=t.changes.filter(r);n=a.changes,s=a.filtered.mapDesc(a.changes).invertedDesc}t=wt.create(e,n,t.selection&&t.selection.map(s),Ae.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let i=e.facet(S2);for(let n=i.length-1;n>=0;n--){let s=i[n](t);s instanceof wt?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof wt?t=s[0]:t=_2(e,Dn(s),!1)}return t}function By(t){let e=t.startState,r=e.facet(w2),i=t;for(let n=r.length-1;n>=0;n--){let s=r[n](t);s&&Object.keys(s).length&&(i=k2(i,uu(e,s,t.changes.newLength),!0))}return i==t?t:wt.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}const Fy=[];function Dn(t){return t==null?Fy:Array.isArray(t)?t:[t]}var tt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(tt||(tt={}));const Hy=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let cu;try{cu=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Uy(t){if(cu)return cu.test(t);for(let e=0;e<t.length;e++){let r=t[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||Hy.test(r)))return!0}return!1}function zy(t){return e=>{if(!/\S/.test(e))return tt.Space;if(Uy(e))return tt.Word;for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return tt.Word;return tt.Other}}class Ie{constructor(e,r,i,n,s,a){this.config=e,this.doc=r,this.selection=i,this.values=n,this.status=e.statusTemplate.slice(),this.computeSlot=s,a&&(a._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Cs(this,o<<1);this.computeSlot=null}field(e,r=!0){let i=this.config.address[e.id];if(i==null){if(r)throw new RangeError("Field is not present in this state");return}return Cs(this,i),xo(this,i)}update(...e){return _2(this,e,!0)}applyTransaction(e){let r=this.config,{base:i,compartments:n}=r;for(let a of e.effects)a.is(vl.reconfigure)?(r&&(n=new Map,r.compartments.forEach((o,l)=>n.set(l,o)),r=null),n.set(a.value.compartment,a.value.extension)):a.is(Ae.reconfigure)?(r=null,i=a.value):a.is(Ae.appendConfig)&&(r=null,i=Dn(i).concat(a.value));let s;r?s=e.startState.values.slice():(r=Ao.resolve(i,n,this),s=new Ie(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(o,l)=>l.reconfigure(o,this),null).values),new Ie(r,e.newDoc,e.newSelection,s,(a,o)=>o.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:Y.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,i=e(r.ranges[0]),n=this.changes(i.changes),s=[i.range],a=Dn(i.effects);for(let o=1;o<r.ranges.length;o++){let l=e(r.ranges[o]),u=this.changes(l.changes),c=u.map(n);for(let m=0;m<o;m++)s[m]=s[m].map(c);let h=n.mapDesc(u,!0);s.push(l.range.map(h)),n=n.compose(c),a=Ae.mapEffects(a,c).concat(Ae.mapEffects(Dn(l.effects),h))}return{changes:n,selection:Y.create(s,r.mainIndex),effects:a}}changes(e=[]){return e instanceof xt?e:xt.of(e,this.doc.length,this.facet(Ie.lineSeparator))}toText(e){return Le.of(e.split(this.facet(Ie.lineSeparator)||nu))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(Cs(this,r),xo(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let n=e[i];n instanceof Lt&&this.config.address[n.id]!=null&&(r[i]=n.spec.toJSON(this.field(e[i]),this))}return r}static fromJSON(e,r={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let a=i[s],o=e[s];n.push(a.init(l=>a.spec.fromJSON(o,l)))}}return Ie.create({doc:e.doc,selection:Y.fromJSON(e.selection),extensions:r.extensions?n.concat([r.extensions]):n})}static create(e={}){let r=Ao.resolve(e.extensions||[],new Map),i=e.doc instanceof Le?e.doc:Le.of((e.doc||"").split(r.staticFacet(Ie.lineSeparator)||nu)),n=e.selection?e.selection instanceof Y?e.selection:Y.single(e.selection.anchor,e.selection.head):Y.single(0);return T2(n,i.length),r.staticFacet(y2)||(n=n.asSingle()),new Ie(r,i,n,r.dynamicSlots.map(()=>null),(s,a)=>a.create(s),null)}get tabSize(){return this.facet(Ie.tabSize)}get lineBreak(){return this.facet(Ie.lineSeparator)||`
`}get readOnly(){return this.facet(C2)}phrase(e,...r){for(let i of this.facet(Ie.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(i,n)=>{if(n=="$")return"$";let s=+(n||1);return!s||s>r.length?i:r[s-1]})),e}languageDataAt(e,r,i=-1){let n=[];for(let s of this.facet(E2))for(let a of s(this,r,i))Object.prototype.hasOwnProperty.call(a,e)&&n.push(a[e]);return n}charCategorizer(e){return zy(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:i,length:n}=this.doc.lineAt(e),s=this.charCategorizer(e),a=e-i,o=e-i;for(;a>0;){let l=qt(r,a,!1);if(s(r.slice(l,a))!=tt.Word)break;a=l}for(;o<n;){let l=qt(r,o);if(s(r.slice(o,l))!=tt.Word)break;o=l}return a==o?null:Y.range(a+i,o+i)}}Ie.allowMultipleSelections=y2;Ie.tabSize=oe.define({combine:t=>t.length?t[0]:4});Ie.lineSeparator=A2;Ie.readOnly=C2;Ie.phrases=oe.define({compare(t,e){let r=Object.keys(t),i=Object.keys(e);return r.length==i.length&&r.every(n=>t[n]==e[n])}});Ie.languageData=E2;Ie.changeFilter=x2;Ie.transactionFilter=S2;Ie.transactionExtender=w2;vl.reconfigure=Ae.define();function Jr(t,e,r={}){let i={};for(let n of t)for(let s of Object.keys(n)){let a=n[s],o=i[s];if(o===void 0)i[s]=a;else if(!(o===a||a===void 0))if(Object.hasOwnProperty.call(r,s))i[s]=r[s](o,a);else throw new Error("Config merge conflict for field "+s)}for(let n in e)i[n]===void 0&&(i[n]=e[n]);return i}class un{eq(e){return this==e}range(e,r=e){return hu.create(e,r,this)}}un.prototype.startSide=un.prototype.endSide=0;un.prototype.point=!1;un.prototype.mapMode=zt.TrackDel;let hu=class O2{constructor(e,r,i){this.from=e,this.to=r,this.value=i}static create(e,r,i){return new O2(e,r,i)}};function fu(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Yc{constructor(e,r,i,n){this.from=e,this.to=r,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(e,r,i,n=0){let s=i?this.to:this.from;for(let a=n,o=s.length;;){if(a==o)return a;let l=a+o>>1,u=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-r;if(l==a)return u>=0?a:o;u>=0?o=l:a=l+1}}between(e,r,i,n){for(let s=this.findIndex(r,-1e9,!0),a=this.findIndex(i,1e9,!1,s);s<a;s++)if(n(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,r){let i=[],n=[],s=[],a=-1,o=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,h=this.to[l]+e,m,p;if(c==h){let b=r.mapPos(c,u.startSide,u.mapMode);if(b==null||(m=p=b,u.startSide!=u.endSide&&(p=r.mapPos(c,u.endSide),p<m)))continue}else if(m=r.mapPos(c,u.startSide),p=r.mapPos(h,u.endSide),m>p||m==p&&u.startSide>0&&u.endSide<=0)continue;(p-m||u.endSide-u.startSide)<0||(a<0&&(a=m),u.point&&(o=Math.max(o,p-m)),i.push(u),n.push(m-a),s.push(p-a))}return{mapped:i.length?new Yc(n,s,i,o):null,pos:a}}}class qe{constructor(e,r,i,n){this.chunkPos=e,this.chunk=r,this.nextLayer=i,this.maxPoint=n}static create(e,r,i,n){return new qe(e,r,i,n)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:i=!1,filterFrom:n=0,filterTo:s=this.length}=e,a=e.filter;if(r.length==0&&!a)return this;if(i&&(r=r.slice().sort(fu)),this.isEmpty)return r.length?qe.of(r):this;let o=new N2(this,null,-1).goto(0),l=0,u=[],c=new Hi;for(;o.value||l<r.length;)if(l<r.length&&(o.from-r[l].from||o.startSide-r[l].value.startSide)>=0){let h=r[l++];c.addInner(h.from,h.to,h.value)||u.push(h)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(l==r.length||this.chunkEnd(o.chunkIndex)<r[l].from)&&(!a||n>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&c.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!a||n>o.to||s<o.from||a(o.from,o.to,o.value))&&(c.addInner(o.from,o.to,o.value)||u.push(hu.create(o.from,o.to,o.value))),o.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?qe.empty:this.nextLayer.update({add:u,filter:a,filterFrom:n,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],i=[],n=-1;for(let a=0;a<this.chunk.length;a++){let o=this.chunkPos[a],l=this.chunk[a],u=e.touchesRange(o,o+l.length);if(u===!1)n=Math.max(n,l.maxPoint),r.push(l),i.push(e.mapPos(o));else if(u===!0){let{mapped:c,pos:h}=l.map(o,e);c&&(n=Math.max(n,c.maxPoint),r.push(c),i.push(h))}}let s=this.nextLayer.map(e);return r.length==0?s:new qe(i,r,s||qe.empty,n)}between(e,r,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],a=this.chunk[n];if(r>=s&&e<=s+a.length&&a.between(s,e-s,r-s,i)===!1)return}this.nextLayer.between(e,r,i)}}iter(e=0){return Bs.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return Bs.from(e).goto(r)}static compare(e,r,i,n,s=-1){let a=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),o=r.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=jd(a,o,i),u=new ss(a,l,s),c=new ss(o,l,s);i.iterGaps((h,m,p)=>Qd(u,h,c,m,p,n)),i.empty&&i.length==0&&Qd(u,0,c,0,0,n)}static eq(e,r,i=0,n){n==null&&(n=1e9-1);let s=e.filter(c=>!c.isEmpty&&r.indexOf(c)<0),a=r.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=a.length)return!1;if(!s.length)return!0;let o=jd(s,a),l=new ss(s,o,0).goto(i),u=new ss(a,o,0).goto(i);for(;;){if(l.to!=u.to||!du(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>n)return!0;l.next(),u.next()}}static spans(e,r,i,n,s=-1){let a=new ss(e,null,s).goto(r),o=r,l=a.openStart;for(;;){let u=Math.min(a.to,i);if(a.point){let c=a.activeForPoint(a.to),h=a.pointFrom<r?c.length+1:Math.min(c.length,l);n.point(o,u,a.point,c,h,a.pointRank),l=Math.min(a.openEnd(u),c.length)}else u>o&&(n.span(o,u,a.active,l),l=a.openEnd(u));if(a.to>i)return l+(a.point&&a.to>i?1:0);o=a.to,a.next()}}static of(e,r=!1){let i=new Hi;for(let n of e instanceof hu?[e]:r?$y(e):e)i.add(n.from,n.to,n.value);return i.finish()}}qe.empty=new qe([],[],null,-1);function $y(t){if(t.length>1)for(let e=t[0],r=1;r<t.length;r++){let i=t[r];if(fu(e,i)>0)return t.slice().sort(fu);e=i}return t}qe.empty.nextLayer=qe.empty;class Hi{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Yc(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,r,i){this.addInner(e,r,i)||(this.nextLayer||(this.nextLayer=new Hi)).add(e,r,i)}addInner(e,r,i){let n=e-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=r,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let i=r.value.length-1;return this.last=r.value[i],this.lastFrom=r.from[i]+e,this.lastTo=r.to[i]+e,!0}finish(){return this.finishInner(qe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=qe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function jd(t,e,r){let i=new Map;for(let s of t)for(let a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&i.set(s.chunk[a],s.chunkPos[a]);let n=new Set;for(let s of e)for(let a=0;a<s.chunk.length;a++){let o=i.get(s.chunk[a]);o!=null&&(r?r.mapPos(o):o)==s.chunkPos[a]&&!(r!=null&&r.touchesRange(o,o+s.chunk[a].length))&&n.add(s.chunk[a])}return n}class N2{constructor(e,r,i,n=0){this.layer=e,this.skip=r,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,i){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<e||n.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],i=e+r.from[this.rangeIndex];if(this.from=i,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Bs{constructor(e){this.heap=e}static from(e,r=null,i=-1){let n=[];for(let s=0;s<e.length;s++)for(let a=e[s];!a.isEmpty;a=a.nextLayer)a.maxPoint>=i&&n.push(new N2(a,r,i,s));return n.length==1?n[0]:new Bs(n)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let i of this.heap)i.goto(e,r);for(let i=this.heap.length>>1;i>=0;i--)l0(this.heap,i);return this.next(),this}forward(e,r){for(let i of this.heap)i.forward(e,r);for(let i=this.heap.length>>1;i>=0;i--)l0(this.heap,i);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),l0(this.heap,0)}}}function l0(t,e){for(let r=t[e];;){let i=(e<<1)+1;if(i>=t.length)break;let n=t[i];if(i+1<t.length&&n.compare(t[i+1])>=0&&(n=t[i+1],i++),r.compare(n)<0)break;t[i]=r,t[e]=n,e=i}}class ss{constructor(e,r,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Bs.from(e,r,i)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){wa(this.active,e),wa(this.activeTo,e),wa(this.activeRank,e),this.minActive=Jd(this.active,this.activeTo)}addActive(e){let r=0,{value:i,to:n,rank:s}=this.cursor;for(;r<this.activeRank.length&&this.activeRank[r]<=s;)r++;Ca(this.active,r,i),Ca(this.activeTo,r,n),Ca(this.activeRank,r,s),e&&Ca(e,r,this.cursor.from),this.minActive=Jd(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>e){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),i&&wa(i,n)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let n=i.length-1;n>=0&&i[n]<e;n--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&r.push(this.active[i]);return r.reverse()}openEnd(e){let r=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)r++;return r}}function Qd(t,e,r,i,n,s){t.goto(e),r.goto(i);let a=i+n,o=i,l=i-e;for(;;){let u=t.to+l-r.to||t.endSide-r.endSide,c=u<0?t.to+l:r.to,h=Math.min(c,a);if(t.point||r.point?t.point&&r.point&&(t.point==r.point||t.point.eq(r.point))&&du(t.activeForPoint(t.to+l),r.activeForPoint(r.to))||s.comparePoint(o,h,t.point,r.point):h>o&&!du(t.active,r.active)&&s.compareRange(o,h,t.active,r.active),c>a)break;o=c,u<=0&&t.next(),u>=0&&r.next()}}function du(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r]&&!t[r].eq(e[r]))return!1;return!0}function wa(t,e){for(let r=e,i=t.length-1;r<i;r++)t[r]=t[r+1];t.pop()}function Ca(t,e,r){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=r}function Jd(t,e){let r=-1,i=1e9;for(let n=0;n<e.length;n++)(e[n]-i||t[n].endSide-t[r].endSide)<0&&(r=n,i=e[n]);return r}function ra(t,e,r=t.length){let i=0;for(let n=0;n<r;)t.charCodeAt(n)==9?(i+=e-i%e,n++):(i++,n=qt(t,n));return i}function mu(t,e,r,i){for(let n=0,s=0;;){if(s>=e)return n;if(n==t.length)break;s+=t.charCodeAt(n)==9?r-s%r:1,n=qt(t,n)}return i===!0?-1:t.length}const pu="ͼ",Zd=typeof Symbol>"u"?"__"+pu:Symbol.for(pu),gu=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ui{constructor(e,r){this.rules=[];let{finish:i}=r||{};function n(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function s(a,o,l,u){let c=[],h=/^@(\w+)\b/.exec(a[0]),m=h&&h[1]=="keyframes";if(h&&o==null)return l.push(a[0]+";");for(let p in o){let b=o[p];if(/&/.test(p))s(p.split(/,\s*/).map(A=>a.map(x=>A.replace(/&/,x))).reduce((A,x)=>A.concat(x)),b,l);else if(b&&typeof b=="object"){if(!h)throw new RangeError("The value of a property ("+p+") should be a primitive value.");s(n(p),b,c,m)}else b!=null&&c.push(p.replace(/_.*/,"").replace(/[A-Z]/g,A=>"-"+A.toLowerCase())+": "+b+";")}(c.length||m)&&l.push((i&&!h&&!u?a.map(i):a).join(", ")+" {"+c.join(" ")+"}")}for(let a in e)s(n(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=e1[Zd]||1;return e1[Zd]=e+1,pu+e.toString(36)}static mount(e,r){(e[gu]||new qy(e)).mount(Array.isArray(r)?r:[r])}}let ka=null;class qy{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(ka)return e.adoptedStyleSheets=[ka.sheet].concat(e.adoptedStyleSheets),e[gu]=ka;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),ka=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let r=e.head||e;r.insertBefore(this.styleTag,r.firstChild)}this.modules=[],e[gu]=this}mount(e){let r=this.sheet,i=0,n=0;for(let s=0;s<e.length;s++){let a=e[s],o=this.modules.indexOf(a);if(o<n&&o>-1&&(this.modules.splice(o,1),n--,o=-1),o==-1){if(this.modules.splice(n++,0,a),r)for(let l=0;l<a.rules.length;l++)r.insertRule(a.rules[l],i++)}else{for(;n<o;)i+=this.modules[n++].rules.length;i+=a.rules.length,n++}}if(!r){let s="";for(let a=0;a<this.modules.length;a++)s+=this.modules[a].getRules()+`
`;this.styleTag.textContent=s}}}var zi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Fs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},t1=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),Vy=typeof navigator<"u"&&/Mac/.test(navigator.platform),Wy=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Yy=Vy||t1&&+t1[1]<57;for(var Mt=0;Mt<10;Mt++)zi[48+Mt]=zi[96+Mt]=String(Mt);for(var Mt=1;Mt<=24;Mt++)zi[Mt+111]="F"+Mt;for(var Mt=65;Mt<=90;Mt++)zi[Mt]=String.fromCharCode(Mt+32),Fs[Mt]=String.fromCharCode(Mt);for(var u0 in zi)Fs.hasOwnProperty(u0)||(Fs[u0]=zi[u0]);function Gy(t){var e=Yy&&(t.ctrlKey||t.altKey||t.metaKey)||Wy&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Fs:zi)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function So(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function zn(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Xy(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Ja(t,e){if(!e.anchorNode)return!1;try{return zn(t,e.anchorNode)}catch{return!1}}function Hs(t){return t.nodeType==3?$n(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function wo(t,e,r,i){return r?r1(t,e,r,i,-1)||r1(t,e,r,i,1):!1}function Co(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function r1(t,e,r,i,n){for(;;){if(t==r&&e==i)return!0;if(e==(n<0?0:Us(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=Co(t)+(n<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(n<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=n<0?Us(t):0}else return!1}}function Us(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}const I2={left:0,right:0,top:0,bottom:0};function Gc(t,e){let r=e?t.left:t.right;return{left:r,right:r,top:t.top,bottom:t.bottom}}function Ky(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function jy(t,e,r,i,n,s,a,o){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t;c;)if(c.nodeType==1){let h,m=c==l.body;if(m)h=Ky(u);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let A=c.getBoundingClientRect();h={left:A.left,right:A.left+c.clientWidth,top:A.top,bottom:A.top+c.clientHeight}}let p=0,b=0;if(n=="nearest")e.top<h.top?(b=-(h.top-e.top+a),r>0&&e.bottom>h.bottom+b&&(b=e.bottom-h.bottom+b+a)):e.bottom>h.bottom&&(b=e.bottom-h.bottom+a,r<0&&e.top-b<h.top&&(b=-(h.top+b-e.top+a)));else{let A=e.bottom-e.top,x=h.bottom-h.top;b=(n=="center"&&A<=x?e.top+A/2-x/2:n=="start"||n=="center"&&r<0?e.top-a:e.bottom-x+a)-h.top}if(i=="nearest"?e.left<h.left?(p=-(h.left-e.left+s),r>0&&e.right>h.right+p&&(p=e.right-h.right+p+s)):e.right>h.right&&(p=e.right-h.right+s,r<0&&e.left<h.left+p&&(p=-(h.left+p-e.left+s))):p=(i=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:i=="start"==o?e.left-s:e.right-(h.right-h.left)+s)-h.left,p||b)if(m)u.scrollBy(p,b);else{let A=0,x=0;if(b){let S=c.scrollTop;c.scrollTop+=b,x=c.scrollTop-S}if(p){let S=c.scrollLeft;c.scrollLeft+=p,A=c.scrollLeft-S}e={left:e.left-A,top:e.top-x,right:e.right-A,bottom:e.bottom-x},A&&Math.abs(A-p)<1&&(i="nearest"),x&&Math.abs(x-b)<1&&(n="nearest")}if(m)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function Qy(t){let e=t.ownerDocument;for(let r=t.parentNode;r&&r!=e.body;)if(r.nodeType==1){if(r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth)return r;r=r.assignedSlot||r.parentNode}else if(r.nodeType==11)r=r.host;else break;return null}class Jy{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,r,i,n){this.anchorNode=e,this.anchorOffset=r,this.focusNode=i,this.focusOffset=n}}let yn=null;function M2(t){if(t.setActive)return t.setActive();if(yn)return t.focus(yn);let e=[];for(let r=t;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(t.focus(yn==null?{get preventScroll(){return yn={preventScroll:!0},!0}}:void 0),!yn){yn=!1;for(let r=0;r<e.length;){let i=e[r++],n=e[r++],s=e[r++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let i1;function $n(t,e,r=e){let i=i1||(i1=document.createRange());return i.setEnd(t,r),i.setStart(t,e),i}function Rn(t,e,r){let i={key:e,code:e,keyCode:r,which:r,cancelable:!0},n=new KeyboardEvent("keydown",i);n.synthetic=!0,t.dispatchEvent(n);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),n.defaultPrevented||s.defaultPrevented}function Zy(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function D2(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function eA(t,e){let r=e.focusNode,i=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=i)return!1;for(;;)if(i){if(r.nodeType!=1)return!1;let n=r.childNodes[i-1];n.contentEditable=="false"?i--:(r=n,i=Us(r))}else{if(r==t)return!0;i=Co(r),r=r.parentNode}}class Bt{constructor(e,r,i=!0){this.node=e,this.offset=r,this.precise=i}static before(e,r){return new Bt(e.parentNode,Co(e),r)}static after(e,r){return new Bt(e.parentNode,Co(e)+1,r)}}const Xc=[];class Je{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let i of this.children){if(i==e)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,r){return null}sync(e,r){if(this.dirty&2){let i=this.dom,n=null,s;for(let a of this.children){if(a.dirty){if(!a.dom&&(s=n?n.nextSibling:i.firstChild)){let o=Je.get(s);(!o||!o.parent&&o.canReuseDOM(a))&&a.reuseDOM(s)}a.sync(e,r),a.dirty=0}if(s=n?n.nextSibling:i.firstChild,r&&!r.written&&r.node==i&&s!=a.dom&&(r.written=!0),a.dom.parentNode==i)for(;s&&s!=a.dom;)s=n1(s);else i.insertBefore(a.dom,s);n=a.dom}for(s=n?n.nextSibling:i.firstChild,s&&r&&r.node==i&&(r.written=!0);s;)s=n1(s)}else if(this.dirty&1)for(let i of this.children)i.dirty&&(i.sync(e,r),i.dirty=0)}reuseDOM(e){}localPosFromDOM(e,r){let i;if(e==this.dom)i=this.dom.childNodes[r];else{let n=Us(e)==0?0:r==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?n=-1:n=1),e=s}n<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Je.get(i);)i=i.nextSibling;if(!i)return this.length;for(let n=0,s=0;;n++){let a=this.children[n];if(a.dom==i)return s;s+=a.length+a.breakAfter}}domBoundsAround(e,r,i=0){let n=-1,s=-1,a=-1,o=-1;for(let l=0,u=i,c=i;l<this.children.length;l++){let h=this.children[l],m=u+h.length;if(u<e&&m>r)return h.domBoundsAround(e,r,u);if(m>=e&&n==-1&&(n=l,s=u),u>r&&h.dom.parentNode==this.dom){a=l,o=c;break}c=m,u=m+h.breakAfter}return{from:s,to:o<0?i+this.length:o,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.dirty|=2),r.dirty&1)return;r.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,i=Xc){this.markDirty();for(let n=e;n<r;n++){let s=this.children[n];s.parent==this&&s.destroy()}this.children.splice(e,r-e,...i);for(let n=0;n<i.length;n++)i[n].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new R2(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}merge(e,r,i,n,s,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}Je.prototype.breakAfter=0;function n1(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class R2{constructor(e,r,i){this.children=e,this.pos=r,this.i=i,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function L2(t,e,r,i,n,s,a,o,l){let{children:u}=t,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,m=h?h.breakAfter:a;if(!(e==i&&c&&!a&&!m&&s.length<2&&c.merge(r,n,s.length?h:null,r==0,o,l))){if(i<u.length){let p=u[i];p&&n<p.length?(e==i&&(p=p.split(n),n=0),!m&&h&&p.merge(0,n,h,!0,0,l)?s[s.length-1]=p:(n&&p.merge(0,n,null,!1,0,l),s.push(p))):p!=null&&p.breakAfter&&(h?h.breakAfter=1:a=1),i++}for(c&&(c.breakAfter=a,r>0&&(!a&&s.length&&c.merge(r,c.length,s[0],!1,o,0)?c.breakAfter=s.shift().breakAfter:(r<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(r,c.length,null,!1,o,0),e++));e<i&&s.length;)if(u[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:o;else if(u[e].become(s[0]))e++,s.shift(),o=s.length?0:l;else break;!s.length&&e&&i<u.length&&!u[e-1].breakAfter&&u[i].merge(0,0,u[e-1],!1,o,l)&&e--,(e<i||s.length)&&t.replaceChildren(e,i,s)}}function P2(t,e,r,i,n,s){let a=t.childCursor(),{i:o,off:l}=a.findPos(r,1),{i:u,off:c}=a.findPos(e,-1),h=e-r;for(let m of i)h+=m.length;t.length+=h,L2(t,u,c,o,l,i,0,n,s)}let ur=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},bu=typeof document<"u"?document:{documentElement:{style:{}}};const Tu=/Edge\/(\d+)/.exec(ur.userAgent),B2=/MSIE \d/.test(ur.userAgent),vu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ur.userAgent),El=!!(B2||vu||Tu),s1=!El&&/gecko\/(\d+)/i.test(ur.userAgent),c0=!El&&/Chrome\/(\d+)/.exec(ur.userAgent),a1="webkitFontSmoothing"in bu.documentElement.style,F2=!El&&/Apple Computer/.test(ur.vendor),o1=F2&&(/Mobile\/\w+/.test(ur.userAgent)||ur.maxTouchPoints>2);var ae={mac:o1||/Mac/.test(ur.platform),windows:/Win/.test(ur.platform),linux:/Linux|X11/.test(ur.platform),ie:El,ie_version:B2?bu.documentMode||6:vu?+vu[1]:Tu?+Tu[1]:0,gecko:s1,gecko_version:s1?+(/Firefox\/(\d+)/.exec(ur.userAgent)||[0,0])[1]:0,chrome:!!c0,chrome_version:c0?+c0[1]:0,ios:o1,android:/Android\b/.test(ur.userAgent),webkit:a1,safari:F2,webkit_version:a1?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:bu.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const tA=256;class $i extends Je{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,i){return i&&(!(i instanceof $i)||this.length-(r-e)+i.length>tA)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new $i(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new Bt(this.dom,e)}domBoundsAround(e,r,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return Eu(this.dom,e,r)}}class Xr extends Je{constructor(e,r=[],i=0){super(),this.mark=e,this.children=r,this.length=i;for(let n of r)n.setParent(this)}setAttrs(e){if(D2(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,r){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,i,n,s,a){return i&&(!(i instanceof Xr&&i.mark.eq(this.mark))||e&&s<=0||r<this.length&&a<=0)?!1:(P2(this,e,r,i?i.children:[],s-1,a-1),this.markDirty(),!0)}split(e){let r=[],i=0,n=-1,s=0;for(let o of this.children){let l=i+o.length;l>e&&r.push(i<e?o.split(e-i):o),n<0&&i>=e&&(n=s),i=l,s++}let a=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new Xr(this.mark,r,a)}domAtPos(e){return z2(this,e)}coordsAt(e,r){return q2(this,e,r)}}function Eu(t,e,r){let i=t.nodeValue.length;e>i&&(e=i);let n=e,s=e,a=0;e==0&&r<0||e==i&&r>=0?ae.chrome||ae.gecko||(e?(n--,a=1):s<i&&(s++,a=-1)):r<0?n--:s<i&&s++;let o=$n(t,n,s).getClientRects();if(!o.length)return I2;let l=o[(a?a<0:r>=0)?0:o.length-1];return ae.safari&&!a&&l.width==0&&(l=Array.prototype.find.call(o,u=>u.width)||l),a?Gc(l,a<0):l||null}class _i extends Je{constructor(e,r,i){super(),this.widget=e,this.length=r,this.side=i,this.prevWidget=null}static create(e,r,i){return new(e.customView||_i)(e,r,i)}split(e){let r=_i.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,r,i,n,s,a){return i&&(!(i instanceof _i)||!this.widget.compare(i.widget)||e>0&&s<=0||r<this.length&&a<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-r),!0)}become(e){return e.length==this.length&&e instanceof _i&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Le.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,i=r&&r.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):Le.empty}domAtPos(e){return e==0?Bt.before(this.dom):Bt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let i=this.dom.getClientRects(),n=null;if(!i.length)return I2;for(let s=e>0?i.length-1:0;n=i[s],!(e>0?s==0:s==i.length-1||n.top<n.bottom);s+=e>0?-1:1);return this.length?n:Gc(n,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class H2 extends _i{domAtPos(e){let{topView:r,text:i}=this.widget;return r?yu(e,0,r,i,(n,s)=>n.domAtPos(s),n=>new Bt(i,Math.min(n,i.nodeValue.length))):new Bt(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,r){let{topView:i,text:n}=this.widget;return i?U2(e,r,i,n):Math.min(r,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,r){let{topView:i,text:n}=this.widget;return i?yu(e,r,i,n,(s,a,o)=>s.coordsAt(a,o),(s,a)=>Eu(n,s,a)):Eu(n,e,r)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function yu(t,e,r,i,n,s){if(r instanceof Xr){for(let a=r.dom.firstChild;a;a=a.nextSibling){let o=Je.get(a);if(!o)return s(t,e);let l=zn(a,i),u=o.length+(l?i.nodeValue.length:0);if(t<u||t==u&&o.getSide()<=0)return l?yu(t,e,o,i,n,s):n(o,t,e);t-=u}return n(r,r.length,-1)}else return r.dom==i?s(t,e):n(r,t,e)}function U2(t,e,r,i){if(r instanceof Xr)for(let n of r.children){let s=0,a=zn(n.dom,i);if(zn(n.dom,t))return s+(a?U2(t,e,n,i):n.localPosFromDOM(t,e));s+=a?i.nodeValue.length:n.length}else if(r.dom==i)return Math.min(e,i.nodeValue.length);return r.localPosFromDOM(t,e)}class qn extends Je{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof qn&&e.side==this.side}split(){return new qn(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Bt.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let r=this.dom.getBoundingClientRect(),i=rA(this,this.side>0?-1:1);return i&&i.top<r.bottom&&i.bottom>r.top?{left:r.left,right:r.right,top:i.top,bottom:i.bottom}:r}get overrideDOMText(){return Le.empty}}$i.prototype.children=_i.prototype.children=qn.prototype.children=Xc;function rA(t,e){let r=t.parent,i=r?r.children.indexOf(t):-1;for(;r&&i>=0;)if(e<0?i>0:i<r.children.length){let n=r.children[i+e];if(n instanceof $i){let s=n.coordsAt(e<0?n.length:0,e);if(s)return s}i+=e}else if(r instanceof Xr&&r.parent)i=r.parent.children.indexOf(r)+(e<0?0:1),r=r.parent;else{let n=r.dom.lastChild;if(n&&n.nodeName=="BR")return n.getClientRects()[0];break}}function z2(t,e){let r=t.dom,{children:i}=t,n=0;for(let s=0;n<i.length;n++){let a=i[n],o=s+a.length;if(!(o==s&&a.getSide()<=0)){if(e>s&&e<o&&a.dom.parentNode==r)return a.domAtPos(e-s);if(e<=s)break;s=o}}for(let s=n;s>0;s--){let a=i[s-1];if(a.dom.parentNode==r)return a.domAtPos(a.length)}for(let s=n;s<i.length;s++){let a=i[s];if(a.dom.parentNode==r)return a.domAtPos(0)}return new Bt(r,0)}function $2(t,e,r){let i,{children:n}=t;r>0&&e instanceof Xr&&n.length&&(i=n[n.length-1])instanceof Xr&&i.mark.eq(e.mark)?$2(i,e.children[0],r-1):(n.push(e),e.setParent(t)),t.length+=e.length}function q2(t,e,r){let i=null,n=-1,s=null,a=-1;function o(u,c){for(let h=0,m=0;h<u.children.length&&m<=c;h++){let p=u.children[h],b=m+p.length;b>=c&&(p.children.length?o(p,c-m):!s&&(b>c||m==b&&p.getSide()>0)?(s=p,a=c-m):(m<c||m==b&&p.getSide()<0)&&(i=p,n=c-m)),m=b}}o(t,e);let l=(r<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?n:a),r):iA(t)}function iA(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let r=Hs(e);return r[r.length-1]||null}function Au(t,e){for(let r in t)r=="class"&&e.class?e.class+=" "+t.class:r=="style"&&e.style?e.style+=";"+t.style:e[r]=t[r];return e}function Kc(t,e){if(t==e)return!0;if(!t||!e)return!1;let r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(let n of r)if(i.indexOf(n)==-1||t[n]!==e[n])return!1;return!0}function xu(t,e,r){let i=null;if(e)for(let n in e)r&&n in r||t.removeAttribute(i=n);if(r)for(let n in r)e&&e[n]==r[n]||t.setAttribute(i=n,r[n]);return!!i}class bi{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var Ge=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Ge||(Ge={}));class ue extends un{constructor(e,r,i,n){super(),this.startSide=e,this.endSide=r,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(e){return new yl(e)}static widget(e){let r=e.side||0,i=!!e.block;return r+=i?r>0?3e8:-4e8:r>0?1e8:-1e8,new cn(e,r,r,i,e.widget||null,!1)}static replace(e){let r=!!e.block,i,n;if(e.isBlockGap)i=-5e8,n=4e8;else{let{start:s,end:a}=V2(e,r);i=(s?r?-3e8:-1:5e8)-1,n=(a?r?2e8:1:-6e8)+1}return new cn(e,i,n,r,e.widget||null,!0)}static line(e){return new ia(e)}static set(e,r=!1){return qe.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ue.none=qe.empty;class yl extends ue{constructor(e){let{start:r,end:i}=V2(e);super(r?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof yl&&this.tagName==e.tagName&&this.class==e.class&&Kc(this.attrs,e.attrs)}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}yl.prototype.point=!1;class ia extends ue{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof ia&&this.spec.class==e.spec.class&&Kc(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}ia.prototype.mapMode=zt.TrackBefore;ia.prototype.point=!0;class cn extends ue{constructor(e,r,i,n,s,a){super(r,i,s,e),this.block=n,this.isReplace=a,this.mapMode=n?r<=0?zt.TrackBefore:zt.TrackAfter:zt.TrackDel}get type(){return this.startSide<this.endSide?Ge.WidgetRange:this.startSide<=0?Ge.WidgetBefore:Ge.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof cn&&nA(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}cn.prototype.point=!0;function V2(t,e=!1){let{inclusiveStart:r,inclusiveEnd:i}=t;return r==null&&(r=t.inclusive),i==null&&(i=t.inclusive),{start:r??e,end:i??e}}function nA(t,e){return t==e||!!(t&&e&&t.compare(e))}function Su(t,e,r,i=0){let n=r.length-1;n>=0&&r[n]+i>=t?r[n]=Math.max(r[n],e):r.push(t,e)}class Vt extends Je{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,i,n,s,a){if(i){if(!(i instanceof Vt))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),P2(this,e,r,i?i.children:[],s,a),!0}split(e){let r=new Vt;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i,off:n}=this.childPos(e);n&&(r.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)r.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Kc(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){$2(this,e,r)}addLineDeco(e){let r=e.spec.attributes,i=e.spec.class;r&&(this.attrs=Au(r,this.attrs||{})),i&&(this.attrs=Au({class:i},this.attrs||{}))}domAtPos(e){return z2(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,r){var i;this.dom?this.dirty&4&&(D2(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(xu(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let n=this.dom.lastChild;for(;n&&Je.get(n)instanceof Xr;)n=n.lastChild;if(!n||!this.length||n.nodeName!="BR"&&((i=Je.get(n))===null||i===void 0?void 0:i.isEditable)==!1&&(!ae.ios||!this.children.some(s=>s instanceof $i))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let r of this.children){if(!(r instanceof $i)||/[^ -~]/.test(r.text))return null;let i=Hs(r.dom);if(i.length!=1)return null;e+=i[0].width}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}:null}coordsAt(e,r){return q2(this,e,r)}become(e){return!1}get type(){return Ge.Text}static find(e,r){for(let i=0,n=0;i<e.children.length;i++){let s=e.children[i],a=n+s.length;if(a>=r){if(s instanceof Vt)return s;if(a>r)break}n=a+s.breakAfter}return null}}class sn extends Je{constructor(e,r,i){super(),this.widget=e,this.length=r,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,r,i,n,s,a){return i&&(!(i instanceof sn)||!this.widget.compare(i.widget)||e>0&&s<=0||r<this.length&&a<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?Bt.before(this.dom):Bt.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let i=new sn(this.widget,r,this.type);return i.breakAfter=this.breakAfter,i}get children(){return Xc}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Le.empty}domBoundsAround(){return null}become(e){return e instanceof sn&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class jc{constructor(e,r,i,n){this.doc=e,this.pos=r,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof sn&&e.type==Ge.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Vt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(_a(new qn(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,r,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:a,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-i)),this.getLine().append(_a(new $i(this.text.slice(this.textOff,this.textOff+n)),r),i),this.atCursorPos=!0,this.textOff+=n,e-=n,i=0}}span(e,r,i,n){this.buildText(r-e,i,n),this.pos=r,this.openStart<0&&(this.openStart=n)}point(e,r,i,n,s,a){if(this.disallowBlockEffectsFor[a]&&i instanceof cn){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=r-e;if(i instanceof cn)if(i.block){let{type:l}=i;l==Ge.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new sn(i.widget||new l1("div"),o,l))}else{let l=_i.create(i.widget||new l1("span"),o,o?0:i.startSide),u=this.atCursorPos&&!l.isEditable&&s<=n.length&&(e<r||i.startSide>0),c=!l.isEditable&&(e<r||s>n.length||i.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!u&&(this.pendingBuffer=0),this.flushBuffer(n),u&&(h.append(_a(new qn(1),n),s),s=n.length+Math.max(0,s-n.length)),h.append(_a(l,n),s),this.atCursorPos=c,this.pendingBuffer=c?e<r||s>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=s)}static build(e,r,i,n,s){let a=new jc(e,r,i,s);return a.openEnd=qe.spans(n,r,i,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function _a(t,e){for(let r of e)t=new Xr(r,[t],t.length);return t}class l1 extends bi{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const W2=oe.define(),Y2=oe.define(),G2=oe.define(),X2=oe.define(),wu=oe.define(),K2=oe.define(),j2=oe.define(),Q2=oe.define({combine:t=>t.some(e=>e)}),J2=oe.define({combine:t=>t.some(e=>e)});class ko{constructor(e,r="nearest",i="nearest",n=5,s=5){this.range=e,this.y=r,this.x=i,this.yMargin=n,this.xMargin=s}map(e){return e.empty?this:new ko(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const u1=Ae.define({map:(t,e)=>t.map(e)});function hr(t,e,r){let i=t.facet(X2);i.length?i[0](e):window.onerror?window.onerror(String(e),r,void 0,void 0,e):r?console.error(r+":",e):console.error(e)}const Al=oe.define({combine:t=>t.length?t[0]:!0});let sA=0;const hs=oe.define();class ft{constructor(e,r,i,n){this.id=e,this.create=r,this.domEventHandlers=i,this.extension=n(this)}static define(e,r){const{eventHandlers:i,provide:n,decorations:s}=r||{};return new ft(sA++,e,i,a=>{let o=[hs.of(a)];return s&&o.push(zs.of(l=>{let u=l.plugin(a);return u?s(u):ue.none})),n&&o.push(n(a)),o})}static fromClass(e,r){return ft.define(i=>new e(i),r)}}class h0{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(i){if(hr(r.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){hr(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(i){hr(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Z2=oe.define(),Qc=oe.define(),zs=oe.define(),e4=oe.define(),t4=oe.define(),fs=oe.define();class Yr{constructor(e,r,i,n){this.fromA=e,this.toA=r,this.fromB=i,this.toB=n}join(e){return new Yr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,i=this;for(;r>0;r--){let n=e[r-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),e.splice(r-1,1)}}return e.splice(r,0,i),e}static extendWithRanges(e,r){if(r.length==0)return e;let i=[];for(let n=0,s=0,a=0,o=0;;n++){let l=n==e.length?null:e[n],u=a-o,c=l?l.fromB:1e9;for(;s<r.length&&r[s]<c;){let h=r[s],m=r[s+1],p=Math.max(o,h),b=Math.min(c,m);if(p<=b&&new Yr(p+u,b+u,p,b).addToSet(i),m>c)break;s+=2}if(!l)return i;new Yr(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),a=l.toA,o=l.toB}}}class _o{constructor(e,r,i){this.view=e,this.state=r,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=xt.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let n=[];this.changes.iterChangedRanges((s,a,o,l)=>n.push(new Yr(s,a,o,l))),this.changedRanges=n}static create(e,r,i){return new _o(e,r,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var at=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(at||(at={}));const Cu=at.LTR,aA=at.RTL;function r4(t){let e=[];for(let r=0;r<t.length;r++)e.push(1<<+t[r]);return e}const oA=r4("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),lA=r4("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),ku=Object.create(null),Mr=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),r=t.charCodeAt(1);ku[e]=r,ku[r]=-e}function uA(t){return t<=247?oA[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?lA[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const cA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ln{constructor(e,r,i){this.from=e,this.to=r,this.level=i}get dir(){return this.level%2?aA:Cu}side(e,r){return this.dir==r==e?this.to:this.from}static find(e,r,i,n){let s=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.from<=r&&o.to>=r){if(o.level==i)return a;(s<0||(n!=0?n<0?o.from<r:o.to>r:e[s].level>o.level))&&(s=a)}}if(s<0)throw new RangeError("Index out of range");return s}}const it=[];function hA(t,e){let r=t.length,i=e==Cu?1:2,n=e==Cu?2:1;if(!t||i==1&&!cA.test(t))return i4(r);for(let a=0,o=i,l=i;a<r;a++){let u=uA(t.charCodeAt(a));u==512?u=o:u==8&&l==4&&(u=16),it[a]=u==4?2:u,u&7&&(l=u),o=u}for(let a=0,o=i,l=i;a<r;a++){let u=it[a];if(u==128)a<r-1&&o==it[a+1]&&o&24?u=it[a]=o:it[a]=256;else if(u==64){let c=a+1;for(;c<r&&it[c]==64;)c++;let h=a&&o==8||c<r&&it[c]==8?l==1?1:8:256;for(let m=a;m<c;m++)it[m]=h;a=c-1}else u==8&&l==1&&(it[a]=1);o=u,u&7&&(l=u)}for(let a=0,o=0,l=0,u,c,h;a<r;a++)if(c=ku[u=t.charCodeAt(a)])if(c<0){for(let m=o-3;m>=0;m-=3)if(Mr[m+1]==-c){let p=Mr[m+2],b=p&2?i:p&4?p&1?n:i:0;b&&(it[a]=it[Mr[m]]=b),o=m;break}}else{if(Mr.length==189)break;Mr[o++]=a,Mr[o++]=u,Mr[o++]=l}else if((h=it[a])==2||h==1){let m=h==i;l=m?0:1;for(let p=o-3;p>=0;p-=3){let b=Mr[p+2];if(b&2)break;if(m)Mr[p+2]|=2;else{if(b&4)break;Mr[p+2]|=4}}}for(let a=0;a<r;a++)if(it[a]==256){let o=a+1;for(;o<r&&it[o]==256;)o++;let l=(a?it[a-1]:i)==1,u=(o<r?it[o]:i)==1,c=l==u?l?1:2:i;for(let h=a;h<o;h++)it[h]=c;a=o-1}let s=[];if(i==1)for(let a=0;a<r;){let o=a,l=it[a++]!=1;for(;a<r&&l==(it[a]!=1);)a++;if(l)for(let u=a;u>o;){let c=u,h=it[--u]!=2;for(;u>o&&h==(it[u-1]!=2);)u--;s.push(new Ln(u,c,h?2:1))}else s.push(new Ln(o,a,0))}else for(let a=0;a<r;){let o=a,l=it[a++]==2;for(;a<r&&l==(it[a]==2);)a++;s.push(new Ln(o,a,l?1:2))}return s}function i4(t){return[new Ln(0,t,0)]}let n4="";function fA(t,e,r,i,n){var s;let a=i.head-t.from,o=-1;if(a==0){if(!n||!t.length)return null;e[0].level!=r&&(a=e[0].side(!1,r),o=0)}else if(a==t.length){if(n)return null;let m=e[e.length-1];m.level!=r&&(a=m.side(!0,r),o=e.length-1)}o<0&&(o=Ln.find(e,a,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc));let l=e[o];a==l.side(n,r)&&(l=e[o+=n?1:-1],a=l.side(!n,r));let u=n==(l.dir==r),c=qt(t.text,a,u);if(n4=t.text.slice(Math.min(a,c),Math.max(a,c)),c!=l.side(n,r))return Y.cursor(c+t.from,u?-1:1,l.level);let h=o==(n?e.length-1:0)?null:e[o+(n?1:-1)];return!h&&l.level!=r?Y.cursor(n?t.to:t.from,n?-1:1,r):h&&h.level<l.level?Y.cursor(h.side(!n,r)+t.from,n?1:-1,h.level):Y.cursor(c+t.from,n?-1:1,l.level)}const Oi="￿";class s4{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(Ie.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Oi}readRange(e,r){if(!e)return this;let i=e.parentNode;for(let n=e;;){this.findPointBefore(i,n),this.readNode(n);let s=n.nextSibling;if(s==r)break;let a=Je.get(n),o=Je.get(s);(a&&o?a.breakAfter:(a?a.breakAfter:c1(n))||c1(s)&&(n.nodeName!="BR"||n.cmIgnore))&&this.lineBreak(),n=s}return this.findPointBefore(i,r),this}readTextNode(e){let r=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,r.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,a=1,o;if(this.lineSeparator?(s=r.indexOf(this.lineSeparator,i),a=this.lineSeparator.length):(o=n.exec(r))&&(s=o.index,a=o[0].length),this.append(r.slice(i,s<0?r.length:s)),s<0)break;if(this.lineBreak(),a>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=a-1);i=s+a}}readNode(e){if(e.cmIgnore)return;let r=Je.get(e),i=r&&r.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let n=i.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==r&&(i.pos=this.text.length)}findPointInside(e,r){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(r,i.offset))}}function c1(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class h1{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class f1 extends Je{constructor(e){super(),this.view=e,this.compositionDeco=ue.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Vt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Yr(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:a,toA:o})=>o<this.minWidthFrom||a>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=ue.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=mA(this.view,e.changes)),(ae.ie||ae.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,n=this.updateDeco(),s=TA(i,n,e.changes);return r=Yr.extendWithRanges(r,s),this.dirty==0&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ae.chrome||ae.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.dirty=0,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let n=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof sn&&s.widget instanceof d1&&n.push(s.dom);i.updateGaps(n)}updateChildren(e,r){let i=this.childCursor(r);for(let n=e.length-1;;n--){let s=n>=0?e[n]:null;if(!s)break;let{fromA:a,toA:o,fromB:l,toB:u}=s,{content:c,breakAtStart:h,openStart:m,openEnd:p}=jc.build(this.view.state.doc,l,u,this.decorations,this.dynamicDecorationMap),{i:b,off:A}=i.findPos(o,1),{i:x,off:S}=i.findPos(a,-1);L2(this,x,S,b,A,c,h,m,p)}}updateSelection(e=!1,r=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(r||this.mayControlSelection()))return;let i=this.forceSelection;this.forceSelection=!1;let n=this.view.state.selection.main,s=this.domAtPos(n.anchor),a=n.empty?s:this.domAtPos(n.head);if(ae.gecko&&n.empty&&dA(s)){let l=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(l,s.node.childNodes[s.offset]||null)),s=a=new Bt(l,0),i=!0}let o=this.view.observer.selectionRange;(i||!o.focusNode||!wo(s.node,s.offset,o.anchorNode,o.anchorOffset)||!wo(a.node,a.offset,o.focusNode,o.focusOffset))&&(this.view.observer.ignore(()=>{ae.android&&ae.chrome&&this.dom.contains(o.focusNode)&&vA(o.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let l=So(this.view.root);if(l)if(n.empty){if(ae.gecko){let u=gA(s.node,s.offset);if(u&&u!=3){let c=o4(s.node,s.offset,u==1?1:-1);c&&(s=new Bt(c,u==1?0:c.nodeValue.length))}}l.collapse(s.node,s.offset),n.bidiLevel!=null&&o.cursorBidiLevel!=null&&(o.cursorBidiLevel=n.bidiLevel)}else if(l.extend){l.collapse(s.node,s.offset);try{l.extend(a.node,a.offset)}catch{}}else{let u=document.createRange();n.anchor>n.head&&([s,a]=[a,s]),u.setEnd(a.node,a.offset),u.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(u)}}),this.view.observer.setSelectionRange(s,a)),this.impreciseAnchor=s.precise?null:new Bt(o.anchorNode,o.anchorOffset),this.impreciseHead=a.precise?null:new Bt(o.focusNode,o.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,r=e.state.selection.main,i=So(e.root),{anchorNode:n,anchorOffset:s}=e.observer.selectionRange;if(!i||!r.empty||!r.assoc||!i.modify)return;let a=Vt.find(this,r.head);if(!a)return;let o=a.posAtStart;if(r.head==o||r.head==o+a.length)return;let l=this.coordsAt(r.head,-1),u=this.coordsAt(r.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(r.head+r.assoc);i.collapse(c.node,c.offset),i.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=r.from&&i.collapse(n,s)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||Ja(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let r=e;r;){let i=Je.get(r);if(i&&i.rootView==this)return i;r=r.parentNode}return null}posFromDOM(e,r){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,r)+i.posAtStart}domAtPos(e){let{i:r,off:i}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let n=this.children[r];if(i<n.length||n instanceof Vt)break;r++,i=0}return this.children[r].domAtPos(i)}coordsAt(e,r){for(let i=this.length,n=this.children.length-1;;n--){let s=this.children[n],a=i-s.breakAfter-s.length;if(e>a||e==a&&s.type!=Ge.WidgetBefore&&s.type!=Ge.WidgetAfter&&(!n||r==2||this.children[n-1].breakAfter||this.children[n-1].type==Ge.WidgetBefore&&r>-2))return s.coordsAt(e-a,r);i=a}}measureVisibleLineHeights(e){let r=[],{from:i,to:n}=e,s=this.view.contentDOM.clientWidth,a=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==at.LTR;for(let u=0,c=0;c<this.children.length;c++){let h=this.children[c],m=u+h.length;if(m>n)break;if(u>=i){let p=h.dom.getBoundingClientRect();if(r.push(p.height),a){let b=h.dom.lastChild,A=b?Hs(b):[];if(A.length){let x=A[A.length-1],S=l?x.right-p.left:p.right-x.left;S>o&&(o=S,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=m)}}}u=m+h.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?at.RTL:at.LTR}measureTextSize(){for(let n of this.children)if(n instanceof Vt){let s=n.measureTextSize();if(s)return s}let e=document.createElement("div"),r,i;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let n=Hs(e.firstChild)[0];r=e.getBoundingClientRect().height,i=n?n.width/27:7,e.remove()}),{lineHeight:r,charWidth:i}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new R2(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let i=0,n=0;;n++){let s=n==r.viewports.length?null:r.viewports[n],a=s?s.from-1:this.length;if(a>i){let o=r.lineBlockAt(a).bottom-r.lineBlockAt(i).top;e.push(ue.replace({widget:new d1(o),block:!0,inclusive:!0,isBlockGap:!0}).range(i,a))}if(!s)break;i=s.to+1}return ue.set(e)}updateDeco(){let e=this.view.state.facet(zs).map((r,i)=>(this.dynamicDecorationMap[i]=typeof r=="function")?r(this.view):r);for(let r=e.length;r<e.length+3;r++)this.dynamicDecorationMap[r]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:r}=e,i=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),n;if(!i)return;!r.empty&&(n=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(i={left:Math.min(i.left,n.left),top:Math.min(i.top,n.top),right:Math.max(i.right,n.right),bottom:Math.max(i.bottom,n.bottom)});let s=0,a=0,o=0,l=0;for(let c of this.view.state.facet(t4).map(h=>h(this.view)))if(c){let{left:h,right:m,top:p,bottom:b}=c;h!=null&&(s=Math.max(s,h)),m!=null&&(a=Math.max(a,m)),p!=null&&(o=Math.max(o,p)),b!=null&&(l=Math.max(l,b))}let u={left:i.left-s,top:i.top-o,right:i.right+a,bottom:i.bottom+l};jy(this.view.scrollDOM,u,r.head<r.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==at.LTR)}}function dA(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class d1 extends bi{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function a4(t){let e=t.observer.selectionRange,r=e.focusNode&&o4(e.focusNode,e.focusOffset,0);if(!r)return null;let i=t.docView.nearest(r);if(!i)return null;if(i instanceof Vt){let n=r;for(;n.parentNode!=i.dom;)n=n.parentNode;let s=n.previousSibling;for(;s&&!Je.get(s);)s=s.previousSibling;let a=s?Je.get(s).posAtEnd:i.posAtStart;return{from:a,to:a,node:n,text:r}}else{for(;;){let{parent:s}=i;if(!s)return null;if(s instanceof Vt)break;i=s}let n=i.posAtStart;return{from:n,to:n+i.length,node:i.dom,text:r}}}function mA(t,e){let r=a4(t);if(!r)return ue.none;let{from:i,to:n,node:s,text:a}=r,o=e.mapPos(i,1),l=Math.max(o,e.mapPos(n,-1)),{state:u}=t,c=s.nodeType==3?s.nodeValue:new s4([],u).readRange(s.firstChild,null).text;if(l-o<c.length)if(u.doc.sliceString(o,Math.min(u.doc.length,o+c.length),Oi)==c)l=o+c.length;else if(u.doc.sliceString(Math.max(0,l-c.length),l,Oi)==c)o=l-c.length;else return ue.none;else if(u.doc.sliceString(o,l,Oi)!=c)return ue.none;let h=Je.get(s);return h instanceof H2?h=h.widget.topView:h&&(h.parent=null),ue.set(ue.replace({widget:new pA(s,a,h),inclusive:!0}).range(o,l))}class pA extends bi{constructor(e,r,i){super(),this.top=e,this.text=r,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return H2}}function o4(t,e,r){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0&&r<=0)t=t.childNodes[e-1],e=Us(t);else if(t.nodeType==1&&e<t.childNodes.length&&r>=0)t=t.childNodes[e],e=0;else return null}}function gA(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}class bA{constructor(){this.changes=[]}compareRange(e,r){Su(e,r,this.changes)}comparePoint(e,r){Su(e,r,this.changes)}}function TA(t,e,r){let i=new bA;return qe.compare(t,e,r,i),i.changes}function vA(t,e){for(let r=t;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function EA(t,e,r=1){let i=t.charCategorizer(e),n=t.doc.lineAt(e),s=e-n.from;if(n.length==0)return Y.cursor(e);s==0?r=1:s==n.length&&(r=-1);let a=s,o=s;r<0?a=qt(n.text,s,!1):o=qt(n.text,s);let l=i(n.text.slice(a,o));for(;a>0;){let u=qt(n.text,a,!1);if(i(n.text.slice(u,a))!=l)break;a=u}for(;o<n.length;){let u=qt(n.text,o);if(i(n.text.slice(o,u))!=l)break;o=u}return Y.range(a+n.from,o+n.from)}function yA(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function AA(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function f0(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function m1(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function p1(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function _u(t,e,r){let i,n,s,a,o=!1,l,u,c,h;for(let b=t.firstChild;b;b=b.nextSibling){let A=Hs(b);for(let x=0;x<A.length;x++){let S=A[x];n&&f0(n,S)&&(S=m1(p1(S,n.bottom),n.top));let R=yA(e,S),I=AA(r,S);if(R==0&&I==0)return b.nodeType==3?g1(b,e,r):_u(b,e,r);if(!i||a>I||a==I&&s>R){i=b,n=S,s=R,a=I;let P=I?r<S.top?-1:1:R?e<S.left?-1:1:0;o=!P||(P>0?x<A.length-1:x>0)}R==0?r>S.bottom&&(!c||c.bottom<S.bottom)?(l=b,c=S):r<S.top&&(!h||h.top>S.top)&&(u=b,h=S):c&&f0(c,S)?c=p1(c,S.bottom):h&&f0(h,S)&&(h=m1(h,S.top))}}if(c&&c.bottom>=r?(i=l,n=c):h&&h.top<=r&&(i=u,n=h),!i)return{node:t,offset:0};let m=Math.max(n.left,Math.min(n.right,e));if(i.nodeType==3)return g1(i,m,r);if(o&&i.contentEditable!="false")return _u(i,m,r);let p=Array.prototype.indexOf.call(t.childNodes,i)+(e>=(n.left+n.right)/2?1:0);return{node:t,offset:p}}function g1(t,e,r){let i=t.nodeValue.length,n=-1,s=1e9,a=0;for(let o=0;o<i;o++){let l=$n(t,o,o+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;a||(a=e-c.left);let h=(c.top>r?c.top-r:r-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&h<s){let m=e>=(c.left+c.right)/2,p=m;if((ae.chrome||ae.gecko)&&$n(t,o).getBoundingClientRect().left==c.right&&(p=!m),h<=0)return{node:t,offset:o+(p?1:0)};n=o+(p?1:0),s=h}}}return{node:t,offset:n>-1?n:a>0?t.nodeValue.length:0}}function l4(t,e,r,i=-1){var n,s;let a=t.contentDOM.getBoundingClientRect(),o=a.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:h}=e,m=h-o;if(m<0)return 0;if(m>u)return t.state.doc.length;for(let P=t.defaultLineHeight/2,N=!1;l=t.elementAtHeight(m),l.type!=Ge.Text;)for(;m=i>0?l.bottom+P:l.top-P,!(m>=0&&m<=u);){if(N)return r?null:0;N=!0,i=-i}h=o+m;let p=l.from;if(p<t.viewport.from)return t.viewport.from==0?0:r?null:b1(t,a,l,c,h);if(p>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:r?null:b1(t,a,l,c,h);let b=t.dom.ownerDocument,A=t.root.elementFromPoint?t.root:b,x=A.elementFromPoint(c,h);x&&!t.contentDOM.contains(x)&&(x=null),x||(c=Math.max(a.left+1,Math.min(a.right-1,c)),x=A.elementFromPoint(c,h),x&&!t.contentDOM.contains(x)&&(x=null));let S,R=-1;if(x&&((n=t.docView.nearest(x))===null||n===void 0?void 0:n.isEditable)!=!1){if(b.caretPositionFromPoint){let P=b.caretPositionFromPoint(c,h);P&&({offsetNode:S,offset:R}=P)}else if(b.caretRangeFromPoint){let P=b.caretRangeFromPoint(c,h);P&&({startContainer:S,startOffset:R}=P,(!t.contentDOM.contains(S)||ae.safari&&xA(S,R,c)||ae.chrome&&SA(S,R,c))&&(S=void 0))}}if(!S||!t.docView.dom.contains(S)){let P=Vt.find(t.docView,p);if(!P)return m>l.top+l.height/2?l.to:l.from;({node:S,offset:R}=_u(P.dom,c,h))}let I=t.docView.nearest(S);if(!I)return null;if(I.isWidget&&((s=I.dom)===null||s===void 0?void 0:s.nodeType)==1){let P=I.dom.getBoundingClientRect();return e.y<P.top||e.y<=P.bottom&&e.x<=(P.left+P.right)/2?I.posAtStart:I.posAtEnd}else return I.localPosFromDOM(S,R)+I.posAtStart}function b1(t,e,r,i,n){let s=Math.round((i-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&r.height>t.defaultLineHeight*1.5){let o=Math.floor((n-r.top)/t.defaultLineHeight);s+=o*t.viewState.heightOracle.lineLength}let a=t.state.sliceDoc(r.from,r.to);return r.from+mu(a,s,t.state.tabSize)}function xA(t,e,r){let i;if(t.nodeType!=3||e!=(i=t.nodeValue.length))return!1;for(let n=t.nextSibling;n;n=n.nextSibling)if(n.nodeType!=1||n.nodeName!="BR")return!1;return $n(t,i-1,i).getBoundingClientRect().left>r}function SA(t,e,r){if(e!=0)return!1;for(let n=t;;){let s=n.parentNode;if(!s||s.nodeType!=1||s.firstChild!=n)return!1;if(s.classList.contains("cm-line"))break;n=s}let i=t.nodeType==1?t.getBoundingClientRect():$n(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return r-i.left>5}function wA(t,e,r,i){let n=t.state.doc.lineAt(e.head),s=!i||!t.lineWrapping?null:t.coordsAtPos(e.assoc<0&&e.head>n.from?e.head-1:e.head);if(s){let l=t.dom.getBoundingClientRect(),u=t.textDirectionAt(n.from),c=t.posAtCoords({x:r==(u==at.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(c!=null)return Y.cursor(c,r?-1:1)}let a=Vt.find(t.docView,e.head),o=a?r?a.posAtEnd:a.posAtStart:r?n.to:n.from;return Y.cursor(o,r?-1:1)}function T1(t,e,r,i){let n=t.state.doc.lineAt(e.head),s=t.bidiSpans(n),a=t.textDirectionAt(n.from);for(let o=e,l=null;;){let u=fA(n,s,a,o,r),c=n4;if(!u){if(n.number==(r?t.state.doc.lines:1))return o;c=`
`,n=t.state.doc.line(n.number+(r?1:-1)),s=t.bidiSpans(n),u=Y.cursor(r?n.from:n.to)}if(l){if(!l(c))return o}else{if(!i)return u;l=i(c)}o=u}}function CA(t,e,r){let i=t.state.charCategorizer(e),n=i(r);return s=>{let a=i(s);return n==tt.Space&&(n=a),n==a}}function kA(t,e,r,i){let n=e.head,s=r?1:-1;if(n==(r?t.state.doc.length:0))return Y.cursor(n,e.assoc);let a=e.goalColumn,o,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(n),c=t.documentTop;if(u)a==null&&(a=u.left-l.left),o=s<0?u.top:u.bottom;else{let p=t.viewState.lineBlockAt(n);a==null&&(a=Math.min(l.right-l.left,t.defaultCharacterWidth*(n-p.from))),o=(s<0?p.top:p.bottom)+c}let h=l.left+a,m=i??t.defaultLineHeight>>1;for(let p=0;;p+=10){let b=o+(m+p)*s,A=l4(t,{x:h,y:b},!1,s);if(b<l.top||b>l.bottom||(s<0?A<n:A>n))return Y.cursor(A,e.assoc,void 0,a)}}function d0(t,e,r){let i=t.state.facet(e4).map(n=>n(t));for(;;){let n=!1;for(let s of i)s.between(r.from-1,r.from+1,(a,o,l)=>{r.from>a&&r.from<o&&(r=e.head>r.from?Y.cursor(a,1):Y.cursor(o,-1),n=!0)});if(!n)return r}}class _A{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let r=(i,n)=>{this.ignoreDuringComposition(n)||n.type=="keydown"&&this.keydown(e,n)||(this.mustFlushObserver(n)&&e.observer.forceFlush(),this.runCustomHandlers(n.type,e,n)?n.preventDefault():i(e,n))};for(let i in Ct){let n=Ct[i];e.contentDOM.addEventListener(i,s=>{v1(e,s)&&r(n,s)},Ou[i]),this.registeredEvents.push(i)}e.scrollDOM.addEventListener("mousedown",i=>{i.target==e.scrollDOM&&i.clientY>e.contentDOM.getBoundingClientRect().bottom&&r(Ct.mousedown,i)}),ae.chrome&&ae.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,ae.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,r){var i;let n;this.customHandlers=[];for(let s of r)if(n=(i=s.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:n});for(let a in n)this.registeredEvents.indexOf(a)<0&&a!="scroll"&&(this.registeredEvents.push(a),e.contentDOM.addEventListener(a,o=>{v1(e,o)&&this.runCustomHandlers(a,e,o)&&o.preventDefault()}))}}runCustomHandlers(e,r,i){for(let n of this.customHandlers){let s=n.handlers[e];if(s)try{if(s.call(n.plugin,i,r)||i.defaultPrevented)return!0}catch(a){hr(r.state,a)}}return!1}runScrollHandlers(e,r){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let i of this.customHandlers){let n=i.handlers.scroll;if(n)try{n.call(i.plugin,r,e)}catch(s){hr(e.state,s)}}}keydown(e,r){if(this.lastKeyCode=r.keyCode,this.lastKeyTime=Date.now(),r.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(ae.android&&ae.chrome&&!r.synthetic&&(r.keyCode==13||r.keyCode==8))return e.observer.delayAndroidKey(r.key,r.keyCode),!0;let i;return ae.ios&&!r.synthetic&&!r.altKey&&!r.metaKey&&((i=u4.find(n=>n.keyCode==r.keyCode))&&!r.ctrlKey||OA.indexOf(r.key)>-1&&r.ctrlKey&&!r.shiftKey)?(this.pendingIOSKey=i||r,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let r=this.pendingIOSKey;return r?(this.pendingIOSKey=void 0,Rn(e.contentDOM,r.key,r.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ae.safari&&!ae.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const u4=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],OA="dthko",c4=[16,17,18,20,91,92,224,225];function Oa(t){return t*.7+8}class NA{constructor(e,r,i,n){this.view=e,this.style=i,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParent=Qy(e.contentDOM);let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(Ie.allowMultipleSelections)&&IA(e,r),this.dragMove=MA(e,r),this.dragging=DA(e,r)&&m4(r)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var r;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let i=0,n=0,s=((r=this.scrollParent)===null||r===void 0?void 0:r.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=s.left?i=-Oa(s.left-e.clientX):e.clientX>=s.right&&(i=Oa(e.clientX-s.right)),e.clientY<=s.top?n=-Oa(s.top-e.clientY):e.clientY>=s.bottom&&(n=Oa(e.clientY-s.bottom)),this.setScrollSpeed(i,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(e){let r=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!r.eq(this.view.state.selection)||r.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function IA(t,e){let r=t.state.facet(W2);return r.length?r[0](e):ae.mac?e.metaKey:e.ctrlKey}function MA(t,e){let r=t.state.facet(Y2);return r.length?r[0](e):ae.mac?!e.altKey:!e.ctrlKey}function DA(t,e){let{main:r}=t.state.selection;if(r.empty)return!1;let i=So(t.root);if(!i||i.rangeCount==0)return!0;let n=i.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let a=n[s];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function v1(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,i;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(i=Je.get(r))&&i.ignoreEvent(e))return!1;return!0}const Ct=Object.create(null),Ou=Object.create(null),h4=ae.ie&&ae.ie_version<15||ae.ios&&ae.webkit_version<604;function RA(t){let e=t.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.remove(),f4(t,r.value)},50)}function f4(t,e){let{state:r}=t,i,n=1,s=r.toText(e),a=s.lines==r.selection.ranges.length;if(Nu!=null&&r.selection.ranges.every(l=>l.empty)&&Nu==s.toString()){let l=-1;i=r.changeByRange(u=>{let c=r.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let h=r.toText((a?s.line(n++).text:e)+r.lineBreak);return{changes:{from:c.from,insert:h},range:Y.cursor(u.from+h.length)}})}else a?i=r.changeByRange(l=>{let u=s.line(n++);return{changes:{from:l.from,to:l.to,insert:u.text},range:Y.cursor(l.from+u.length)}}):i=r.replaceSelection(s);t.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Ct.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),e.keyCode==27?t.inputState.lastEscPress=Date.now():c4.indexOf(e.keyCode)<0&&(t.inputState.lastEscPress=0)};Ct.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Ct.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Ou.touchstart=Ou.touchmove={passive:!0};Ct.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return;let r=null;for(let i of t.state.facet(G2))if(r=i(t,e),r)break;if(!r&&e.button==0&&(r=BA(t,e)),r){let i=t.root.activeElement!=t.contentDOM;t.inputState.startMouseSelection(new NA(t,e,r,i)),i&&t.observer.ignore(()=>M2(t.contentDOM)),t.inputState.mouseSelection&&t.inputState.mouseSelection.start(e)}};function E1(t,e,r,i){if(i==1)return Y.cursor(e,r);if(i==2)return EA(t.state,e,r);{let n=Vt.find(t.docView,e),s=t.state.doc.lineAt(n?n.posAtEnd:e),a=n?n.posAtStart:s.from,o=n?n.posAtEnd:s.to;return o<t.state.doc.length&&o==s.to&&o++,Y.range(a,o)}}let d4=(t,e)=>t>=e.top&&t<=e.bottom,y1=(t,e,r)=>d4(e,r)&&t>=r.left&&t<=r.right;function LA(t,e,r,i){let n=Vt.find(t.docView,e);if(!n)return 1;let s=e-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let a=n.coordsAt(s,-1);if(a&&y1(r,i,a))return-1;let o=n.coordsAt(s,1);return o&&y1(r,i,o)?1:a&&d4(i,a)?-1:1}function A1(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:LA(t,r,e.clientX,e.clientY)}}const PA=ae.ie&&ae.ie_version<=11;let x1=null,S1=0,w1=0;function m4(t){if(!PA)return t.detail;let e=x1,r=w1;return x1=t,w1=Date.now(),S1=!e||r>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(S1+1)%3:1}function BA(t,e){let r=A1(t,e),i=m4(e),n=t.state.selection;return{update(s){s.docChanged&&(r.pos=s.changes.mapPos(r.pos),n=n.map(s.changes))},get(s,a,o){let l=A1(t,s),u=E1(t,l.pos,l.bias,i);if(r.pos!=l.pos&&!a){let c=E1(t,r.pos,r.bias,i),h=Math.min(c.from,u.from),m=Math.max(c.to,u.to);u=h<u.from?Y.range(h,m):Y.range(m,h)}return a?n.replaceRange(n.main.extend(u.from,u.to)):o&&n.ranges.length>1&&n.ranges.some(c=>c.eq(u))?FA(n,u):o?n.addRange(u):Y.create([u])}}}function FA(t,e){for(let r=0;;r++)if(t.ranges[r].eq(e))return Y.create(t.ranges.slice(0,r).concat(t.ranges.slice(r+1)),t.mainIndex==r?0:t.mainIndex-(t.mainIndex>r?1:0))}Ct.dragstart=(t,e)=>{let{selection:{main:r}}=t.state,{mouseSelection:i}=t.inputState;i&&(i.dragging=r),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(r.from,r.to)),e.dataTransfer.effectAllowed="copyMove")};function C1(t,e,r,i){if(!r)return;let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=t.inputState,a=i&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,o={from:n,insert:r},l=t.state.changes(a?[a,o]:o);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:a?"move.drop":"input.drop"})}Ct.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let r=e.dataTransfer.files;if(r&&r.length){e.preventDefault();let i=Array(r.length),n=0,s=()=>{++n==r.length&&C1(t,e,i.filter(a=>a!=null).join(t.state.lineBreak),!1)};for(let a=0;a<r.length;a++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(i[a]=o.result),s()},o.readAsText(r[a])}}else C1(t,e,e.dataTransfer.getData("Text"),!0)};Ct.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let r=h4?null:e.clipboardData;r?(f4(t,r.getData("text/plain")||r.getData("text/uri-text")),e.preventDefault()):RA(t)};function HA(t,e){let r=t.dom.parentNode;if(!r)return;let i=r.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),t.focus()},50)}function UA(t){let e=[],r=[],i=!1;for(let n of t.selection.ranges)n.empty||(e.push(t.sliceDoc(n.from,n.to)),r.push(n));if(!e.length){let n=-1;for(let{from:s}of t.selection.ranges){let a=t.doc.lineAt(s);a.number>n&&(e.push(a.text),r.push({from:a.from,to:Math.min(t.doc.length,a.to+1)})),n=a.number}i=!0}return{text:e.join(t.lineBreak),ranges:r,linewise:i}}let Nu=null;Ct.copy=Ct.cut=(t,e)=>{let{text:r,ranges:i,linewise:n}=UA(t.state);if(!r&&!n)return;Nu=n?r:null;let s=h4?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",r)):HA(t,r),e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};const p4=gi.define();function g4(t,e){let r=[];for(let i of t.facet(j2)){let n=i(t,e);n&&r.push(n)}return r?t.update({effects:r,annotations:p4.of(!0)}):null}function b4(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let r=g4(t.state,e);r?t.dispatch(r):t.update([])}},10)}Ct.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),b4(t)};Ct.blur=t=>{t.observer.clearSelectionRange(),b4(t)};Ct.compositionstart=Ct.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};Ct.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,ae.chrome&&ae.android&&t.observer.flushSoon(),setTimeout(()=>{t.inputState.composing<0&&t.docView.compositionDeco.size&&t.update([])},50)};Ct.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Ct.beforeinput=(t,e)=>{var r;let i;if(ae.chrome&&ae.android&&(i=u4.find(n=>n.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let n=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>n+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const k1=["pre-wrap","normal","pre-line","break-spaces"];class zA{constructor(e){this.lineWrapping=e,this.doc=Le.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,r){let i=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((r-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return k1.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let i=0;i<e.length;i++){let n=e[i];n<0?i++:this.heightSamples[Math.floor(n*10)]||(r=!0,this.heightSamples[Math.floor(n*10)]=!0)}return r}refresh(e,r,i,n,s){let a=k1.indexOf(e)>-1,o=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=r,this.charWidth=i,this.lineLength=n,o){this.heightSamples={};for(let l=0;l<s.length;l++){let u=s[l];u<0?l++:this.heightSamples[Math.floor(u*10)]=!0}}return o}}class $A{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class si{constructor(e,r,i,n,s){this.from=e,this.length=r,this.top=i,this.height=n,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let r=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new si(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var Qe=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Qe||(Qe={}));const Za=.001;class Wt{constructor(e,r,i=2){this.length=e,this.height=r,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,r){this.height!=r&&(Math.abs(this.height-r)>Za&&(e.heightChanged=!0),this.height=r)}replace(e,r,i){return Wt.of(i)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,i,n){let s=this,a=i.doc;for(let o=n.length-1;o>=0;o--){let{fromA:l,toA:u,fromB:c,toB:h}=n[o],m=s.lineAt(l,Qe.ByPosNoHeight,i.setDoc(r),0,0),p=m.to>=u?m:s.lineAt(u,Qe.ByPosNoHeight,i,0,0);for(h+=p.to-u,u=p.to;o>0&&m.from<=n[o-1].toA;)l=n[o-1].fromA,c=n[o-1].fromB,o--,l<m.from&&(m=s.lineAt(l,Qe.ByPosNoHeight,i,0,0));c+=m.from-l,l=m.from;let b=Jc.build(i.setDoc(a),e,c,h);s=s.replace(l,u,b)}return s.updateHeight(i,0)}static empty(){return new or(0,0)}static of(e){if(e.length==1)return e[0];let r=0,i=e.length,n=0,s=0;for(;;)if(r==i)if(n>s*2){let o=e[r-1];o.break?e.splice(--r,1,o.left,null,o.right):e.splice(--r,1,o.left,o.right),i+=1+o.break,n-=o.size}else if(s>n*2){let o=e[i];o.break?e.splice(i,1,o.left,null,o.right):e.splice(i,1,o.left,o.right),i+=2+o.break,s-=o.size}else break;else if(n<s){let o=e[r++];o&&(n+=o.size)}else{let o=e[--i];o&&(s+=o.size)}let a=0;return e[r-1]==null?(a=1,r--):e[r]==null&&(a=1,i++),new qA(Wt.of(e.slice(0,r)),a,Wt.of(e.slice(i)))}}Wt.prototype.size=1;class T4 extends Wt{constructor(e,r,i){super(e,r),this.type=i}blockAt(e,r,i,n){return new si(n,this.length,i,this.height,this.type)}lineAt(e,r,i,n,s){return this.blockAt(0,i,n,s)}forEachLine(e,r,i,n,s,a){e<=s+this.length&&r>=s&&a(this.blockAt(0,i,n,s))}updateHeight(e,r=0,i=!1,n){return n&&n.from<=r&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class or extends T4{constructor(e,r){super(e,r,Ge.Text),this.collapsed=0,this.widgetHeight=0}replace(e,r,i){let n=i[0];return i.length==1&&(n instanceof or||n instanceof Ot&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof Ot?n=new or(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):Wt.of(i)}updateHeight(e,r=0,i=!1,n){return n&&n.from<=r&&n.more?this.setHeight(e,n.heights[n.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ot extends Wt{constructor(e){super(e,0)}heightMetrics(e,r){let i=e.doc.lineAt(r).number,n=e.doc.lineAt(r+this.length).number,s=n-i+1,a,o=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);a=l/s,o=(this.height-l)/(this.length-s-1)}else a=this.height/s;return{firstLine:i,lastLine:n,perLine:a,perChar:o}}blockAt(e,r,i,n){let{firstLine:s,lastLine:a,perLine:o,perChar:l}=this.heightMetrics(r,n);if(r.lineWrapping){let u=n+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),c=r.doc.lineAt(u),h=o+c.length*l,m=Math.max(i,e-h/2);return new si(c.from,c.length,m,h,Ge.Text)}else{let u=Math.max(0,Math.min(a-s,Math.floor((e-i)/o))),{from:c,length:h}=r.doc.line(s+u);return new si(c,h,i+o*u,o,Ge.Text)}}lineAt(e,r,i,n,s){if(r==Qe.ByHeight)return this.blockAt(e,i,n,s);if(r==Qe.ByPosNoHeight){let{from:p,to:b}=i.doc.lineAt(e);return new si(p,b-p,0,0,Ge.Text)}let{firstLine:a,perLine:o,perChar:l}=this.heightMetrics(i,s),u=i.doc.lineAt(e),c=o+u.length*l,h=u.number-a,m=n+o*h+l*(u.from-s-h);return new si(u.from,u.length,Math.max(n,Math.min(m,n+this.height-c)),c,Ge.Text)}forEachLine(e,r,i,n,s,a){e=Math.max(e,s),r=Math.min(r,s+this.length);let{firstLine:o,perLine:l,perChar:u}=this.heightMetrics(i,s);for(let c=e,h=n;c<=r;){let m=i.doc.lineAt(c);if(c==e){let b=m.number-o;h+=l*b+u*(e-s-b)}let p=l+u*m.length;a(new si(m.from,m.length,h,p,Ge.Text)),h+=p,c=m.to+1}}replace(e,r,i){let n=this.length-r;if(n>0){let s=i[i.length-1];s instanceof Ot?i[i.length-1]=new Ot(s.length+n):i.push(null,new Ot(n-1))}if(e>0){let s=i[0];s instanceof Ot?i[0]=new Ot(e+s.length):i.unshift(new Ot(e-1),null)}return Wt.of(i)}decomposeLeft(e,r){r.push(new Ot(e-1),null)}decomposeRight(e,r){r.push(null,new Ot(this.length-e-1))}updateHeight(e,r=0,i=!1,n){let s=r+this.length;if(n&&n.from<=r+this.length&&n.more){let a=[],o=Math.max(r,n.from),l=-1;for(n.from>r&&a.push(new Ot(n.from-r-1).updateHeight(e,r));o<=s&&n.more;){let c=e.doc.lineAt(o).length;a.length&&a.push(null);let h=n.heights[n.index++];l==-1?l=h:Math.abs(h-l)>=Za&&(l=-2);let m=new or(c,h);m.outdated=!1,a.push(m),o+=c+1}o<=s&&a.push(null,new Ot(s-o).updateHeight(e,o));let u=Wt.of(a);return(l<0||Math.abs(u.height-this.height)>=Za||Math.abs(l-this.heightMetrics(e,r).perLine)>=Za)&&(e.heightChanged=!0),u}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class qA extends Wt{constructor(e,r,i){super(e.length+r+i.length,e.height+i.height,r|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,r,i,n){let s=i+this.left.height;return e<s?this.left.blockAt(e,r,i,n):this.right.blockAt(e,r,s,n+this.left.length+this.break)}lineAt(e,r,i,n,s){let a=n+this.left.height,o=s+this.left.length+this.break,l=r==Qe.ByHeight?e<a:e<o,u=l?this.left.lineAt(e,r,i,n,s):this.right.lineAt(e,r,i,a,o);if(this.break||(l?u.to<o:u.from>o))return u;let c=r==Qe.ByPosNoHeight?Qe.ByPosNoHeight:Qe.ByPos;return l?u.join(this.right.lineAt(o,c,i,a,o)):this.left.lineAt(o,c,i,n,s).join(u)}forEachLine(e,r,i,n,s,a){let o=n+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,r,i,n,s,a),r>=l&&this.right.forEachLine(e,r,i,o,l,a);else{let u=this.lineAt(l,Qe.ByPos,i,n,s);e<u.from&&this.left.forEachLine(e,u.from-1,i,n,s,a),u.to>=e&&u.from<=r&&a(u),r>u.to&&this.right.forEachLine(u.to+1,r,i,o,l,a)}}replace(e,r,i){let n=this.left.length+this.break;if(r<n)return this.balanced(this.left.replace(e,r,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,r-n,i));let s=[];e>0&&this.decomposeLeft(e,s);let a=s.length;for(let o of i)s.push(o);if(e>0&&_1(s,a-1),r<this.length){let o=s.length;this.decomposeRight(r,s),_1(s,o)}return Wt.of(s)}decomposeLeft(e,r){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(i++,e>=i&&r.push(null)),e>i&&this.right.decomposeLeft(e-i,r)}decomposeRight(e,r){let i=this.left.length,n=i+this.break;if(e>=n)return this.right.decomposeRight(e-n,r);e<i&&this.left.decomposeRight(e,r),this.break&&e<n&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?Wt.of(this.break?[e,null,r]:[e,r]):(this.left=e,this.right=r,this.height=e.height+r.height,this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,i=!1,n){let{left:s,right:a}=this,o=r+s.length+this.break,l=null;return n&&n.from<=r+s.length&&n.more?l=s=s.updateHeight(e,r,i,n):s.updateHeight(e,r,i),n&&n.from<=o+a.length&&n.more?l=a=a.updateHeight(e,o,i,n):a.updateHeight(e,o,i),l?this.balanced(s,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function _1(t,e){let r,i;t[e]==null&&(r=t[e-1])instanceof Ot&&(i=t[e+1])instanceof Ot&&t.splice(e-1,3,new Ot(r.length+1+i.length))}const VA=5;class Jc{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let i=Math.min(r,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof or?n.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new or(i-this.pos,-1)),this.writtenTo=i,r>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,i){if(e<r||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0;n<0&&(n=this.oracle.lineHeight);let s=r-e;i.block?this.addBlock(new T4(s,n,i.type)):(s||n>=VA)&&this.addLineDeco(n,s)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new or(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let i=new Ot(r-e);return this.oracle.doc.lineAt(e).to==r&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof or)return e;let r=new or(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine(),e.type==Ge.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Ge.WidgetBefore&&(this.covering=e)}addLineDeco(e,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+r}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof or)&&!this.isCovered?this.nodes.push(new or(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let n of this.nodes)n instanceof or&&n.updateHeight(this.oracle,i),i+=n?n.length:1;return this.nodes}static build(e,r,i,n){let s=new Jc(i,e);return qe.spans(r,i,n,s,0),s.finish(i)}}function WA(t,e,r){let i=new YA;return qe.compare(t,e,r,i,0),i.changes}class YA{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,i,n){(e<r||i&&i.heightRelevant||n&&n.heightRelevant)&&Su(e,r,this.changes,5)}}function GA(t,e){let r=t.getBoundingClientRect(),i=t.ownerDocument,n=i.defaultView||window,s=Math.max(0,r.left),a=Math.min(n.innerWidth,r.right),o=Math.max(0,r.top),l=Math.min(n.innerHeight,r.bottom);for(let u=t.parentNode;u&&u!=i.body;)if(u.nodeType==1){let c=u,h=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&h.overflow!="visible"){let m=c.getBoundingClientRect();s=Math.max(s,m.left),a=Math.min(a,m.right),o=Math.max(o,m.top),l=u==t.parentNode?m.bottom:Math.min(l,m.bottom)}u=h.position=="absolute"||h.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-r.left,right:Math.max(s,a)-r.left,top:o-(r.top+e),bottom:Math.max(o,l)-(r.top+e)}}function XA(t,e){let r=t.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class m0{constructor(e,r,i){this.from=e,this.to=r,this.size=i}static same(e,r){if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=r[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(e){return ue.replace({widget:new KA(this.size,e)}).range(this.from,this.to)}}class KA extends bi{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class O1{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=N1,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=at.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(Qc).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new zA(r),this.stateDeco=e.facet(zs).filter(i=>typeof i!="function"),this.heightMap=Wt.empty().applyChanges(this.stateDeco,Le.empty,this.heightOracle.setDoc(e.doc),[new Yr(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ue.set(this.lineGaps.map(i=>i.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let i=0;i<=1;i++){let n=i?r.head:r.anchor;if(!e.some(({from:s,to:a})=>n>=s&&n<=a)){let{from:s,to:a}=this.lineBlockAt(n);e.push(new Na(s,a))}}this.viewports=e.sort((i,n)=>i.from-n.from),this.scaler=this.heightMap.height<=7e6?N1:new JA(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:ds(e,this.scaler))})}update(e,r=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(zs).filter(u=>typeof u!="function");let n=e.changedRanges,s=Yr.extendWithRanges(n,WA(i,this.stateDeco,e?e.changes:xt.empty(this.state.doc.length))),a=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=a&&(e.flags|=2);let o=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<o.from||r.range.head>o.to)||!this.viewportIsAppropriate(o))&&(o=this.getViewport(0,r));let l=!e.changes.empty||e.flags&2||o.from!=this.viewport.from||o.to!=this.viewport.to;this.viewport=o,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(J2)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,i=window.getComputedStyle(r),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?at.RTL:at.LTR;let a=this.heightOracle.mustRefreshForWrapping(s),o=r.getBoundingClientRect(),l=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let u=0,c=0,h=parseInt(i.paddingTop)||0,m=parseInt(i.paddingBottom)||0;(this.paddingTop!=h||this.paddingBottom!=m)&&(this.paddingTop=h,this.paddingBottom=m,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let p=(this.printing?XA:GA)(r,this.paddingTop),b=p.top-this.pixelViewport.top,A=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let x=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(x!=this.inView&&(this.inView=x,x&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let S=o.width;if((this.contentDOMWidth!=S||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),l){let I=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(I)&&(a=!0),a||n.lineWrapping&&Math.abs(S-this.contentDOMWidth)>n.charWidth){let{lineHeight:P,charWidth:N}=e.docView.measureTextSize();a=P>0&&n.refresh(s,P,N,S/N,I),a&&(e.docView.minWidth=0,u|=8)}b>0&&A>0?c=Math.max(b,A):b<0&&A<0&&(c=Math.min(b,A)),n.heightChanged=!1;for(let P of this.viewports){let N=P.from==this.viewport.from?I:e.docView.measureVisibleLineHeights(P);this.heightMap=(a?Wt.empty().applyChanges(this.stateDeco,Le.empty,this.heightOracle,[new Yr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(n,0,a,new $A(P.from,N))}n.heightChanged&&(u|=2)}let R=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return R&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(u&2||R)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,s=this.heightOracle,{visibleTop:a,visibleBottom:o}=this,l=new Na(n.lineAt(a-i*1e3,Qe.ByHeight,s,0,0).from,n.lineAt(o+(1-i)*1e3,Qe.ByHeight,s,0,0).to);if(r){let{head:u}=r.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=n.lineAt(u,Qe.ByPos,s,0,0),m;r.y=="center"?m=(h.top+h.bottom)/2-c/2:r.y=="start"||r.y=="nearest"&&u<l.from?m=h.top:m=h.bottom-c,l=new Na(n.lineAt(m-1e3/2,Qe.ByHeight,s,0,0).from,n.lineAt(m+c+1e3/2,Qe.ByHeight,s,0,0).to)}}return l}mapViewport(e,r){let i=r.mapPos(e.from,-1),n=r.mapPos(e.to,1);return new Na(this.heightMap.lineAt(i,Qe.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,Qe.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(e,Qe.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(r,Qe.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:o}=this;return(e==0||n<=a-Math.max(10,Math.min(-i,250)))&&(r==this.state.doc.length||s>=o+Math.max(10,Math.min(i,250)))&&n>a-2*1e3&&s<o+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let i=[];for(let n of e)r.touchesRange(n.from,n.to)||i.push(new m0(r.mapPos(n.from),r.mapPos(n.to),n.size));return i}ensureLineGaps(e,r){let i=this.heightOracle.lineWrapping,n=i?1e4:2e3,s=n>>1,a=n<<1;if(this.defaultTextDirection!=at.LTR&&!i)return[];let o=[],l=(u,c,h,m)=>{if(c-u<s)return;let p=this.state.selection.main,b=[p.from];p.empty||b.push(p.to);for(let x of b)if(x>u&&x<c){l(u,x-10,h,m),l(x+10,c,h,m);return}let A=QA(e,x=>x.from>=h.from&&x.to<=h.to&&Math.abs(x.from-u)<s&&Math.abs(x.to-c)<s&&!b.some(S=>x.from<S&&x.to>S));if(!A){if(c<h.to&&r&&i&&r.visibleRanges.some(x=>x.from<=c&&x.to>=c)){let x=r.moveToLineBoundary(Y.cursor(c),!1,!0).head;x>u&&(c=x)}A=new m0(u,c,this.gapSize(h,u,c,m))}o.push(A)};for(let u of this.viewportLines){if(u.length<a)continue;let c=jA(u.from,u.to,this.stateDeco);if(c.total<a)continue;let h=this.scrollTarget?this.scrollTarget.range.head:null,m,p;if(i){let b=n/this.heightOracle.lineLength*this.heightOracle.lineHeight,A,x;if(h!=null){let S=Ma(c,h),R=((this.visibleBottom-this.visibleTop)/2+b)/u.height;A=S-R,x=S+R}else A=(this.visibleTop-u.top-b)/u.height,x=(this.visibleBottom-u.top+b)/u.height;m=Ia(c,A),p=Ia(c,x)}else{let b=c.total*this.heightOracle.charWidth,A=n*this.heightOracle.charWidth,x,S;if(h!=null){let R=Ma(c,h),I=((this.pixelViewport.right-this.pixelViewport.left)/2+A)/b;x=R-I,S=R+I}else x=(this.pixelViewport.left-A)/b,S=(this.pixelViewport.right+A)/b;m=Ia(c,x),p=Ia(c,S)}m>u.from&&l(u.from,m,u,c),p<u.to&&l(p,u.to,u,c)}return o}gapSize(e,r,i,n){let s=Ma(n,i)-Ma(n,r);return this.heightOracle.lineWrapping?e.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(e){m0.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ue.set(e.map(r=>r.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let r=[];qe.spans(e,this.viewport.from,this.viewport.to,{span(n,s){r.push({from:n,to:s})},point(){}},20);let i=r.length!=this.visibleRanges.length||this.visibleRanges.some((n,s)=>n.from!=r[s].from||n.to!=r[s].to);return this.visibleRanges=r,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||ds(this.heightMap.lineAt(e,Qe.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return ds(this.heightMap.lineAt(this.scaler.fromDOM(e),Qe.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return ds(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Na{constructor(e,r){this.from=e,this.to=r}}function jA(t,e,r){let i=[],n=t,s=0;return qe.spans(r,t,e,{span(){},point(a,o){a>n&&(i.push({from:n,to:a}),s+=a-n),n=o}},20),n<e&&(i.push({from:n,to:e}),s+=e-n),{total:s,ranges:i}}function Ia({total:t,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let i=Math.floor(t*r);for(let n=0;;n++){let{from:s,to:a}=e[n],o=a-s;if(i<=o)return s+i;i-=o}}function Ma(t,e){let r=0;for(let{from:i,to:n}of t.ranges){if(e<=n){r+=e-i;break}r+=n-i}return r/t.total}function QA(t,e){for(let r of t)if(e(r))return r}const N1={toDOM(t){return t},fromDOM(t){return t},scale:1};class JA{constructor(e,r,i){let n=0,s=0,a=0;this.viewports=i.map(({from:o,to:l})=>{let u=r.lineAt(o,Qe.ByPos,e,0,0).top,c=r.lineAt(l,Qe.ByPos,e,0,0).bottom;return n+=c-u,{from:o,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(r.height-n);for(let o of this.viewports)o.domTop=a+(o.top-s)*this.scale,a=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(e){for(let r=0,i=0,n=0;;r++){let s=r<this.viewports.length?this.viewports[r]:null;if(!s||e<s.top)return n+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,n=s.domBottom}}fromDOM(e){for(let r=0,i=0,n=0;;r++){let s=r<this.viewports.length?this.viewports[r]:null;if(!s||e<s.domTop)return i+(e-n)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,n=s.domBottom}}}function ds(t,e){if(e.scale==1)return t;let r=e.toDOM(t.top),i=e.toDOM(t.bottom);return new si(t.from,t.length,r,i-r,Array.isArray(t.type)?t.type.map(n=>ds(n,e)):t.type)}const Da=oe.define({combine:t=>t.join(" ")}),Iu=oe.define({combine:t=>t.indexOf(!0)>-1}),Mu=Ui.newName(),v4=Ui.newName(),E4=Ui.newName(),y4={"&light":"."+v4,"&dark":"."+E4};function Du(t,e,r){return new Ui(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,n=>{if(n=="&")return t;if(!r||!r[n])throw new RangeError(`Unsupported selector: ${n}`);return r[n]}):t+" "+i}})}const ZA=Du("."+Mu,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},y4);class ex{constructor(e,r,i,n){this.typeOver=n,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,i,0))){let o=s||a?[]:rx(e),l=new s4(o,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=ix(o,this.bounds.from)}else{let o=e.observer.selectionRange,l=s&&s.node==o.focusNode&&s.offset==o.focusOffset||!zn(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),u=a&&a.node==o.anchorNode&&a.offset==o.anchorOffset||!zn(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset);this.newSel=Y.single(u,l)}}}function A4(t,e){let r,{newSel:i}=e,n=t.state.selection.main;if(e.bounds){let{from:s,to:a}=e.bounds,o=n.from,l=null;(t.inputState.lastKeyCode===8&&t.inputState.lastKeyTime>Date.now()-100||ae.android&&e.text.length<a-s)&&(o=n.to,l="end");let u=tx(t.state.doc.sliceString(s,a,Oi),e.text,o-s,l);u&&(ae.chrome&&t.inputState.lastKeyCode==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Oi+Oi&&u.toB--,r={from:s+u.from,to:s+u.toA,insert:Le.of(e.text.slice(u.from,u.toB).split(Oi))})}else i&&(!t.hasFocus&&t.state.facet(Al)||i.main.eq(n))&&(i=null);if(!r&&!i)return!1;if(!r&&e.typeOver&&!n.empty&&i&&i.main.empty?r={from:n.from,to:n.to,insert:t.state.doc.slice(n.from,n.to)}:r&&r.from>=n.from&&r.to<=n.to&&(r.from!=n.from||r.to!=n.to)&&n.to-n.from-(r.to-r.from)<=4?r={from:n.from,to:n.to,insert:t.state.doc.slice(n.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,n.to))}:(ae.mac||ae.android)&&r&&r.from==r.to&&r.from==n.head-1&&/^\. ?$/.test(r.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(i&&r.insert.length==2&&(i=Y.single(i.main.anchor-1,i.main.head-1)),r={from:n.from,to:n.to,insert:Le.of([" "])}):ae.chrome&&r&&r.from==r.to&&r.from==n.head&&r.insert.toString()==`
 `&&t.lineWrapping&&(i&&(i=Y.single(i.main.anchor-1,i.main.head-1)),r={from:n.from,to:n.to,insert:Le.of([" "])}),r){let s=t.state;if(ae.ios&&t.inputState.flushIOSKey(t)||ae.android&&(r.from==n.from&&r.to==n.to&&r.insert.length==1&&r.insert.lines==2&&Rn(t.contentDOM,"Enter",13)||r.from==n.from-1&&r.to==n.to&&r.insert.length==0&&Rn(t.contentDOM,"Backspace",8)||r.from==n.from&&r.to==n.to+1&&r.insert.length==0&&Rn(t.contentDOM,"Delete",46)))return!0;let a=r.insert.toString();if(t.state.facet(K2).some(u=>u(t,r.from,r.to,a)))return!0;t.inputState.composing>=0&&t.inputState.composing++;let o;if(r.from>=n.from&&r.to<=n.to&&r.to-r.from>=(n.to-n.from)/3&&(!i||i.main.empty&&i.main.from==r.from+r.insert.length)&&t.inputState.composing<0){let u=n.from<r.from?s.sliceDoc(n.from,r.from):"",c=n.to>r.to?s.sliceDoc(r.to,n.to):"";o=s.replaceSelection(t.state.toText(u+r.insert.sliceString(0,void 0,t.state.lineBreak)+c))}else{let u=s.changes(r),c=i&&!s.selection.main.eq(i.main)&&i.main.to<=u.newLength?i.main:void 0;if(s.selection.ranges.length>1&&t.inputState.composing>=0&&r.to<=n.to&&r.to>=n.to-10){let h=t.state.sliceDoc(r.from,r.to),m=a4(t)||t.state.doc.lineAt(n.head),p=n.to-r.to,b=n.to-n.from;o=s.changeByRange(A=>{if(A.from==n.from&&A.to==n.to)return{changes:u,range:c||A.map(u)};let x=A.to-p,S=x-h.length;if(A.to-A.from!=b||t.state.sliceDoc(S,x)!=h||m&&A.to>=m.from&&A.from<=m.to)return{range:A};let R=s.changes({from:S,to:x,insert:r.insert}),I=A.to-n.to;return{changes:R,range:c?Y.range(Math.max(0,c.anchor+I),Math.max(0,c.head+I)):A.map(R)}})}else o={changes:u,selection:c&&s.selection.replaceRange(c)}}let l="input.type";return t.composing&&(l+=".compose",t.inputState.compositionFirstChange&&(l+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(o,{scrollIntoView:!0,userEvent:l}),!0}else if(i&&!i.main.eq(n)){let s=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(s=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:s,userEvent:a}),!0}else return!1}function tx(t,e,r,i){let n=Math.min(t.length,e.length),s=0;for(;s<n&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==n&&t.length==e.length)return null;let a=t.length,o=e.length;for(;a>0&&o>0&&t.charCodeAt(a-1)==e.charCodeAt(o-1);)a--,o--;if(i=="end"){let l=Math.max(0,s-Math.min(a,o));r-=a+l-s}if(a<s&&t.length<e.length){let l=r<=s&&r>=a?s-r:0;s-=l,o=s+(o-a),a=s}else if(o<s){let l=r<=s&&r>=o?s-r:0;s-=l,a=s+(a-o),o=s}return{from:s,toA:a,toB:o}}function rx(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:r,anchorOffset:i,focusNode:n,focusOffset:s}=t.observer.selectionRange;return r&&(e.push(new h1(r,i)),(n!=r||s!=i)&&e.push(new h1(n,s))),e}function ix(t,e){if(t.length==0)return null;let r=t[0].pos,i=t.length==2?t[1].pos:r;return r>-1&&i>-1?Y.single(r+e,i+e):null}const nx={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},p0=ae.ie&&ae.ie_version<=11;class sx{constructor(e){this.view=e,this.active=!1,this.selectionRange=new Jy,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let i of r)this.queue.push(i);(ae.ie&&ae.ie_version<=11||ae.ios&&e.composing)&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),p0&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,i)=>r!=e[i]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,n=this.selectionRange;if(i.state.facet(Al)?i.root.activeElement!=this.dom:!Ja(i.dom,n))return;let s=n.anchorNode&&i.docView.nearest(n.anchorNode);if(s&&s.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(ae.ie&&ae.ie_version<=11||ae.android&&ae.chrome)&&!i.state.selection.main.empty&&n.focusNode&&wo(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=ae.safari&&e.root.nodeType==11&&Xy(this.dom.ownerDocument)==this.dom&&ax(this.view)||So(e.root);if(!r||this.selectionRange.eq(r))return!1;let i=Ja(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&eA(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let i=this.dom;i;)if(i.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=r)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,nx),p0&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),p0&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var i;if(!this.delayedAndroidKey){let n=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),!this.flush()&&s.force&&Rn(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(n)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let s of this.observer.takeRecords())e.push(s);e.length&&(this.queue=[]);let r=-1,i=-1,n=!1;for(let s of e){let a=this.readMutation(s);a&&(a.typeOver&&(n=!0),r==-1?{from:r,to:i}=a:(r=Math.min(a.from,r),i=Math.max(a.to,i)))}return{from:r,to:i,typeOver:n}}readChange(){let{from:e,to:r,typeOver:i}=this.processRecords(),n=this.selectionChanged&&Ja(this.dom,this.selectionRange);return e<0&&!n?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new ex(this.view,e,r,i))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return!1;let i=this.view.state,n=A4(this.view,r);return this.view.state==i&&this.view.update([]),n}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.dirty|=4),e.type=="childList"){let i=I1(r,e.previousSibling||e.target.previousSibling,-1),n=I1(r,e.nextSibling||e.target.nextSibling,1);return{from:i?r.posAfter(i):r.posAtStart,to:n?r.posBefore(n):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,r,i,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect(),(n=this.resizeContent)===null||n===void 0||n.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function I1(t,e,r){for(;e;){let i=Je.get(e);if(i&&i.parent==t)return i;let n=e.parentNode;e=n!=t.dom?n:r>0?e.nextSibling:e.previousSibling}return null}function ax(t){let e=null;function r(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),!e)return null;let i=e.startContainer,n=e.startOffset,s=e.endContainer,a=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return wo(o.node,o.offset,s,a)&&([i,n,s,a]=[s,a,i,n]),{anchorNode:i,anchorOffset:n,focusNode:s,focusOffset:a}}class le{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(r=>this.update([r])),this.dispatch=this.dispatch.bind(this),this._root=e.root||Zy(e.parent)||document,this.viewState=new O1(e.state||Ie.create(e)),this.plugins=this.state.facet(hs).map(r=>new h0(r));for(let r of this.plugins)r.update(this);this.observer=new sx(this),this.inputState=new _A(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new f1(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof wt?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,i=!1,n,s=this.state;for(let m of e){if(m.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=m.state}if(this.destroyed){this.viewState.state=s;return}let a=this.hasFocus,o=0,l=null;e.some(m=>m.annotation(p4))?(this.inputState.notifiedFocused=a,o=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,l=g4(s,a),l||(o=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(Ie.phrases)!=this.state.facet(Ie.phrases))return this.setState(s);n=_o.create(this,s,e),n.flags|=o;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let m of e){if(h&&(h=h.map(m.changes)),m.scrollIntoView){let{main:p}=m.state.selection;h=new ko(p.empty?p:Y.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of m.effects)p.is(u1)&&(h=p.value)}this.viewState.update(n,h),this.bidiCache=Oo.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),r=this.docView.update(n),this.state.facet(fs)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(m=>m.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(Da)!=n.state.facet(Da)&&(this.viewState.mustMeasureContent=!0),(r||i||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!n.empty)for(let m of this.state.facet(wu))m(n);(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!A4(this,c)&&u.force&&Rn(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new O1(e),this.plugins=e.facet(hs).map(i=>new h0(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new f1(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(hs),i=e.state.facet(hs);if(r!=i){let n=[];for(let s of i){let a=r.indexOf(s);if(a<0)n.push(new h0(s));else{let o=this.plugins[a];o.mustUpdate=e,n.push(o)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=n,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let n of this.plugins)n.mustUpdate=e;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,{scrollHeight:i,scrollTop:n,clientHeight:s}=this.scrollDOM,a=n>i-s-4?i:n;try{for(let o=0;;o++){this.updateState=1;let l=this.viewport,u=this.viewState.lineBlockAtHeight(a),c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];c&4||([this.measureRequests,h]=[h,this.measureRequests]);let m=h.map(x=>{try{return x.read(this)}catch(S){return hr(this.state,S),M1}}),p=_o.create(this,this.state,[]),b=!1,A=!1;p.flags|=c,r?r.flags|=c:r=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),b=this.docView.update(p));for(let x=0;x<h.length;x++)if(m[x]!=M1)try{let S=h[x];S.write&&S.write(m[x],this)}catch(S){hr(this.state,S)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,A=!0;else{let x=this.viewState.lineBlockAt(u.from).top-u.top;(x>1||x<-1)&&(this.scrollDOM.scrollTop+=x,A=!0)}if(b&&this.docView.updateSelection(!0),this.viewport.from==l.from&&this.viewport.to==l.to&&!A&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let o of this.state.facet(wu))o(r)}get themeClasses(){return Mu+" "+(this.state.facet(Iu)?E4:v4)+" "+this.state.facet(Da)}updateAttrs(){let e=D1(this,Z2,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Al)?"true":"false",class:"cm-content",style:`${ae.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),D1(this,Qc,r);let i=this.observer.ignore(()=>{let n=xu(this.contentDOM,this.contentAttrs,r),s=xu(this.dom,this.editorAttrs,e);return n||s});return this.editorAttrs=e,this.contentAttrs=r,i}showAnnouncements(e){let r=!0;for(let i of e)for(let n of i.effects)if(n.is(le.announce)){r&&(this.announceDOM.textContent=""),r=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(fs),Ui.mount(this.root,this.styleModules.concat(ZA).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(i=>i.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,i){return d0(this,e,T1(this,e,r,i))}moveByGroup(e,r){return d0(this,e,T1(this,e,r,i=>CA(this,e.head,i)))}moveToLineBoundary(e,r,i=!0){return wA(this,e,r,i)}moveVertically(e,r,i){return d0(this,e,kA(this,e,r,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),l4(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let i=this.docView.coordsAt(e,r);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(e),s=this.bidiSpans(n),a=s[Ln.find(s,e-n.from,-1,r)];return Gc(i,a.dir==at.LTR==r>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Q2)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>ox)return i4(e.length);let r=this.textDirectionAt(e.from);for(let n of this.bidiCache)if(n.from==e.from&&n.dir==r)return n.order;let i=hA(e.text,r);return this.bidiCache.push(new Oo(e.from,e.to,r,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ae.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{M2(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return u1.of(new ko(typeof e=="number"?Y.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}static domEventHandlers(e){return ft.define(()=>({}),{eventHandlers:e})}static theme(e,r){let i=Ui.newName(),n=[Da.of(i),fs.of(Du(`.${i}`,e))];return r&&r.dark&&n.push(Iu.of(!0)),n}static baseTheme(e){return Zn.lowest(fs.of(Du("."+Mu,e,y4)))}static findFromDOM(e){var r;let i=e.querySelector(".cm-content"),n=i&&Je.get(i)||Je.get(e);return((r=n==null?void 0:n.rootView)===null||r===void 0?void 0:r.view)||null}}le.styleModule=fs;le.inputHandler=K2;le.focusChangeEffect=j2;le.perLineTextDirection=Q2;le.exceptionSink=X2;le.updateListener=wu;le.editable=Al;le.mouseSelectionStyle=G2;le.dragMovesSelection=Y2;le.clickAddsSelectionRange=W2;le.decorations=zs;le.atomicRanges=e4;le.scrollMargins=t4;le.darkTheme=Iu;le.contentAttributes=Qc;le.editorAttributes=Z2;le.lineWrapping=le.contentAttributes.of({class:"cm-lineWrapping"});le.announce=Ae.define();const ox=4096,M1={};class Oo{constructor(e,r,i,n){this.from=e,this.to=r,this.dir=i,this.order=n}static update(e,r){if(r.empty)return e;let i=[],n=e.length?e[e.length-1].dir:at.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let a=e[s];a.dir==n&&!r.touchesRange(a.from,a.to)&&i.push(new Oo(r.mapPos(a.from,1),r.mapPos(a.to,-1),a.dir,a.order))}return i}}function D1(t,e,r){for(let i=t.state.facet(e),n=i.length-1;n>=0;n--){let s=i[n],a=typeof s=="function"?s(t):s;a&&Au(a,r)}return r}const lx=ae.mac?"mac":ae.windows?"win":ae.linux?"linux":"key";function ux(t,e){const r=t.split(/-(?!$)/);let i=r[r.length-1];i=="Space"&&(i=" ");let n,s,a,o;for(let l=0;l<r.length-1;++l){const u=r[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))n=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))e=="mac"?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return n&&(i="Alt-"+i),s&&(i="Ctrl-"+i),o&&(i="Meta-"+i),a&&(i="Shift-"+i),i}function Ra(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r!==!1&&e.shiftKey&&(t="Shift-"+t),t}const cx=Zn.default(le.domEventHandlers({keydown(t,e){return S4(x4(e.state),t,e,"editor")}})),xl=oe.define({enables:cx}),R1=new WeakMap;function x4(t){let e=t.facet(xl),r=R1.get(e);return r||R1.set(e,r=dx(e.reduce((i,n)=>i.concat(n),[]))),r}function hx(t,e,r){return S4(x4(t.state),e,t,r)}let wi=null;const fx=4e3;function dx(t,e=lx){let r=Object.create(null),i=Object.create(null),n=(a,o)=>{let l=i[a];if(l==null)i[a]=o;else if(l!=o)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},s=(a,o,l,u)=>{var c,h;let m=r[a]||(r[a]=Object.create(null)),p=o.split(/ (?!$)/).map(x=>ux(x,e));for(let x=1;x<p.length;x++){let S=p.slice(0,x).join(" ");n(S,!0),m[S]||(m[S]={preventDefault:!0,run:[R=>{let I=wi={view:R,prefix:S,scope:a};return setTimeout(()=>{wi==I&&(wi=null)},fx),!0}]})}let b=p.join(" ");n(b,!1);let A=m[b]||(m[b]={preventDefault:!1,run:((h=(c=m._any)===null||c===void 0?void 0:c.run)===null||h===void 0?void 0:h.slice())||[]});l&&A.run.push(l),u&&(A.preventDefault=!0)};for(let a of t){let o=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let u of o){let c=r[u]||(r[u]=Object.create(null));c._any||(c._any={preventDefault:!1,run:[]});for(let h in c)c[h].run.push(a.any)}let l=a[e]||a.key;if(l)for(let u of o)s(u,l,a.run,a.preventDefault),a.shift&&s(u,"Shift-"+l,a.shift,a.preventDefault)}return r}function S4(t,e,r,i){let n=Gy(e),s=It(n,0),a=Tr(s)==n.length&&n!=" ",o="",l=!1;wi&&wi.view==r&&wi.scope==i&&(o=wi.prefix+" ",(l=c4.indexOf(e.keyCode)<0)&&(wi=null));let u=new Set,c=b=>{if(b){for(let A of b.run)if(!u.has(A)&&(u.add(A),A(r,e)))return!0;b.preventDefault&&(l=!0)}return!1},h=t[i],m,p;if(h){if(c(h[o+Ra(n,e,!a)]))return!0;if(a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ae.windows&&e.ctrlKey&&e.altKey)&&(m=zi[e.keyCode])&&m!=n){if(c(h[o+Ra(m,e,!0)]))return!0;if(e.shiftKey&&(p=Fs[e.keyCode])!=n&&p!=m&&c(h[o+Ra(p,e,!1)]))return!0}else if(a&&e.shiftKey&&c(h[o+Ra(n,e,!0)]))return!0;if(c(h._any))return!0}return l}class na{constructor(e,r,i,n,s){this.className=e,this.left=r,this.top=i,this.width=n,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,i){if(i.empty){let n=e.coordsAtPos(i.head,i.assoc||1);if(!n)return[];let s=w4(e);return[new na(r,n.left-s.left,n.top-s.top,null,n.bottom-n.top)]}else return mx(e,r,i)}}function w4(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==at.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function L1(t,e,r){let i=Y.cursor(e);return{from:Math.max(r.from,t.moveToLineBoundary(i,!1,!0).from),to:Math.min(r.to,t.moveToLineBoundary(i,!0,!0).from),type:Ge.Text}}function P1(t,e){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){for(let i of r.type)if(i.to>e||i.to==e&&(i.to==r.to||i.type==Ge.Text))return i}return r}function mx(t,e,r){if(r.to<=t.viewport.from||r.from>=t.viewport.to)return[];let i=Math.max(r.from,t.viewport.from),n=Math.min(r.to,t.viewport.to),s=t.textDirection==at.LTR,a=t.contentDOM,o=a.getBoundingClientRect(),l=w4(t),u=a.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=o.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),m=o.right-(c?parseInt(c.paddingRight):0),p=P1(t,i),b=P1(t,n),A=p.type==Ge.Text?p:null,x=b.type==Ge.Text?b:null;if(t.lineWrapping&&(A&&(A=L1(t,i,A)),x&&(x=L1(t,n,x))),A&&x&&A.from==x.from)return R(I(r.from,r.to,A));{let N=A?I(r.from,null,A):P(p,!1),$=x?I(null,r.to,x):P(b,!0),_=[];return(A||p).to<(x||b).from-1?_.push(S(h,N.bottom,m,$.top)):N.bottom<$.top&&t.elementAtHeight((N.bottom+$.top)/2).type==Ge.Text&&(N.bottom=$.top=(N.bottom+$.top)/2),R(N).concat(_).concat(R($))}function S(N,$,_,B){return new na(e,N-l.left,$-l.top-.01,_-N,B-$+.01)}function R({top:N,bottom:$,horizontal:_}){let B=[];for(let z=0;z<_.length;z+=2)B.push(S(_[z],N,_[z+1],$));return B}function I(N,$,_){let B=1e9,z=-1e9,M=[];function ne(De,Re,Ye,se,Ue){let Be=t.coordsAtPos(De,De==_.to?-2:2),ze=t.coordsAtPos(Ye,Ye==_.from?2:-2);B=Math.min(Be.top,ze.top,B),z=Math.max(Be.bottom,ze.bottom,z),Ue==at.LTR?M.push(s&&Re?h:Be.left,s&&se?m:ze.right):M.push(!s&&se?h:ze.left,!s&&Re?m:Be.right)}let Ee=N??_.from,We=$??_.to;for(let De of t.visibleRanges)if(De.to>Ee&&De.from<We)for(let Re=Math.max(De.from,Ee),Ye=Math.min(De.to,We);;){let se=t.state.doc.lineAt(Re);for(let Ue of t.bidiSpans(se)){let Be=Ue.from+se.from,ze=Ue.to+se.from;if(Be>=Ye)break;ze>Re&&ne(Math.max(Be,Re),N==null&&Be<=Ee,Math.min(ze,Ye),$==null&&ze>=We,Ue.dir)}if(Re=se.to+1,Re>=Ye)break}return M.length==0&&ne(Ee,N==null,We,$==null,t.textDirection),{top:B,bottom:z,horizontal:M}}function P(N,$){let _=o.top+($?N.top:N.bottom);return{top:_,bottom:_,horizontal:[]}}}function px(t,e){return t.constructor==e.constructor&&t.eq(e)}class gx{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(eo)!=e.state.facet(eo)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let r=0,i=e.facet(eo);for(;r<i.length&&i[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((r,i)=>!px(r,this.drawn[i]))){let r=this.dom.firstChild,i=0;for(let n of e)n.update&&r&&n.constructor&&this.drawn[i].constructor&&n.update(r,this.drawn[i])?(r=r.nextSibling,i++):this.dom.insertBefore(n.draw(),r);for(;r;){let n=r.nextSibling;r.remove(),r=n}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const eo=oe.define();function C4(t){return[ft.define(e=>new gx(e,t)),eo.of(t)]}const k4=!ae.ios,$s=oe.define({combine(t){return Jr(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function bx(t={}){return[$s.of(t),Tx,vx,Ex,J2.of(!0)]}function _4(t){return t.startState.facet($s)!=t.state.facet($s)}const Tx=C4({above:!0,markers(t){let{state:e}=t,r=e.facet($s),i=[];for(let n of e.selection.ranges){let s=n==e.selection.main;if(n.empty?!s||k4:r.drawRangeCursor){let a=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=n.empty?n:Y.cursor(n.head,n.head>n.anchor?-1:1);for(let l of na.forRange(t,a,o))i.push(l)}}return i},update(t,e){t.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=_4(t);return r&&B1(t.state,e),t.docChanged||t.selectionSet||r},mount(t,e){B1(e.state,t)},class:"cm-cursorLayer"});function B1(t,e){e.style.animationDuration=t.facet($s).cursorBlinkRate+"ms"}const vx=C4({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:na.forRange(t,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||_4(t)},class:"cm-selectionLayer"}),O4={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};k4&&(O4[".cm-line"].caretColor="transparent !important");const Ex=Zn.highest(le.theme(O4)),N4=Ae.define({map(t,e){return t==null?null:e.mapPos(t)}}),ms=Lt.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((r,i)=>i.is(N4)?i.value:r,t)}}),yx=ft.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let r=t.state.field(ms);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(ms)!=r||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let t=this.view.state.field(ms),e=t!=null&&this.view.coordsAtPos(t);if(!e)return null;let r=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-r.left+this.view.scrollDOM.scrollLeft,top:e.top-r.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(t){this.cursor&&(t?(this.cursor.style.left=t.left+"px",this.cursor.style.top=t.top+"px",this.cursor.style.height=t.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(ms)!=t&&this.view.dispatch({effects:N4.of(t)})}},{eventHandlers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Ax(){return[ms,yx]}function F1(t,e,r,i,n){e.lastIndex=0;for(let s=t.iterRange(r,i),a=r,o;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=e.exec(s.value);)n(a+o.index,o)}function xx(t,e){let r=t.visibleRanges;if(r.length==1&&r[0].from==t.viewport.from&&r[0].to==t.viewport.to)return r;let i=[];for(let{from:n,to:s}of r)n=Math.max(t.state.doc.lineAt(n).from,n-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=n?i[i.length-1].to=s:i.push({from:n,to:s});return i}class Sx{constructor(e){const{regexp:r,decoration:i,decorate:n,boundary:s,maxLength:a=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,n)this.addMatch=(o,l,u,c)=>n(c,u,u+o[0].length,o,l);else if(typeof i=="function")this.addMatch=(o,l,u,c)=>{let h=i(o,l,u);h&&c(u,u+o[0].length,h)};else if(i)this.addMatch=(o,l,u,c)=>c(u,u+o[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=a}createDeco(e){let r=new Hi,i=r.add.bind(r);for(let{from:n,to:s}of xx(e,this.maxLength))F1(e.state.doc,this.regexp,n,s,(a,o)=>this.addMatch(o,e,a,i));return r.finish()}updateDeco(e,r){let i=1e9,n=-1;return e.docChanged&&e.changes.iterChanges((s,a,o,l)=>{l>e.view.viewport.from&&o<e.view.viewport.to&&(i=Math.min(o,i),n=Math.max(l,n))}),e.viewportChanged||n-i>1e3?this.createDeco(e.view):n>-1?this.updateRange(e.view,r.map(e.changes),i,n):r}updateRange(e,r,i,n){for(let s of e.visibleRanges){let a=Math.max(s.from,i),o=Math.min(s.to,n);if(o>a){let l=e.state.doc.lineAt(a),u=l.to<o?e.state.doc.lineAt(o):l,c=Math.max(s.from,l.from),h=Math.min(s.to,u.to);if(this.boundary){for(;a>l.from;a--)if(this.boundary.test(l.text[a-1-l.from])){c=a;break}for(;o<u.to;o++)if(this.boundary.test(u.text[o-u.from])){h=o;break}}let m=[],p,b=(A,x,S)=>m.push(S.range(A,x));if(l==u)for(this.regexp.lastIndex=c-l.from;(p=this.regexp.exec(l.text))&&p.index<h-l.from;)this.addMatch(p,e,p.index+l.from,b);else F1(e.state.doc,this.regexp,c,h,(A,x)=>this.addMatch(x,e,A,b));r=r.update({filterFrom:c,filterTo:h,filter:(A,x)=>A<c||x>h,add:m})}}return r}}const Ru=/x/.unicode!=null?"gu":"g",wx=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Ru),Cx={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let g0=null;function kx(){var t;if(g0==null&&typeof document<"u"&&document.body){let e=document.body.style;g0=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return g0||!1}const to=oe.define({combine(t){let e=Jr(t,{render:null,specialChars:wx,addSpecialChars:null});return(e.replaceTabs=!kx())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Ru)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Ru)),e}});function _x(t={}){return[to.of(t),Ox()]}let H1=null;function Ox(){return H1||(H1=ft.fromClass(class{constructor(t){this.view=t,this.decorations=ue.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(to)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Sx({regexp:t.specialChars,decoration:(e,r,i)=>{let{doc:n}=r.state,s=It(e[0],0);if(s==9){let a=n.lineAt(i),o=r.state.tabSize,l=ra(a.text,o,i-a.from);return ue.replace({widget:new Dx((o-l%o)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=ue.replace({widget:new Mx(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(to);t.startState.facet(to)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const Nx="•";function Ix(t){return t>=32?Nx:t==10?"␤":String.fromCharCode(9216+t)}class Mx extends bi{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=Ix(this.code),i=e.state.phrase("Control character")+" "+(Cx[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,i,r);if(n)return n;let s=document.createElement("span");return s.textContent=r,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class Dx extends bi{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Rx(){return Px}const Lx=ue.line({class:"cm-activeLine"}),Px=ft.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,r=[];for(let i of t.state.selection.ranges){let n=t.lineBlockAt(i.head);n.from>e&&(r.push(Lx.range(n.from)),e=n.from)}return ue.set(r)}},{decorations:t=>t.decorations});class Bx extends bi{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}ignoreEvent(){return!1}}function Fx(t){return ft.fromClass(class{constructor(e){this.view=e,this.placeholder=ue.set([ue.widget({widget:new Bx(t),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?ue.none:this.placeholder}},{decorations:e=>e.decorations})}const Lu=2e3;function Hx(t,e,r){let i=Math.min(e.line,r.line),n=Math.max(e.line,r.line),s=[];if(e.off>Lu||r.off>Lu||e.col<0||r.col<0){let a=Math.min(e.off,r.off),o=Math.max(e.off,r.off);for(let l=i;l<=n;l++){let u=t.doc.line(l);u.length<=o&&s.push(Y.range(u.from+a,u.to+o))}}else{let a=Math.min(e.col,r.col),o=Math.max(e.col,r.col);for(let l=i;l<=n;l++){let u=t.doc.line(l),c=mu(u.text,a,t.tabSize,!0);if(c<0)s.push(Y.cursor(u.to));else{let h=mu(u.text,o,t.tabSize);s.push(Y.range(u.from+c,u.from+h))}}}return s}function Ux(t,e){let r=t.coordsAtPos(t.viewport.from);return r?Math.round(Math.abs((r.left-e)/t.defaultCharacterWidth)):-1}function U1(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),i=t.state.doc.lineAt(r),n=r-i.from,s=n>Lu?-1:n==i.length?Ux(t,e.clientX):ra(i.text,t.state.tabSize,r-i.from);return{line:i.number,col:s,off:n}}function zx(t,e){let r=U1(t,e),i=t.state.selection;return r?{update(n){if(n.docChanged){let s=n.changes.mapPos(n.startState.doc.line(r.line).from),a=n.state.doc.lineAt(s);r={line:a.number,col:r.col,off:Math.min(r.off,a.length)},i=i.map(n.changes)}},get(n,s,a){let o=U1(t,n);if(!o)return i;let l=Hx(t.state,r,o);return l.length?a?Y.create(l.concat(i.ranges)):Y.create(l):i}}:null}function $x(t){let e=(t==null?void 0:t.eventFilter)||(r=>r.altKey&&r.button==0);return le.mouseSelectionStyle.of((r,i)=>e(i)?zx(r,i):null)}const qx={Alt:[18,t=>t.altKey],Control:[17,t=>t.ctrlKey],Shift:[16,t=>t.shiftKey],Meta:[91,t=>t.metaKey]},Vx={style:"cursor: crosshair"};function Wx(t={}){let[e,r]=qx[t.key||"Alt"],i=ft.fromClass(class{constructor(n){this.view=n,this.isDown=!1}set(n){this.isDown!=n&&(this.isDown=n,this.view.update([]))}},{eventHandlers:{keydown(n){this.set(n.keyCode==e||r(n))},keyup(n){(n.keyCode==e||!r(n))&&this.set(!1)},mousemove(n){this.set(r(n))}}});return[i,le.contentAttributes.of(n=>{var s;return!((s=n.plugin(i))===null||s===void 0)&&s.isDown?Vx:null})]}const La="-10000px";class I4{constructor(e,r,i){this.facet=r,this.createTooltipView=i,this.input=e.state.facet(r),this.tooltips=this.input.filter(n=>n),this.tooltipViews=this.tooltips.map(i)}update(e){var r;let i=e.state.facet(this.facet),n=i.filter(a=>a);if(i===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let s=[];for(let a=0;a<n.length;a++){let o=n[a],l=-1;if(o){for(let u=0;u<this.tooltips.length;u++){let c=this.tooltips[u];c&&c.create==o.create&&(l=u)}if(l<0)s[a]=this.createTooltipView(o);else{let u=s[a]=this.tooltipViews[l];u.update&&u.update(e)}}}for(let a of this.tooltipViews)s.indexOf(a)<0&&(a.dom.remove(),(r=a.destroy)===null||r===void 0||r.call(a));return this.input=i,this.tooltips=n,this.tooltipViews=s,!0}}function Yx(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const b0=oe.define({combine:t=>{var e,r,i;return{position:ae.ios?"absolute":((e=t.find(n=>n.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=t.find(n=>n.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((i=t.find(n=>n.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||Yx}}}),z1=new WeakMap,M4=ft.fromClass(class{constructor(t){this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(b0);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new I4(t,Zc,r=>this.createTooltip(r)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let r=e||t.geometryChanged,i=t.state.facet(b0);if(i.position!=this.position){this.position=i.position;for(let n of this.manager.tooltipViews)n.dom.style.position=this.position;r=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let n of this.manager.tooltipViews)this.container.appendChild(n.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",e.dom.appendChild(r)}return e.dom.style.position=this.position,e.dom.style.top=La,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((e,r)=>{let i=this.manager.tooltipViews[r];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(b0).tooltipSpace(this.view)}}writeMeasure(t){var e;let{editor:r,space:i}=t,n=[];for(let s=0;s<this.manager.tooltips.length;s++){let a=this.manager.tooltips[s],o=this.manager.tooltipViews[s],{dom:l}=o,u=t.pos[s],c=t.size[s];if(!u||u.bottom<=Math.max(r.top,i.top)||u.top>=Math.min(r.bottom,i.bottom)||u.right<Math.max(r.left,i.left)-.1||u.left>Math.min(r.right,i.right)+.1){l.style.top=La;continue}let h=a.arrow?o.dom.querySelector(".cm-tooltip-arrow"):null,m=h?7:0,p=c.right-c.left,b=(e=z1.get(o))!==null&&e!==void 0?e:c.bottom-c.top,A=o.offset||Xx,x=this.view.textDirection==at.LTR,S=c.width>i.right-i.left?x?i.left:i.right-c.width:x?Math.min(u.left-(h?14:0)+A.x,i.right-p):Math.max(i.left,u.left-p+(h?14:0)-A.x),R=!!a.above;!a.strictSide&&(R?u.top-(c.bottom-c.top)-A.y<i.top:u.bottom+(c.bottom-c.top)+A.y>i.bottom)&&R==i.bottom-u.bottom>u.top-i.top&&(R=!R);let I=(R?u.top-i.top:i.bottom-u.bottom)-m;if(I<b&&o.resize!==!1){if(I<this.view.defaultLineHeight){l.style.top=La;continue}z1.set(o,b),l.style.height=(b=I)+"px"}else l.style.height&&(l.style.height="");let P=R?u.top-b-m-A.y:u.bottom+m+A.y,N=S+p;if(o.overlap!==!0)for(let $ of n)$.left<N&&$.right>S&&$.top<P+b&&$.bottom>P&&(P=R?$.top-b-2-m:$.bottom+m+2);this.position=="absolute"?(l.style.top=P-t.parent.top+"px",l.style.left=S-t.parent.left+"px"):(l.style.top=P+"px",l.style.left=S+"px"),h&&(h.style.left=`${u.left+(x?A.x:-A.x)-(S+14-7)}px`),o.overlap!==!0&&n.push({left:S,top:P,right:N,bottom:P+b}),l.classList.toggle("cm-tooltip-above",R),l.classList.toggle("cm-tooltip-below",!R),o.positioned&&o.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=La}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Gx=le.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Xx={x:0,y:0},Zc=oe.define({enables:[M4,Gx]}),No=oe.define();class eh{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new I4(e,No,r=>this.createHostedView(r))}static create(e){return new eh(e)}createHostedView(e){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(r.dom),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}}const Kx=Zc.compute([No],t=>{let e=t.facet(No).filter(r=>r);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.filter(r=>r.end!=null).map(r=>r.end)),create:eh.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class jx{constructor(e,r,i,n,s){this.view=e,this.source=r,this.field=i,this.setHover=n,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,r=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(r==null)return;let i=this.view.coordsAtPos(r);if(i==null||e.y<i.top||e.y>i.bottom||e.x<i.left-this.view.defaultCharacterWidth||e.x>i.right+this.view.defaultCharacterWidth)return;let n=this.view.bidiSpans(this.view.state.doc.lineAt(r)).find(o=>o.from<=r&&o.to>=r),s=n&&n.dir==at.RTL?-1:1,a=this.source(this.view,r,e.x<i.left?-s:s);if(a!=null&&a.then){let o=this.pending={pos:r};a.then(l=>{this.pending==o&&(this.pending=null,l&&this.view.dispatch({effects:this.setHover.of(l)}))},l=>hr(this.view.state,l,"hover tooltip"))}else a&&this.view.dispatch({effects:this.setHover.of(a)})}mousemove(e){var r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!$1(this.lastMove.target)||this.pending){let{pos:n}=i||this.pending,s=(r=i==null?void 0:i.end)!==null&&r!==void 0?r:n;(n==s?this.view.posAtCoords(this.lastMove)!=n:!Qx(this.view,n,s,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!$1(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function $1(t){for(let e=t;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function Qx(t,e,r,i,n,s){let a=document.createRange(),o=t.domAtPos(e),l=t.domAtPos(r);a.setEnd(l.node,l.offset),a.setStart(o.node,o.offset);let u=a.getClientRects();a.detach();for(let c=0;c<u.length;c++){let h=u[c];if(Math.max(h.top-n,n-h.bottom,h.left-i,i-h.right)<=s)return!0}return!1}function Jx(t,e={}){let r=Ae.define(),i=Lt.define({create(){return null},update(n,s){if(n&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,n)))return null;if(n&&s.docChanged){let a=s.changes.mapPos(n.pos,-1,zt.TrackDel);if(a==null)return null;let o=Object.assign(Object.create(null),n);o.pos=a,n.end!=null&&(o.end=s.changes.mapPos(n.end)),n=o}for(let a of s.effects)a.is(r)&&(n=a.value),a.is(eS)&&(n=null);return n},provide:n=>No.from(n)});return[i,ft.define(n=>new jx(n,t,i,r,e.hoverTime||300)),Kx]}function Zx(t,e){let r=t.plugin(M4);if(!r)return null;let i=r.manager.tooltips.indexOf(e);return i<0?null:r.manager.tooltipViews[i]}const eS=Ae.define(),q1=oe.define({combine(t){let e,r;for(let i of t)e=e||i.topContainer,r=r||i.bottomContainer;return{topContainer:e,bottomContainer:r}}});function qs(t,e){let r=t.plugin(D4),i=r?r.specs.indexOf(e):-1;return i>-1?r.panels[i]:null}const D4=ft.fromClass(class{constructor(t){this.input=t.state.facet(Vs),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(t));let e=t.state.facet(q1);this.top=new Pa(t,!0,e.topContainer),this.bottom=new Pa(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(t){let e=t.state.facet(q1);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Pa(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Pa(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=t.state.facet(Vs);if(r!=this.input){let i=r.filter(l=>l),n=[],s=[],a=[],o=[];for(let l of i){let u=this.specs.indexOf(l),c;u<0?(c=l(t.view),o.push(c)):(c=this.panels[u],c.update&&c.update(t)),n.push(c),(c.top?s:a).push(c)}this.specs=i,this.panels=n,this.top.sync(s),this.bottom.sync(a);for(let l of o)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>le.scrollMargins.of(e=>{let r=e.plugin(t);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class Pa{constructor(e,r,i){this.view=e,this.top=r,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=V1(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=V1(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function V1(t){let e=t.nextSibling;return t.remove(),e}const Vs=oe.define({enables:D4});class mi extends un{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}mi.prototype.elementClass="";mi.prototype.toDOM=void 0;mi.prototype.mapMode=zt.TrackBefore;mi.prototype.startSide=mi.prototype.endSide=-1;mi.prototype.point=!0;const ro=oe.define(),tS={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>qe.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},ks=oe.define();function rS(t){return[R4(),ks.of(Object.assign(Object.assign({},tS),t))]}const Pu=oe.define({combine:t=>t.some(e=>e)});function R4(t){let e=[iS];return t&&t.fixed===!1&&e.push(Pu.of(!0)),e}const iS=ft.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(ks).map(e=>new Y1(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(Pu),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,r=t.view.viewport,i=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(i<(r.to-r.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Pu)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let r=qe.iter(this.view.state.facet(ro),this.view.viewport.from),i=[],n=this.gutters.map(s=>new nS(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks){let a;if(Array.isArray(s.type)){for(let o of s.type)if(o.type==Ge.Text){a=o;break}}else a=s.type==Ge.Text?s:void 0;if(a){i.length&&(i=[]),L4(r,i,s.from);for(let o of n)o.line(this.view,a,i)}}for(let s of n)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(ks),r=t.state.facet(ks),i=t.docChanged||t.heightChanged||t.viewportChanged||!qe.eq(t.startState.facet(ro),t.state.facet(ro),t.view.viewport.from,t.view.viewport.to);if(e==r)for(let n of this.gutters)n.update(t)&&(i=!0);else{i=!0;let n=[];for(let s of r){let a=e.indexOf(s);a<0?n.push(new Y1(this.view,s)):(this.gutters[a].update(t),n.push(this.gutters[a]))}for(let s of this.gutters)s.dom.remove(),n.indexOf(s)<0&&s.destroy();for(let s of n)this.dom.appendChild(s.dom);this.gutters=n}return i}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>le.scrollMargins.of(e=>{let r=e.plugin(t);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==at.LTR?{left:r.dom.offsetWidth}:{right:r.dom.offsetWidth}})});function W1(t){return Array.isArray(t)?t:[t]}function L4(t,e,r){for(;t.value&&t.from<=r;)t.from==r&&e.push(t.value),t.next()}class nS{constructor(e,r,i){this.gutter=e,this.height=i,this.i=0,this.cursor=qe.iter(e.markers,r.from)}line(e,r,i){let n=[];L4(this.cursor,n,r.from),i.length&&(n=n.concat(i));let s=this.gutter.config.lineMarker(e,r,n);s&&n.unshift(s);let a=this.gutter;if(n.length==0&&!a.config.renderEmptyElements)return;let o=r.top-this.height;if(this.i==a.elements.length){let l=new P4(e,r.height,o,n);a.elements.push(l),a.dom.appendChild(l.dom)}else a.elements[this.i].update(e,r.height,o,n);this.height=r.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class Y1{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in r.domEventHandlers)this.dom.addEventListener(i,n=>{let s=n.target,a;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();a=(l.top+l.bottom)/2}else a=n.clientY;let o=e.lineBlockAtHeight(a-e.documentTop);r.domEventHandlers[i](e,o,n)&&n.preventDefault()});this.markers=W1(r.markers(e)),r.initialSpacer&&(this.spacer=new P4(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=W1(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}let i=e.view.viewport;return!qe.eq(this.markers,r,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class P4{constructor(e,r,i,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,i,n)}update(e,r,i,n){this.height!=r&&(this.dom.style.height=(this.height=r)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),sS(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,r){let i="cm-gutterElement",n=this.dom.firstChild;for(let s=0,a=0;;){let o=a,l=s<r.length?r[s++]:null,u=!1;if(l){let c=l.elementClass;c&&(i+=" "+c);for(let h=a;h<this.markers.length;h++)if(this.markers[h].compare(l)){o=h,u=!0;break}}else o=this.markers.length;for(;a<o;){let c=this.markers[a++];if(c.toDOM){c.destroy(n);let h=n.nextSibling;n.remove(),n=h}}if(!l)break;l.toDOM&&(u?n=n.nextSibling:this.dom.insertBefore(l.toDOM(e),n)),u&&a++}this.dom.className=i,this.markers=r}destroy(){this.setMarkers(null,[])}}function sS(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].compare(e[r]))return!1;return!0}const aS=oe.define(),wn=oe.define({combine(t){return Jr(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let i=Object.assign({},e);for(let n in r){let s=i[n],a=r[n];i[n]=s?(o,l,u)=>s(o,l,u)||a(o,l,u):a}return i}})}});class T0 extends mi{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function v0(t,e){return t.state.facet(wn).formatNumber(e,t.state)}const oS=ks.compute([wn],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(aS)},lineMarker(e,r,i){return i.some(n=>n.toDOM)?null:new T0(v0(e,e.state.doc.lineAt(r.from).number))},lineMarkerChange:e=>e.startState.facet(wn)!=e.state.facet(wn),initialSpacer(e){return new T0(v0(e,G1(e.state.doc.lines)))},updateSpacer(e,r){let i=v0(r.view,G1(r.view.state.doc.lines));return i==e.number?e:new T0(i)},domEventHandlers:t.facet(wn).domEventHandlers}));function lS(t={}){return[wn.of(t),R4(),oS]}function G1(t){let e=9;for(;e<t;)e=e*10+9;return e}const uS=new class extends mi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},cS=ro.compute(["selection"],t=>{let e=[],r=-1;for(let i of t.selection.ranges){let n=t.doc.lineAt(i.head).from;n>r&&(r=n,e.push(uS.range(n)))}return qe.of(e)});function hS(){return cS}const B4=1024;let fS=0;class E0{constructor(e,r){this.from=e,this.to=r}}class Ce{constructor(e={}){this.id=fS++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ir.match(e)),r=>{let i=e(r);return i===void 0?null:[this,i]}}}Ce.closedBy=new Ce({deserialize:t=>t.split(" ")});Ce.openedBy=new Ce({deserialize:t=>t.split(" ")});Ce.group=new Ce({deserialize:t=>t.split(" ")});Ce.contextHash=new Ce({perNode:!0});Ce.lookAhead=new Ce({perNode:!0});Ce.mounted=new Ce({perNode:!0});const dS=Object.create(null);class ir{constructor(e,r,i,n=0){this.name=e,this.props=r,this.id=i,this.flags=n}static define(e){let r=e.props&&e.props.length?Object.create(null):dS,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new ir(e.name||"",r,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(Ce.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let i in e)for(let n of i.split(" "))r[n]=e[i];return i=>{for(let n=i.prop(Ce.group),s=-1;s<(n?n.length:0);s++){let a=r[s<0?i.name:n[s]];if(a)return a}}}}ir.none=new ir("",Object.create(null),0,8);class th{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let i of this.types){let n=null;for(let s of e){let a=s(i);a&&(n||(n=Object.assign({},i.props)),n[a[0].id]=a[1])}r.push(n?new ir(i.name,n,i.id,i.flags):i)}return new th(r)}}const Ba=new WeakMap,X1=new WeakMap;var Dt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Dt||(Dt={}));class mt{constructor(e,r,i,n,s){if(this.type=e,this.children=r,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[a,o]of s)this.props[typeof a=="number"?a:a.id]=o}}toString(){let e=this.prop(Ce.mounted);if(e&&!e.overlay)return e.tree.toString();let r="";for(let i of this.children){let n=i.toString();n&&(r&&(r+=","),r+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new Do(this.topNode,e)}cursorAt(e,r=0,i=0){let n=Ba.get(this)||this.topNode,s=new Do(n);return s.moveTo(e,r),Ba.set(this,s._tree),s}get topNode(){return new ui(this,0,0,null)}resolve(e,r=0){let i=Vn(Ba.get(this)||this.topNode,e,r,!1);return Ba.set(this,i),i}resolveInner(e,r=0){let i=Vn(X1.get(this)||this.topNode,e,r,!0);return X1.set(this,i),i}iterate(e){let{enter:r,leave:i,from:n=0,to:s=this.length}=e;for(let a=this.cursor((e.mode||0)|Dt.IncludeAnonymous);;){let o=!1;if(a.from<=s&&a.to>=n&&(a.type.isAnonymous||r(a)!==!1)){if(a.firstChild())continue;o=!0}for(;o&&i&&!a.type.isAnonymous&&i(a),!a.nextSibling();){if(!a.parent())return;o=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:nh(ir.none,this.children,this.positions,0,this.children.length,0,this.length,(r,i,n)=>new mt(this.type,r,i,n,this.propValues),e.makeTree||((r,i,n)=>new mt(ir.none,r,i,n)))}static build(e){return pS(e)}}mt.empty=new mt(ir.none,[],[],0);class rh{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new rh(this.buffer,this.index)}}class gn{constructor(e,r,i){this.buffer=e,this.length=r,this.set=i}get type(){return ir.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],i=this.buffer[e+3],n=this.set.types[r],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let a=[];for(;e<i;)a.push(this.childString(e)),e=this.buffer[e+3];return s+"("+a.join(",")+")"}findChild(e,r,i,n,s){let{buffer:a}=this,o=-1;for(let l=e;l!=r&&!(F4(s,n,a[l+1],a[l+2])&&(o=l,i>0));l=a[l+3]);return o}slice(e,r,i){let n=this.buffer,s=new Uint16Array(r-e),a=0;for(let o=e,l=0;o<r;){s[l++]=n[o++],s[l++]=n[o++]-i;let u=s[l++]=n[o++]-i;s[l++]=n[o++]-e,a=Math.max(a,u)}return new gn(s,a,this.set)}}function F4(t,e,r,i){switch(t){case-2:return r<e;case-1:return i>=e&&r<e;case 0:return r<e&&i>e;case 1:return r<=e&&i>e;case 2:return i>e;case 4:return!0}}function H4(t,e){let r=t.childBefore(e);for(;r;){let i=r.lastChild;if(!i||i.to!=r.to)break;i.type.isError&&i.from==i.to?(t=r,r=i.prevSibling):r=i}return t}function Vn(t,e,r,i){for(var n;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let a=!i&&t instanceof ui&&t.index<0?null:t.parent;if(!a)return t;t=a}let s=i?0:Dt.IgnoreOverlays;if(i)for(let a=t,o=a.parent;o;a=o,o=a.parent)a instanceof ui&&a.index<0&&((n=o.enter(e,r,s))===null||n===void 0?void 0:n.from)!=a.from&&(t=o);for(;;){let a=t.enter(e,r,s);if(!a)return t;t=a}}class ui{constructor(e,r,i,n){this._tree=e,this.from=r,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,i,n,s=0){for(let a=this;;){for(let{children:o,positions:l}=a._tree,u=r>0?o.length:-1;e!=u;e+=r){let c=o[e],h=l[e]+a.from;if(F4(n,i,h,h+c.length)){if(c instanceof gn){if(s&Dt.ExcludeBuffers)continue;let m=c.findChild(0,c.buffer.length,r,i-h,n);if(m>-1)return new Ni(new mS(a,c,e,h),null,m)}else if(s&Dt.IncludeAnonymous||!c.type.isAnonymous||ih(c)){let m;if(!(s&Dt.IgnoreMounts)&&c.props&&(m=c.prop(Ce.mounted))&&!m.overlay)return new ui(m.tree,h,e,a);let p=new ui(c,h,e,a);return s&Dt.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(r<0?c.children.length-1:0,r,i,n)}}}if(s&Dt.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+r:e=r<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,i=0){let n;if(!(i&Dt.IgnoreOverlays)&&(n=this._tree.prop(Ce.mounted))&&n.overlay){let s=e-this.from;for(let{from:a,to:o}of n.overlay)if((r>0?a<=s:a<s)&&(r<0?o>=s:o>s))return new ui(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Do(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,r=0){return Vn(this,e,r,!1)}resolveInner(e,r=0){return Vn(this,e,r,!0)}enterUnfinishedNodesBefore(e){return H4(this,e)}getChild(e,r=null,i=null){let n=Io(this,e,r,i);return n.length?n[0]:null}getChildren(e,r=null,i=null){return Io(this,e,r,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Mo(this,e)}}function Io(t,e,r,i){let n=t.cursor(),s=[];if(!n.firstChild())return s;if(r!=null){for(;!n.type.is(r);)if(!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function Mo(t,e,r=e.length-1){for(let i=t.parent;r>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[r]&&e[r]!=i.name)return!1;r--}}return!0}class mS{constructor(e,r,i,n){this.parent=e,this.buffer=r,this.index=i,this.start=n}}class Ni{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,i){this.context=e,this._parent=r,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,r,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,r-this.context.start,i);return s<0?null:new Ni(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,i=0){if(i&Dt.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return s<0?null:new Ni(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ni(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new Ni(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}cursor(e=0){return new Do(this,e)}get tree(){return null}toTree(){let e=[],r=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let a=i.buffer[this.index+1];e.push(i.slice(n,s,a)),r.push(0)}return new mt(this.type,e,r,this.to-this.from)}resolve(e,r=0){return Vn(this,e,r,!1)}resolveInner(e,r=0){return Vn(this,e,r,!0)}enterUnfinishedNodesBefore(e){return H4(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,r=null,i=null){let n=Io(this,e,r,i);return n.length?n[0]:null}getChildren(e,r=null,i=null){return Io(this,e,r,i)}get node(){return this}matchContext(e){return Mo(this,e)}}class Do{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ui)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=r||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof ui?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,r-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,i=this.mode){return this.buffer?i&Dt.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Dt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Dt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(r.findChild(n,this.index,-1,0,4))}else{let n=r.buffer[this.index+3];if(n<(i<0?r.buffer.length:r.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:r,parent:i}=n)}else({index:r,_parent:i}=this._tree);for(;i;{index:r,_parent:i}=i)if(r>-1)for(let s=r+e,a=e<0?-1:i._tree.children.length;s!=a;s+=e){let o=i._tree.children[s];if(this.mode&Dt.IncludeAnonymous||o instanceof gn||!o.type.isAnonymous||ih(o))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,i=0;if(e&&e.context==this.buffer){e:for(let n=this.index,s=this.stack.length;s>=0;){for(let a=e;a;a=a._parent)if(a.index==n){if(n==this.index)return a;r=a,i=s+1;break e}n=this.stack[--s]}}for(let n=i;n<this.stack.length;n++)r=new Ni(this.buffer,r,this.stack[n]);return this.bufferNode=new Ni(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;n&&r&&r(this),n=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return Mo(this.node,e);let{buffer:r}=this.buffer,{types:i}=r.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return Mo(this.node,e,n);let a=i[r.buffer[this.stack[s]]];if(!a.isAnonymous){if(e[n]&&e[n]!=a.name)return!1;n--}}return!0}}function ih(t){return t.children.some(e=>e instanceof gn||!e.type.isAnonymous||ih(e))}function pS(t){var e;let{buffer:r,nodeSet:i,maxBufferLength:n=B4,reused:s=[],minRepeatType:a=i.types.length}=t,o=Array.isArray(r)?new rh(r,r.length):r,l=i.types,u=0,c=0;function h(P,N,$,_,B){let{id:z,start:M,end:ne,size:Ee}=o,We=c;for(;Ee<0;)if(o.next(),Ee==-1){let Ue=s[z];$.push(Ue),_.push(M-P);return}else if(Ee==-3){u=z;return}else if(Ee==-4){c=z;return}else throw new RangeError(`Unrecognized record size: ${Ee}`);let De=l[z],Re,Ye,se=M-P;if(ne-M<=n&&(Ye=A(o.pos-N,B))){let Ue=new Uint16Array(Ye.size-Ye.skip),Be=o.pos-Ye.size,ze=Ue.length;for(;o.pos>Be;)ze=x(Ye.start,Ue,ze);Re=new gn(Ue,ne-Ye.start,i),se=Ye.start-P}else{let Ue=o.pos-Ee;o.next();let Be=[],ze=[],At=z>=a?z:-1,ut=0,mr=ne;for(;o.pos>Ue;)At>=0&&o.id==At&&o.size>=0?(o.end<=mr-n&&(p(Be,ze,M,ut,o.end,mr,At,We),ut=Be.length,mr=o.end),o.next()):h(M,Ue,Be,ze,At);if(At>=0&&ut>0&&ut<Be.length&&p(Be,ze,M,ut,M,mr,At,We),Be.reverse(),ze.reverse(),At>-1&&ut>0){let ei=m(De);Re=nh(De,Be,ze,0,Be.length,0,ne-M,ei,ei)}else Re=b(De,Be,ze,ne-M,We-ne)}$.push(Re),_.push(se)}function m(P){return(N,$,_)=>{let B=0,z=N.length-1,M,ne;if(z>=0&&(M=N[z])instanceof mt){if(!z&&M.type==P&&M.length==_)return M;(ne=M.prop(Ce.lookAhead))&&(B=$[z]+M.length+ne)}return b(P,N,$,_,B)}}function p(P,N,$,_,B,z,M,ne){let Ee=[],We=[];for(;P.length>_;)Ee.push(P.pop()),We.push(N.pop()+$-B);P.push(b(i.types[M],Ee,We,z-B,ne-z)),N.push(B-$)}function b(P,N,$,_,B=0,z){if(u){let M=[Ce.contextHash,u];z=z?[M].concat(z):[M]}if(B>25){let M=[Ce.lookAhead,B];z=z?[M].concat(z):[M]}return new mt(P,N,$,_,z)}function A(P,N){let $=o.fork(),_=0,B=0,z=0,M=$.end-n,ne={size:0,start:0,skip:0};e:for(let Ee=$.pos-P;$.pos>Ee;){let We=$.size;if($.id==N&&We>=0){ne.size=_,ne.start=B,ne.skip=z,z+=4,_+=4,$.next();continue}let De=$.pos-We;if(We<0||De<Ee||$.start<M)break;let Re=$.id>=a?4:0,Ye=$.start;for($.next();$.pos>De;){if($.size<0)if($.size==-3)Re+=4;else break e;else $.id>=a&&(Re+=4);$.next()}B=Ye,_+=We,z+=Re}return(N<0||_==P)&&(ne.size=_,ne.start=B,ne.skip=z),ne.size>4?ne:void 0}function x(P,N,$){let{id:_,start:B,end:z,size:M}=o;if(o.next(),M>=0&&_<a){let ne=$;if(M>4){let Ee=o.pos-(M-4);for(;o.pos>Ee;)$=x(P,N,$)}N[--$]=ne,N[--$]=z-P,N[--$]=B-P,N[--$]=_}else M==-3?u=_:M==-4&&(c=_);return $}let S=[],R=[];for(;o.pos>0;)h(t.start||0,t.bufferStart||0,S,R,-1);let I=(e=t.length)!==null&&e!==void 0?e:S.length?R[0]+S[0].length:0;return new mt(l[t.topID],S.reverse(),R.reverse(),I)}const K1=new WeakMap;function io(t,e){if(!t.isAnonymous||e instanceof gn||e.type!=t)return 1;let r=K1.get(e);if(r==null){r=1;for(let i of e.children){if(i.type!=t||!(i instanceof mt)){r=1;break}r+=io(t,i)}K1.set(e,r)}return r}function nh(t,e,r,i,n,s,a,o,l){let u=0;for(let b=i;b<n;b++)u+=io(t,e[b]);let c=Math.ceil(u*1.5/8),h=[],m=[];function p(b,A,x,S,R){for(let I=x;I<S;){let P=I,N=A[I],$=io(t,b[I]);for(I++;I<S;I++){let _=io(t,b[I]);if($+_>=c)break;$+=_}if(I==P+1){if($>c){let _=b[P];p(_.children,_.positions,0,_.children.length,A[P]+R);continue}h.push(b[P])}else{let _=A[I-1]+b[I-1].length-N;h.push(nh(t,b,A,P,I,N,_,null,l))}m.push(N+R-s)}}return p(e,r,i,n,0),(o||l)(h,m,a)}class an{constructor(e,r,i,n,s=!1,a=!1){this.from=e,this.to=r,this.tree=i,this.offset=n,this.open=(s?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],i=!1){let n=[new an(0,e.length,e,0,!1,i)];for(let s of r)s.to>e.length&&n.push(s);return n}static applyChanges(e,r,i=128){if(!r.length)return e;let n=[],s=1,a=e.length?e[0]:null;for(let o=0,l=0,u=0;;o++){let c=o<r.length?r[o]:null,h=c?c.fromA:1e9;if(h-l>=i)for(;a&&a.from<h;){let m=a;if(l>=m.from||h<=m.to||u){let p=Math.max(m.from,l)-u,b=Math.min(m.to,h)-u;m=p>=b?null:new an(p,b,m.tree,m.offset+u,o>0,!!c)}if(m&&n.push(m),a.to>h)break;a=s<e.length?e[s++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return n}}class U4{startParse(e,r,i){return typeof e=="string"&&(e=new gS(e)),i=i?i.length?i.map(n=>new E0(n.from,n.to)):[new E0(0,0)]:[new E0(0,e.length)],this.createParse(e,r||[],i)}parse(e,r,i){let n=this.startParse(e,r,i);for(;;){let s=n.advance();if(s)return s}}}class gS{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}new Ce({perNode:!0});let bS=0;class Br{constructor(e,r,i){this.set=e,this.base=r,this.modified=i,this.id=bS++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let r=new Br([],null,[]);if(r.set.push(r),e)for(let i of e.set)r.set.push(i);return r}static defineModifier(){let e=new Ro;return r=>r.modified.indexOf(e)>-1?r:Ro.get(r.base||r,r.modified.concat(e).sort((i,n)=>i.id-n.id))}}let TS=0;class Ro{constructor(){this.instances=[],this.id=TS++}static get(e,r){if(!r.length)return e;let i=r[0].instances.find(o=>o.base==e&&vS(r,o.modified));if(i)return i;let n=[],s=new Br(n,e,r);for(let o of r)o.instances.push(s);let a=ES(r);for(let o of e.set)if(!o.modified.length)for(let l of a)n.push(Ro.get(o,l));return s}}function vS(t,e){return t.length==e.length&&t.every((r,i)=>r==e[i])}function ES(t){let e=[[]];for(let r=0;r<t.length;r++)for(let i=0,n=e.length;i<n;i++)e.push(e[i].concat(t[r]));return e.sort((r,i)=>i.length-r.length)}function z4(t){let e=Object.create(null);for(let r in t){let i=t[r];Array.isArray(i)||(i=[i]);for(let n of r.split(" "))if(n){let s=[],a=2,o=n;for(let h=0;;){if(o=="..."&&h>0&&h+3==n.length){a=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!m)throw new RangeError("Invalid path: "+n);if(s.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),h+=m[0].length,h==n.length)break;let p=n[h++];if(h==n.length&&p=="!"){a=0;break}if(p!="/")throw new RangeError("Invalid path: "+n);o=n.slice(h)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+n);let c=new Lo(i,a,l>0?s.slice(0,l):null);e[u]=c.sort(e[u])}}return $4.add(e)}const $4=new Ce;class Lo{constructor(e,r,i,n){this.tags=e,this.mode=r,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Lo.empty=new Lo([],2,null);function q4(t,e){let r=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))r[s.tag.id]=s.class;else for(let a of s.tag)r[a.id]=s.class;let{scope:i,all:n=null}=e||{};return{style:s=>{let a=n;for(let o of s)for(let l of o.set){let u=r[l.id];if(u){a=a?a+" "+u:u;break}}return a},scope:i}}function yS(t,e){let r=null;for(let i of t){let n=i.style(e);n&&(r=r?r+" "+n:n)}return r}function AS(t,e,r,i=0,n=t.length){let s=new xS(i,Array.isArray(e)?e:[e],r);s.highlightRange(t.cursor(),i,n,"",s.highlighters),s.flush(n)}class xS{constructor(e,r,i){this.at=e,this.highlighters=r,this.span=i,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,i,n,s){let{type:a,from:o,to:l}=e;if(o>=i||l<=r)return;a.isTop&&(s=this.highlighters.filter(p=>!p.scope||p.scope(a)));let u=n,c=SS(e)||Lo.empty,h=yS(s,c.tags);if(h&&(u&&(u+=" "),u+=h,c.mode==1&&(n+=(n?" ":"")+h)),this.startSpan(e.from,u),c.opaque)return;let m=e.tree&&e.tree.prop(Ce.mounted);if(m&&m.overlay){let p=e.node.enter(m.overlay[0].from+o,1),b=this.highlighters.filter(x=>!x.scope||x.scope(m.tree.type)),A=e.firstChild();for(let x=0,S=o;;x++){let R=x<m.overlay.length?m.overlay[x]:null,I=R?R.from+o:l,P=Math.max(r,S),N=Math.min(i,I);if(P<N&&A)for(;e.from<N&&(this.highlightRange(e,P,N,n,s),this.startSpan(Math.min(N,e.to),u),!(e.to>=I||!e.nextSibling())););if(!R||I>i)break;S=R.to+o,S>r&&(this.highlightRange(p.cursor(),Math.max(r,R.from+o),Math.min(i,S),n,b),this.startSpan(S,u))}A&&e.parent()}else if(e.firstChild()){do if(!(e.to<=r)){if(e.from>=i)break;this.highlightRange(e,r,i,n,s),this.startSpan(Math.min(i,e.to),u)}while(e.nextSibling());e.parent()}}}function SS(t){let e=t.type.prop($4);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ee=Br.define,Fa=ee(),xi=ee(),j1=ee(xi),Q1=ee(xi),Si=ee(),Ha=ee(Si),y0=ee(Si),Lr=ee(),ji=ee(Lr),Dr=ee(),Rr=ee(),Bu=ee(),as=ee(Bu),Ua=ee(),Q={comment:Fa,lineComment:ee(Fa),blockComment:ee(Fa),docComment:ee(Fa),name:xi,variableName:ee(xi),typeName:j1,tagName:ee(j1),propertyName:Q1,attributeName:ee(Q1),className:ee(xi),labelName:ee(xi),namespace:ee(xi),macroName:ee(xi),literal:Si,string:Ha,docString:ee(Ha),character:ee(Ha),attributeValue:ee(Ha),number:y0,integer:ee(y0),float:ee(y0),bool:ee(Si),regexp:ee(Si),escape:ee(Si),color:ee(Si),url:ee(Si),keyword:Dr,self:ee(Dr),null:ee(Dr),atom:ee(Dr),unit:ee(Dr),modifier:ee(Dr),operatorKeyword:ee(Dr),controlKeyword:ee(Dr),definitionKeyword:ee(Dr),moduleKeyword:ee(Dr),operator:Rr,derefOperator:ee(Rr),arithmeticOperator:ee(Rr),logicOperator:ee(Rr),bitwiseOperator:ee(Rr),compareOperator:ee(Rr),updateOperator:ee(Rr),definitionOperator:ee(Rr),typeOperator:ee(Rr),controlOperator:ee(Rr),punctuation:Bu,separator:ee(Bu),bracket:as,angleBracket:ee(as),squareBracket:ee(as),paren:ee(as),brace:ee(as),content:Lr,heading:ji,heading1:ee(ji),heading2:ee(ji),heading3:ee(ji),heading4:ee(ji),heading5:ee(ji),heading6:ee(ji),contentSeparator:ee(Lr),list:ee(Lr),quote:ee(Lr),emphasis:ee(Lr),strong:ee(Lr),link:ee(Lr),monospace:ee(Lr),strikethrough:ee(Lr),inserted:ee(),deleted:ee(),changed:ee(),invalid:ee(),meta:Ua,documentMeta:ee(Ua),annotation:ee(Ua),processingInstruction:ee(Ua),definition:Br.defineModifier(),constant:Br.defineModifier(),function:Br.defineModifier(),standard:Br.defineModifier(),local:Br.defineModifier(),special:Br.defineModifier()};q4([{tag:Q.link,class:"tok-link"},{tag:Q.heading,class:"tok-heading"},{tag:Q.emphasis,class:"tok-emphasis"},{tag:Q.strong,class:"tok-strong"},{tag:Q.keyword,class:"tok-keyword"},{tag:Q.atom,class:"tok-atom"},{tag:Q.bool,class:"tok-bool"},{tag:Q.url,class:"tok-url"},{tag:Q.labelName,class:"tok-labelName"},{tag:Q.inserted,class:"tok-inserted"},{tag:Q.deleted,class:"tok-deleted"},{tag:Q.literal,class:"tok-literal"},{tag:Q.string,class:"tok-string"},{tag:Q.number,class:"tok-number"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],class:"tok-string2"},{tag:Q.variableName,class:"tok-variableName"},{tag:Q.local(Q.variableName),class:"tok-variableName tok-local"},{tag:Q.definition(Q.variableName),class:"tok-variableName tok-definition"},{tag:Q.special(Q.variableName),class:"tok-variableName2"},{tag:Q.definition(Q.propertyName),class:"tok-propertyName tok-definition"},{tag:Q.typeName,class:"tok-typeName"},{tag:Q.namespace,class:"tok-namespace"},{tag:Q.className,class:"tok-className"},{tag:Q.macroName,class:"tok-macroName"},{tag:Q.propertyName,class:"tok-propertyName"},{tag:Q.operator,class:"tok-operator"},{tag:Q.comment,class:"tok-comment"},{tag:Q.meta,class:"tok-meta"},{tag:Q.invalid,class:"tok-invalid"},{tag:Q.punctuation,class:"tok-punctuation"}]);var A0;const Cn=new Ce;function wS(t){return oe.define({combine:t?e=>e.concat(t):void 0})}const CS=new Ce;class Or{constructor(e,r,i=[],n=""){this.data=e,this.name=n,Ie.prototype.hasOwnProperty("tree")||Object.defineProperty(Ie.prototype,"tree",{get(){return Rt(this)}}),this.parser=r,this.extension=[qi.of(this),Ie.languageData.of((s,a,o)=>{let l=J1(s,a,o),u=l.type.prop(Cn);if(!u)return[];let c=s.facet(u),h=l.type.prop(CS);if(h){let m=l.resolve(a-l.from,o);for(let p of h)if(p.test(m,s)){let b=s.facet(p.facet);return p.type=="replace"?b:b.concat(c)}}return c})].concat(i)}isActiveAt(e,r,i=-1){return J1(e,r,i).type.prop(Cn)==this.data}findRegions(e){let r=e.facet(qi);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let i=[],n=(s,a)=>{if(s.prop(Cn)==this.data){i.push({from:a,to:a+s.length});return}let o=s.prop(Ce.mounted);if(o){if(o.tree.prop(Cn)==this.data){if(o.overlay)for(let l of o.overlay)i.push({from:l.from+a,to:l.to+a});else i.push({from:a,to:a+s.length});return}else if(o.overlay){let l=i.length;if(n(o.tree,o.overlay[0].from+a),i.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof mt&&n(u,s.positions[l]+a)}};return n(Rt(e),0),i}get allowsNesting(){return!0}}Or.setState=Ae.define();function J1(t,e,r){let i=t.facet(qi),n=Rt(t).topNode;if(!i||i.allowsNesting)for(let s=n;s;s=s.enter(e,r,Dt.ExcludeBuffers))s.type.isTop&&(n=s);return n}class Po extends Or{constructor(e,r,i){super(e,r,[],i),this.parser=r}static define(e){let r=wS(e.languageData);return new Po(r,e.parser.configure({props:[Cn.add(i=>i.isTop?r:void 0)]}),e.name)}configure(e,r){return new Po(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Rt(t){let e=t.field(Or.state,!1);return e?e.tree:mt.empty}class kS{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let i=this.cursorPos-this.string.length;return e<i||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-i,r-i)}}let os=null;class Bo{constructor(e,r,i=[],n,s,a,o,l){this.parser=e,this.state=r,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=a,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,r,i){return new Bo(e,r,[],mt.empty,0,i,[],null)}startParse(){return this.parser.startParse(new kS(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=mt.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let n=Date.now()+e;e=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(an.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(an.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=os;os=this;try{return e()}finally{os=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=Z1(e,r.from,r.to);return e}changes(e,r){let{fragments:i,tree:n,treeLen:s,viewport:a,skipped:o}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,h,m)=>l.push({fromA:u,toA:c,fromB:h,toB:m})),i=an.applyChanges(i,l),n=mt.empty,s=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){o=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);c<h&&o.push({from:c,to:h})}}}return new Bo(this.parser,r,i,n,s,a,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:n,to:s}=this.skipped[i];n<e.to&&s>e.from&&(this.fragments=Z1(this.fragments,n,s),this.skipped.splice(i--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends U4{createParse(r,i,n){let s=n[0].from,a=n[n.length-1].to;return{parsedPos:s,advance(){let l=os;if(l){for(let u of n)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=a,new mt(ir.none,[],[],a-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return os}}function Z1(t,e,r){return an.applyChanges(t,[{fromA:e,toA:r,fromB:e,toB:r}])}class Wn{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,i)||r.takeTree(),new Wn(r)}static init(e){let r=Math.min(3e3,e.doc.length),i=Bo.create(e.facet(qi).parser,e,{from:0,to:r});return i.work(20,r)||i.takeTree(),new Wn(i)}}Or.state=Lt.define({create:Wn.init,update(t,e){for(let r of e.effects)if(r.is(Or.setState))return r.value;return e.startState.facet(qi)!=e.state.facet(qi)?Wn.init(e.state):t.apply(e)}});let V4=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(V4=t=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const x0=typeof navigator<"u"&&(!((A0=navigator.scheduling)===null||A0===void 0)&&A0.isInputPending)?()=>navigator.scheduling.isInputPending():null,_S=ft.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(Or.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(Or.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=V4(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(Or.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!x0?Math.max(25,e.timeRemaining()-5):1e9),o=s.context.treeLen<n&&i.doc.length>n+1e3,l=s.context.work(()=>x0&&x0()||Date.now()>a,n+(o?0:1e5));this.chunkBudget-=Date.now()-r,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Or.setState.of(new Wn(s.context))})),this.chunkBudget>0&&!(l&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>hr(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),qi=oe.define({combine(t){return t.length?t[0]:null},enables:t=>[Or.state,_S,le.contentAttributes.compute([t],e=>{let r=e.facet(t);return r&&r.name?{"data-language":r.name}:{}})]});class OS{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}const NS=oe.define(),Sl=oe.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Fo(t){let e=t.facet(Sl);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Ws(t,e){let r="",i=t.tabSize,n=t.facet(Sl)[0];if(n=="	"){for(;e>=i;)r+="	",e-=i;n=" "}for(let s=0;s<e;s++)r+=n;return r}function sh(t,e){t instanceof Ie&&(t=new wl(t));for(let i of t.state.facet(NS)){let n=i(t,e);if(n!==void 0)return n}let r=Rt(t.state);return r?IS(t,r,e):null}class wl{constructor(e,r={}){this.state=e,this.options=r,this.unit=Fo(e)}lineAt(e,r=1){let i=this.state.doc.lineAt(e),{simulateBreak:n,simulateDoubleBreak:s}=this.options;return n!=null&&n>=i.from&&n<=i.to?s&&n==e?{text:"",from:e}:(r<0?n<e:n<=e)?{text:i.text.slice(n-i.from),from:n}:{text:i.text.slice(0,n-i.from),from:i.from}:i}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:n}=this.lineAt(e,r);return i.slice(e-n,Math.min(i.length,e+100-n))}column(e,r=1){let{text:i,from:n}=this.lineAt(e,r),s=this.countColumn(i,e-n),a=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return a>-1&&(s+=a-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,r=e.length){return ra(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:i,from:n}=this.lineAt(e,r),s=this.options.overrideIndentation;if(s){let a=s(n);if(a>-1)return a}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const W4=new Ce;function IS(t,e,r){return Y4(e.resolveInner(r).enterUnfinishedNodesBefore(r),r,t)}function MS(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function DS(t){let e=t.type.prop(W4);if(e)return e;let r=t.firstChild,i;if(r&&(i=r.type.prop(Ce.closedBy))){let n=t.lastChild,s=n&&i.indexOf(n.name)>-1;return a=>BS(a,!0,1,void 0,s&&!MS(a)?n.from:void 0)}return t.parent==null?RS:null}function Y4(t,e,r){for(;t;t=t.parent){let i=DS(t);if(i)return i(ah.create(r,e,t))}return null}function RS(){return 0}class ah extends wl{constructor(e,r,i){super(e.state,e.options),this.base=e,this.pos=r,this.node=i}static create(e,r,i){return new ah(e,r,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let r=this.node.resolve(e.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(LS(r,this.node))break;e=this.state.doc.lineAt(r.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?Y4(e,this.pos,this.base):0}}function LS(t,e){for(let r=e;r;r=r.parent)if(t==r)return!0;return!1}function PS(t){let e=t.node,r=e.childAfter(e.from),i=e.lastChild;if(!r)return null;let n=t.options.simulateBreak,s=t.state.doc.lineAt(r.from),a=n==null||n<=s.from?s.to:Math.min(s.to,n);for(let o=r.to;;){let l=e.childAfter(o);if(!l||l==i)return null;if(!l.type.isSkipped)return l.from<a?r:null;o=l.to}}function BS(t,e,r,i,n){let s=t.textAfter,a=s.match(/^\s*/)[0].length,o=i&&s.slice(a,a+i.length)==i||n==t.pos+a,l=e?PS(t):null;return l?o?t.column(l.from):t.column(l.to):t.baseIndent+(o?0:t.unit*r)}const FS=200;function HS(){return Ie.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let r=t.newDoc,{head:i}=t.newSelection.main,n=r.lineAt(i);if(i>n.from+FS)return t;let s=r.sliceString(n.from,i);if(!e.some(u=>u.test(s)))return t;let{state:a}=t,o=-1,l=[];for(let{head:u}of a.selection.ranges){let c=a.doc.lineAt(u);if(c.from==o)continue;o=c.from;let h=sh(a,c.from);if(h==null)continue;let m=/^\s*/.exec(c.text)[0],p=Ws(a,h);m!=p&&l.push({from:c.from,to:c.from+m.length,insert:p})}return l.length?[t,{changes:l,sequential:!0}]:t})}const US=oe.define(),G4=new Ce;function zS(t,e,r){let i=Rt(t);if(i.length<r)return null;let n=i.resolveInner(r,1),s=null;for(let a=n;a;a=a.parent){if(a.to<=r||a.from>r)continue;if(s&&a.from<e)break;let o=a.type.prop(G4);if(o&&(a.to<i.length-50||i.length==t.doc.length||!$S(a))){let l=o(a,t);l&&l.from<=r&&l.from>=e&&l.to>r&&(s=l)}}return s}function $S(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Ho(t,e,r){for(let i of t.facet(US)){let n=i(t,e,r);if(n)return n}return zS(t,e,r)}function X4(t,e){let r=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);return r>=i?void 0:{from:r,to:i}}const Cl=Ae.define({map:X4}),sa=Ae.define({map:X4});function K4(t){let e=[];for(let{head:r}of t.state.selection.ranges)e.some(i=>i.from<=r&&i.to>=r)||e.push(t.lineBlockAt(r));return e}const hn=Lt.define({create(){return ue.none},update(t,e){t=t.map(e.changes);for(let r of e.effects)r.is(Cl)&&!qS(t,r.value.from,r.value.to)?t=t.update({add:[em.range(r.value.from,r.value.to)]}):r.is(sa)&&(t=t.update({filter:(i,n)=>r.value.from!=i||r.value.to!=n,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:i}=e.selection.main;t.between(i,i,(n,s)=>{n<i&&s>i&&(r=!0)}),r&&(t=t.update({filterFrom:i,filterTo:i,filter:(n,s)=>s<=i||n>=i}))}return t},provide:t=>le.decorations.from(t),toJSON(t,e){let r=[];return t.between(0,e.doc.length,(i,n)=>{r.push(i,n)}),r},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<t.length;){let i=t[r++],n=t[r++];if(typeof i!="number"||typeof n!="number")throw new RangeError("Invalid JSON for fold state");e.push(em.range(i,n))}return ue.set(e,!0)}});function Uo(t,e,r){var i;let n=null;return(i=t.field(hn,!1))===null||i===void 0||i.between(e,r,(s,a)=>{(!n||n.from>s)&&(n={from:s,to:a})}),n}function qS(t,e,r){let i=!1;return t.between(e,e,(n,s)=>{n==e&&s==r&&(i=!0)}),i}function j4(t,e){return t.field(hn,!1)?e:e.concat(Ae.appendConfig.of(Z4()))}const VS=t=>{for(let e of K4(t)){let r=Ho(t.state,e.from,e.to);if(r)return t.dispatch({effects:j4(t.state,[Cl.of(r),Q4(t,r)])}),!0}return!1},WS=t=>{if(!t.state.field(hn,!1))return!1;let e=[];for(let r of K4(t)){let i=Uo(t.state,r.from,r.to);i&&e.push(sa.of(i),Q4(t,i,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function Q4(t,e,r=!0){let i=t.state.doc.lineAt(e.from).number,n=t.state.doc.lineAt(e.to).number;return le.announce.of(`${t.state.phrase(r?"Folded lines":"Unfolded lines")} ${i} ${t.state.phrase("to")} ${n}.`)}const YS=t=>{let{state:e}=t,r=[];for(let i=0;i<e.doc.length;){let n=t.lineBlockAt(i),s=Ho(e,n.from,n.to);s&&r.push(Cl.of(s)),i=(s?t.lineBlockAt(s.to):n).to+1}return r.length&&t.dispatch({effects:j4(t.state,r)}),!!r.length},GS=t=>{let e=t.state.field(hn,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,t.state.doc.length,(i,n)=>{r.push(sa.of({from:i,to:n}))}),t.dispatch({effects:r}),!0},XS=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:VS},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:WS},{key:"Ctrl-Alt-[",run:YS},{key:"Ctrl-Alt-]",run:GS}],KS={placeholderDOM:null,placeholderText:"…"},J4=oe.define({combine(t){return Jr(t,KS)}});function Z4(t){let e=[hn,JS];return t&&e.push(J4.of(t)),e}const em=ue.replace({widget:new class extends bi{toDOM(t){let{state:e}=t,r=e.facet(J4),i=s=>{let a=t.lineBlockAt(t.posAtDOM(s.target)),o=Uo(t.state,a.from,a.to);o&&t.dispatch({effects:sa.of(o)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i);let n=document.createElement("span");return n.textContent=r.placeholderText,n.setAttribute("aria-label",e.phrase("folded code")),n.title=e.phrase("unfold"),n.className="cm-foldPlaceholder",n.onclick=i,n}}}),jS={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class S0 extends mi{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function QS(t={}){let e=Object.assign(Object.assign({},jS),t),r=new S0(e,!0),i=new S0(e,!1),n=ft.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(qi)!=a.state.facet(qi)||a.startState.field(hn,!1)!=a.state.field(hn,!1)||Rt(a.startState)!=Rt(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let o=new Hi;for(let l of a.viewportLineBlocks){let u=Uo(a.state,l.from,l.to)?i:Ho(a.state,l.from,l.to)?r:null;u&&o.add(l.from,l.from,u)}return o.finish()}}),{domEventHandlers:s}=e;return[n,rS({class:"cm-foldGutter",markers(a){var o;return((o=a.plugin(n))===null||o===void 0?void 0:o.markers)||qe.empty},initialSpacer(){return new S0(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(a,o,l)=>{if(s.click&&s.click(a,o,l))return!0;let u=Uo(a.state,o.from,o.to);if(u)return a.dispatch({effects:sa.of(u)}),!0;let c=Ho(a.state,o.from,o.to);return c?(a.dispatch({effects:Cl.of(c)}),!0):!1}})}),Z4()]}const JS=le.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class kl{constructor(e,r){this.specs=e;let i;function n(o){let l=Ui.newName();return(i||(i=Object.create(null)))["."+l]=o,l}const s=typeof r.all=="string"?r.all:r.all?n(r.all):void 0,a=r.scope;this.scope=a instanceof Or?o=>o.prop(Cn)==a.data:a?o=>o==a:void 0,this.style=q4(e.map(o=>({tag:o.tag,class:o.class||n(Object.assign({},o,{tag:null}))})),{all:s}).style,this.module=i?new Ui(i):null,this.themeType=r.themeType}static define(e,r){return new kl(e,r||{})}}const Fu=oe.define(),e3=oe.define({combine(t){return t.length?[t[0]]:null}});function w0(t){let e=t.facet(Fu);return e.length?e:t.facet(e3)}function ZS(t,e){let r=[tw],i;return t instanceof kl&&(t.module&&r.push(le.styleModule.of(t.module)),i=t.themeType),e!=null&&e.fallback?r.push(e3.of(t)):i?r.push(Fu.computeN([le.darkTheme],n=>n.facet(le.darkTheme)==(i=="dark")?[t]:[])):r.push(Fu.of(t)),r}class ew{constructor(e){this.markCache=Object.create(null),this.tree=Rt(e.state),this.decorations=this.buildDeco(e,w0(e.state))}update(e){let r=Rt(e.state),i=w0(e.state),n=i!=w0(e.startState);r.length<e.view.viewport.to&&!n&&r.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(r!=this.tree||e.viewportChanged||n)&&(this.tree=r,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,r){if(!r||!this.tree.length)return ue.none;let i=new Hi;for(let{from:n,to:s}of e.visibleRanges)AS(this.tree,r,(a,o,l)=>{i.add(a,o,this.markCache[l]||(this.markCache[l]=ue.mark({class:l})))},n,s);return i.finish()}}const tw=Zn.high(ft.fromClass(ew,{decorations:t=>t.decorations})),rw=kl.define([{tag:Q.meta,color:"#404740"},{tag:Q.link,textDecoration:"underline"},{tag:Q.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Q.emphasis,fontStyle:"italic"},{tag:Q.strong,fontWeight:"bold"},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.keyword,color:"#708"},{tag:[Q.atom,Q.bool,Q.url,Q.contentSeparator,Q.labelName],color:"#219"},{tag:[Q.literal,Q.inserted],color:"#164"},{tag:[Q.string,Q.deleted],color:"#a11"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],color:"#e40"},{tag:Q.definition(Q.variableName),color:"#00f"},{tag:Q.local(Q.variableName),color:"#30a"},{tag:[Q.typeName,Q.namespace],color:"#085"},{tag:Q.className,color:"#167"},{tag:[Q.special(Q.variableName),Q.macroName],color:"#256"},{tag:Q.definition(Q.propertyName),color:"#00c"},{tag:Q.comment,color:"#940"},{tag:Q.invalid,color:"#f00"}]),iw=le.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),t3=1e4,r3="()[]{}",i3=oe.define({combine(t){return Jr(t,{afterCursor:!0,brackets:r3,maxScanDistance:t3,renderMatch:aw})}}),nw=ue.mark({class:"cm-matchingBracket"}),sw=ue.mark({class:"cm-nonmatchingBracket"});function aw(t){let e=[],r=t.matched?nw:sw;return e.push(r.range(t.start.from,t.start.to)),t.end&&e.push(r.range(t.end.from,t.end.to)),e}const ow=Lt.define({create(){return ue.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let r=[],i=e.state.facet(i3);for(let n of e.state.selection.ranges){if(!n.empty)continue;let s=zr(e.state,n.head,-1,i)||n.head>0&&zr(e.state,n.head-1,1,i)||i.afterCursor&&(zr(e.state,n.head,1,i)||n.head<e.state.doc.length&&zr(e.state,n.head+1,-1,i));s&&(r=r.concat(i.renderMatch(s,e.state)))}return ue.set(r,!0)},provide:t=>le.decorations.from(t)}),lw=[ow,iw];function uw(t={}){return[i3.of(t),lw]}const n3=new Ce;function Hu(t,e,r){let i=t.prop(e<0?Ce.openedBy:Ce.closedBy);if(i)return i;if(t.name.length==1){let n=r.indexOf(t.name);if(n>-1&&n%2==(e<0?1:0))return[r[n+e]]}return null}function Uu(t){let e=t.type.prop(n3);return e?e(t.node):t}function zr(t,e,r,i={}){let n=i.maxScanDistance||t3,s=i.brackets||r3,a=Rt(t),o=a.resolveInner(e,r);for(let l=o;l;l=l.parent){let u=Hu(l.type,r,s);if(u&&l.from<l.to){let c=Uu(l);if(c&&(r>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return cw(t,e,r,l,c,u,s)}}return hw(t,e,r,a,o.type,n,s)}function cw(t,e,r,i,n,s,a){let o=i.parent,l={from:n.from,to:n.to},u=0,c=o==null?void 0:o.cursor();if(c&&(r<0?c.childBefore(i.from):c.childAfter(i.to)))do if(r<0?c.to<=i.from:c.from>=i.to){if(u==0&&s.indexOf(c.type.name)>-1&&c.from<c.to){let h=Uu(c);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(Hu(c.type,r,a))u++;else if(Hu(c.type,-r,a)){if(u==0){let h=Uu(c);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(r<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function hw(t,e,r,i,n,s,a){let o=r<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=a.indexOf(o);if(l<0||l%2==0!=r>0)return null;let u={from:r<0?e-1:e,to:r>0?e+1:e},c=t.doc.iterRange(e,r>0?t.doc.length:0),h=0;for(let m=0;!c.next().done&&m<=s;){let p=c.value;r<0&&(m+=p.length);let b=e+m*r;for(let A=r>0?0:p.length-1,x=r>0?p.length:-1;A!=x;A+=r){let S=a.indexOf(p[A]);if(!(S<0||i.resolveInner(b+A,1).type!=n))if(S%2==0==r>0)h++;else{if(h==1)return{start:u,end:{from:b+A,to:b+A+1},matched:S>>1==l>>1};h--}}r>0&&(m+=p.length)}return c.done?{start:u,matched:!1}:null}const fw=Object.create(null),tm=[ir.none],rm=[],dw=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])dw[t]=mw(fw,e);function C0(t,e){rm.indexOf(t)>-1||(rm.push(t),console.warn(e))}function mw(t,e){let r=null;for(let s of e.split(".")){let a=t[s]||Q[s];a?typeof a=="function"?r?r=a(r):C0(s,`Modifier ${s} used at start of tag`):r?C0(s,`Tag ${s} used as modifier`):r=a:C0(s,`Unknown highlighting tag ${s}`)}if(!r)return 0;let i=e.replace(/ /g,"_"),n=ir.define({id:tm.length,name:i,props:[z4({[i]:r})]});return tm.push(n),n.id}const pw=t=>{let{state:e}=t,r=e.doc.lineAt(e.selection.main.from),i=lh(t.state,r.from);return i.line?gw(t):i.block?Tw(t):!1};function oh(t,e){return({state:r,dispatch:i})=>{if(r.readOnly)return!1;let n=t(e,r);return n?(i(r.update(n)),!0):!1}}const gw=oh(yw,0),bw=oh(s3,0),Tw=oh((t,e)=>s3(t,e,Ew(e)),0);function lh(t,e){let r=t.languageDataAt("commentTokens",e);return r.length?r[0]:{}}const ls=50;function vw(t,{open:e,close:r},i,n){let s=t.sliceDoc(i-ls,i),a=t.sliceDoc(n,n+ls),o=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(a)[0].length,u=s.length-o;if(s.slice(u-e.length,u)==e&&a.slice(l,l+r.length)==r)return{open:{pos:i-o,margin:o&&1},close:{pos:n+l,margin:l&&1}};let c,h;n-i<=2*ls?c=h=t.sliceDoc(i,n):(c=t.sliceDoc(i,i+ls),h=t.sliceDoc(n-ls,n));let m=/^\s*/.exec(c)[0].length,p=/\s*$/.exec(h)[0].length,b=h.length-p-r.length;return c.slice(m,m+e.length)==e&&h.slice(b,b+r.length)==r?{open:{pos:i+m+e.length,margin:/\s/.test(c.charAt(m+e.length))?1:0},close:{pos:n-p-r.length,margin:/\s/.test(h.charAt(b-1))?1:0}}:null}function Ew(t){let e=[];for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),n=r.to<=i.to?i:t.doc.lineAt(r.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=n.to:e.push({from:i.from,to:n.to})}return e}function s3(t,e,r=e.selection.ranges){let i=r.map(s=>lh(e,s.from).block);if(!i.every(s=>s))return null;let n=r.map((s,a)=>vw(e,i[a],s.from,s.to));if(t!=2&&!n.every(s=>s))return{changes:e.changes(r.map((s,a)=>n[a]?[]:[{from:s.from,insert:i[a].open+" "},{from:s.to,insert:" "+i[a].close}]))};if(t!=1&&n.some(s=>s)){let s=[];for(let a=0,o;a<n.length;a++)if(o=n[a]){let l=i[a],{open:u,close:c}=o;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function yw(t,e,r=e.selection.ranges){let i=[],n=-1;for(let{from:s,to:a}of r){let o=i.length,l=1e9,u=lh(e,s).line;if(u){for(let c=s;c<=a;){let h=e.doc.lineAt(c);if(h.from>n&&(s==a||a>h.from)){n=h.from;let m=/^\s*/.exec(h.text)[0].length,p=m==h.length,b=h.text.slice(m,m+u.length)==u?m:-1;m<h.text.length&&m<l&&(l=m),i.push({line:h,comment:b,token:u,indent:m,empty:p,single:!1})}c=h.to+1}if(l<1e9)for(let c=o;c<i.length;c++)i[c].indent<i[c].line.text.length&&(i[c].indent=l);i.length==o+1&&(i[o].single=!0)}}if(t!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:o,token:l,indent:u,empty:c,single:h}of i)(h||!c)&&s.push({from:o.from+u,insert:l+" "});let a=e.changes(s);return{changes:a,selection:e.selection.map(a,1)}}else if(t!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:a,comment:o,token:l}of i)if(o>=0){let u=a.from+o,c=u+l.length;a.text[c-a.from]==" "&&c++,s.push({from:u,to:c})}return{changes:s}}return null}const zu=gi.define(),Aw=gi.define(),xw=oe.define(),a3=oe.define({combine(t){return Jr(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(i,n)=>e(i,n)||r(i,n)})}});function Sw(t){let e=0;return t.iterChangedRanges((r,i)=>e=i),e}const o3=Lt.define({create(){return $r.empty},update(t,e){let r=e.state.facet(a3),i=e.annotation(zu);if(i){let l=e.docChanged?Y.single(Sw(e.changes)):void 0,u=tr.fromTransaction(e,l),c=i.side,h=c==0?t.undone:t.done;return u?h=zo(h,h.length,r.minDepth,u):h=c3(h,e.startState.selection),new $r(c==0?i.rest:h,c==0?h:i.rest)}let n=e.annotation(Aw);if((n=="full"||n=="before")&&(t=t.isolate()),e.annotation(wt.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=tr.fromTransaction(e),a=e.annotation(wt.time),o=e.annotation(wt.userEvent);return s?t=t.addChanges(s,a,o,r,e):e.selection&&(t=t.addSelection(e.startState.selection,a,o,r.newGroupDelay)),(n=="full"||n=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new $r(t.done.map(tr.fromJSON),t.undone.map(tr.fromJSON))}});function ww(t={}){return[o3,a3.of(t),le.domEventHandlers({beforeinput(e,r){let i=e.inputType=="historyUndo"?l3:e.inputType=="historyRedo"?$u:null;return i?(e.preventDefault(),i(r)):!1}})]}function _l(t,e){return function({state:r,dispatch:i}){if(!e&&r.readOnly)return!1;let n=r.field(o3,!1);if(!n)return!1;let s=n.pop(t,r,e);return s?(i(s),!0):!1}}const l3=_l(0,!1),$u=_l(1,!1),Cw=_l(0,!0),kw=_l(1,!0);class tr{constructor(e,r,i,n,s){this.changes=e,this.effects=r,this.mapped=i,this.startSelection=n,this.selectionsAfter=s}setSelAfter(e){return new tr(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(n=>n.toJSON())}}static fromJSON(e){return new tr(e.changes&&xt.fromJSON(e.changes),[],e.mapped&&Wr.fromJSON(e.mapped),e.startSelection&&Y.fromJSON(e.startSelection),e.selectionsAfter.map(Y.fromJSON))}static fromTransaction(e,r){let i=yr;for(let n of e.startState.facet(xw)){let s=n(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new tr(e.changes.invert(e.startState.doc),i,void 0,r||e.startState.selection,yr)}static selection(e){return new tr(void 0,yr,void 0,void 0,e)}}function zo(t,e,r,i){let n=e+1>r+20?e-r-1:0,s=t.slice(n,e);return s.push(i),s}function _w(t,e){let r=[],i=!1;return t.iterChangedRanges((n,s)=>r.push(n,s)),e.iterChangedRanges((n,s,a,o)=>{for(let l=0;l<r.length;){let u=r[l++],c=r[l++];o>=u&&a<=c&&(i=!0)}}),i}function Ow(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((r,i)=>r.empty!=e.ranges[i].empty).length===0}function u3(t,e){return t.length?e.length?t.concat(e):t:e}const yr=[],Nw=200;function c3(t,e){if(t.length){let r=t[t.length-1],i=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-Nw));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),zo(t,t.length-1,1e9,r.setSelAfter(i)))}else return[tr.selection([e])]}function Iw(t){let e=t[t.length-1],r=t.slice();return r[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function k0(t,e){if(!t.length)return t;let r=t.length,i=yr;for(;r;){let n=Mw(t[r-1],e,i);if(n.changes&&!n.changes.empty||n.effects.length){let s=t.slice(0,r);return s[r-1]=n,s}else e=n.mapped,r--,i=n.selectionsAfter}return i.length?[tr.selection(i)]:yr}function Mw(t,e,r){let i=u3(t.selectionsAfter.length?t.selectionsAfter.map(o=>o.map(e)):yr,r);if(!t.changes)return tr.selection(i);let n=t.changes.map(e),s=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(s):s;return new tr(n,Ae.mapEffects(t.effects,e),a,t.startSelection.map(s),i)}const Dw=/^(input\.type|delete)($|\.)/;class $r{constructor(e,r,i=0,n=void 0){this.done=e,this.undone=r,this.prevTime=i,this.prevUserEvent=n}isolate(){return this.prevTime?new $r(this.done,this.undone):this}addChanges(e,r,i,n,s){let a=this.done,o=a[a.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!i||Dw.test(i))&&(!o.selectionsAfter.length&&r-this.prevTime<n.newGroupDelay&&n.joinToEvent(s,_w(o.changes,e.changes))||i=="input.type.compose")?a=zo(a,a.length-1,n.minDepth,new tr(e.changes.compose(o.changes),u3(e.effects,o.effects),o.mapped,o.startSelection,yr)):a=zo(a,a.length,n.minDepth,e),new $r(a,yr,r,i)}addSelection(e,r,i,n){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:yr;return s.length>0&&r-this.prevTime<n&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&Ow(s[s.length-1],e)?this:new $r(c3(this.done,e),this.undone,r,i)}addMapping(e){return new $r(k0(this.done,e),k0(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,i){let n=e==0?this.done:this.undone;if(n.length==0)return null;let s=n[n.length-1];if(i&&s.selectionsAfter.length)return r.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:zu.of({side:e,rest:Iw(n)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=n.length==1?yr:n.slice(0,n.length-1);return s.mapped&&(a=k0(a,s.mapped)),r.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:zu.of({side:e,rest:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}$r.empty=new $r(yr,yr);const Rw=[{key:"Mod-z",run:l3,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:$u,preventDefault:!0},{linux:"Ctrl-Shift-z",run:$u,preventDefault:!0},{key:"Mod-u",run:Cw,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:kw,preventDefault:!0}];function es(t,e){return Y.create(t.ranges.map(e),t.mainIndex)}function Zr(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ir({state:t,dispatch:e},r){let i=es(t.selection,r);return i.eq(t.selection)?!1:(e(Zr(t,i)),!0)}function Ol(t,e){return Y.cursor(e?t.to:t.from)}function h3(t,e){return Ir(t,r=>r.empty?t.moveByChar(r,e):Ol(r,e))}function Ut(t){return t.textDirectionAt(t.state.selection.main.head)==at.LTR}const f3=t=>h3(t,!Ut(t)),d3=t=>h3(t,Ut(t));function m3(t,e){return Ir(t,r=>r.empty?t.moveByGroup(r,e):Ol(r,e))}const Lw=t=>m3(t,!Ut(t)),Pw=t=>m3(t,Ut(t));function Bw(t,e,r){if(e.type.prop(r))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Nl(t,e,r){let i=Rt(t).resolveInner(e.head),n=r?Ce.closedBy:Ce.openedBy;for(let l=e.head;;){let u=r?i.childAfter(l):i.childBefore(l);if(!u)break;Bw(t,u,n)?i=u:l=r?u.to:u.from}let s=i.type.prop(n),a,o;return s&&(a=r?zr(t,i.from,1):zr(t,i.to,-1))&&a.matched?o=r?a.end.to:a.end.from:o=r?i.to:i.from,Y.cursor(o,r?-1:1)}const Fw=t=>Ir(t,e=>Nl(t.state,e,!Ut(t))),Hw=t=>Ir(t,e=>Nl(t.state,e,Ut(t)));function p3(t,e){return Ir(t,r=>{if(!r.empty)return Ol(r,e);let i=t.moveVertically(r,e);return i.head!=r.head?i:t.moveToLineBoundary(r,e)})}const g3=t=>p3(t,!1),b3=t=>p3(t,!0);function T3(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,i=0,n;if(e){for(let s of t.state.facet(le.scrollMargins)){let a=s(t);a!=null&&a.top&&(r=Math.max(a==null?void 0:a.top,r)),a!=null&&a.bottom&&(i=Math.max(a==null?void 0:a.bottom,i))}n=t.scrollDOM.clientHeight-r-i}else n=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:i,selfScroll:e,height:Math.max(t.defaultLineHeight,n-5)}}function v3(t,e){let r=T3(t),{state:i}=t,n=es(i.selection,a=>a.empty?t.moveVertically(a,e,r.height):Ol(a,e));if(n.eq(i.selection))return!1;let s;if(r.selfScroll){let a=t.coordsAtPos(i.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),l=o.top+r.marginTop,u=o.bottom-r.marginBottom;a&&a.top>l&&a.bottom<u&&(s=le.scrollIntoView(n.main.head,{y:"start",yMargin:a.top-l}))}return t.dispatch(Zr(i,n),{effects:s}),!0}const im=t=>v3(t,!1),qu=t=>v3(t,!0);function Yi(t,e,r){let i=t.lineBlockAt(e.head),n=t.moveToLineBoundary(e,r);if(n.head==e.head&&n.head!=(r?i.to:i.from)&&(n=t.moveToLineBoundary(e,r,!1)),!r&&n.head==i.from&&i.length){let s=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(n=Y.cursor(i.from+s))}return n}const Uw=t=>Ir(t,e=>Yi(t,e,!0)),zw=t=>Ir(t,e=>Yi(t,e,!1)),$w=t=>Ir(t,e=>Yi(t,e,!Ut(t))),qw=t=>Ir(t,e=>Yi(t,e,Ut(t))),Vw=t=>Ir(t,e=>Y.cursor(t.lineBlockAt(e.head).from,1)),Ww=t=>Ir(t,e=>Y.cursor(t.lineBlockAt(e.head).to,-1));function Yw(t,e,r){let i=!1,n=es(t.selection,s=>{let a=zr(t,s.head,-1)||zr(t,s.head,1)||s.head>0&&zr(t,s.head-1,1)||s.head<t.doc.length&&zr(t,s.head+1,-1);if(!a||!a.end)return s;i=!0;let o=a.start.from==s.head?a.end.to:a.end.from;return r?Y.range(s.anchor,o):Y.cursor(o)});return i?(e(Zr(t,n)),!0):!1}const Gw=({state:t,dispatch:e})=>Yw(t,e,!1);function wr(t,e){let r=es(t.state.selection,i=>{let n=e(i);return Y.range(i.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)});return r.eq(t.state.selection)?!1:(t.dispatch(Zr(t.state,r)),!0)}function E3(t,e){return wr(t,r=>t.moveByChar(r,e))}const y3=t=>E3(t,!Ut(t)),A3=t=>E3(t,Ut(t));function x3(t,e){return wr(t,r=>t.moveByGroup(r,e))}const Xw=t=>x3(t,!Ut(t)),Kw=t=>x3(t,Ut(t)),jw=t=>wr(t,e=>Nl(t.state,e,!Ut(t))),Qw=t=>wr(t,e=>Nl(t.state,e,Ut(t)));function S3(t,e){return wr(t,r=>t.moveVertically(r,e))}const w3=t=>S3(t,!1),C3=t=>S3(t,!0);function k3(t,e){return wr(t,r=>t.moveVertically(r,e,T3(t).height))}const nm=t=>k3(t,!1),sm=t=>k3(t,!0),Jw=t=>wr(t,e=>Yi(t,e,!0)),Zw=t=>wr(t,e=>Yi(t,e,!1)),eC=t=>wr(t,e=>Yi(t,e,!Ut(t))),tC=t=>wr(t,e=>Yi(t,e,Ut(t))),rC=t=>wr(t,e=>Y.cursor(t.lineBlockAt(e.head).from)),iC=t=>wr(t,e=>Y.cursor(t.lineBlockAt(e.head).to)),am=({state:t,dispatch:e})=>(e(Zr(t,{anchor:0})),!0),om=({state:t,dispatch:e})=>(e(Zr(t,{anchor:t.doc.length})),!0),lm=({state:t,dispatch:e})=>(e(Zr(t,{anchor:t.selection.main.anchor,head:0})),!0),um=({state:t,dispatch:e})=>(e(Zr(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),nC=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),sC=({state:t,dispatch:e})=>{let r=Ml(t).map(({from:i,to:n})=>Y.range(i,Math.min(n+1,t.doc.length)));return e(t.update({selection:Y.create(r),userEvent:"select"})),!0},aC=({state:t,dispatch:e})=>{let r=es(t.selection,i=>{var n;let s=Rt(t).resolveInner(i.head,1);for(;!(s.from<i.from&&s.to>=i.to||s.to>i.to&&s.from<=i.from||!(!((n=s.parent)===null||n===void 0)&&n.parent));)s=s.parent;return Y.range(s.to,s.from)});return e(Zr(t,r)),!0},oC=({state:t,dispatch:e})=>{let r=t.selection,i=null;return r.ranges.length>1?i=Y.create([r.main]):r.main.empty||(i=Y.create([Y.cursor(r.main.head)])),i?(e(Zr(t,i)),!0):!1};function Il(t,e){if(t.state.readOnly)return!1;let r="delete.selection",{state:i}=t,n=i.changeByRange(s=>{let{from:a,to:o}=s;if(a==o){let l=e(a);l<a?(r="delete.backward",l=za(t,l,!1)):l>a&&(r="delete.forward",l=za(t,l,!0)),a=Math.min(a,l),o=Math.max(o,l)}else a=za(t,a,!1),o=za(t,o,!0);return a==o?{range:s}:{changes:{from:a,to:o},range:Y.cursor(a)}});return n.changes.empty?!1:(t.dispatch(i.update(n,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?le.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function za(t,e,r){if(t instanceof le)for(let i of t.state.facet(le.atomicRanges).map(n=>n(t)))i.between(e,e,(n,s)=>{n<e&&s>e&&(e=r?s:n)});return e}const _3=(t,e)=>Il(t,r=>{let{state:i}=t,n=i.doc.lineAt(r),s,a;if(!e&&r>n.from&&r<n.from+200&&!/[^ \t]/.test(s=n.text.slice(0,r-n.from))){if(s[s.length-1]=="	")return r-1;let o=ra(s,i.tabSize),l=o%Fo(i)||Fo(i);for(let u=0;u<l&&s[s.length-1-u]==" ";u++)r--;a=r}else a=qt(n.text,r-n.from,e,e)+n.from,a==r&&n.number!=(e?i.doc.lines:1)&&(a+=e?1:-1);return a}),Vu=t=>_3(t,!1),O3=t=>_3(t,!0),N3=(t,e)=>Il(t,r=>{let i=r,{state:n}=t,s=n.doc.lineAt(i),a=n.charCategorizer(i);for(let o=null;;){if(i==(e?s.to:s.from)){i==r&&s.number!=(e?n.doc.lines:1)&&(i+=e?1:-1);break}let l=qt(s.text,i-s.from,e)+s.from,u=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),c=a(u);if(o!=null&&c!=o)break;(u!=" "||i!=r)&&(o=c),i=l}return i}),I3=t=>N3(t,!1),lC=t=>N3(t,!0),M3=t=>Il(t,e=>{let r=t.lineBlockAt(e).to;return e<r?r:Math.min(t.state.doc.length,e+1)}),uC=t=>Il(t,e=>{let r=t.lineBlockAt(e).from;return e>r?r:Math.max(0,e-1)}),cC=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Le.of(["",""])},range:Y.cursor(i.from)}));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},hC=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(i=>{if(!i.empty||i.from==0||i.from==t.doc.length)return{range:i};let n=i.from,s=t.doc.lineAt(n),a=n==s.from?n-1:qt(s.text,n-s.from,!1)+s.from,o=n==s.to?n+1:qt(s.text,n-s.from,!0)+s.from;return{changes:{from:a,to:o,insert:t.doc.slice(n,o).append(t.doc.slice(a,n))},range:Y.cursor(o)}});return r.changes.empty?!1:(e(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Ml(t){let e=[],r=-1;for(let i of t.selection.ranges){let n=t.doc.lineAt(i.from),s=t.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=t.doc.lineAt(i.to-1)),r>=n.number){let a=e[e.length-1];a.to=s.to,a.ranges.push(i)}else e.push({from:n.from,to:s.to,ranges:[i]});r=s.number+1}return e}function D3(t,e,r){if(t.readOnly)return!1;let i=[],n=[];for(let s of Ml(t)){if(r?s.to==t.doc.length:s.from==0)continue;let a=t.doc.lineAt(r?s.to+1:s.from-1),o=a.length+1;if(r){i.push({from:s.to,to:a.to},{from:s.from,insert:a.text+t.lineBreak});for(let l of s.ranges)n.push(Y.range(Math.min(t.doc.length,l.anchor+o),Math.min(t.doc.length,l.head+o)))}else{i.push({from:a.from,to:s.from},{from:s.to,insert:t.lineBreak+a.text});for(let l of s.ranges)n.push(Y.range(l.anchor-o,l.head-o))}}return i.length?(e(t.update({changes:i,scrollIntoView:!0,selection:Y.create(n,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const fC=({state:t,dispatch:e})=>D3(t,e,!1),dC=({state:t,dispatch:e})=>D3(t,e,!0);function R3(t,e,r){if(t.readOnly)return!1;let i=[];for(let n of Ml(t))r?i.push({from:n.from,insert:t.doc.slice(n.from,n.to)+t.lineBreak}):i.push({from:n.to,insert:t.lineBreak+t.doc.slice(n.from,n.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const mC=({state:t,dispatch:e})=>R3(t,e,!1),pC=({state:t,dispatch:e})=>R3(t,e,!0),gC=t=>{if(t.state.readOnly)return!1;let{state:e}=t,r=e.changes(Ml(e).map(({from:n,to:s})=>(n>0?n--:s<e.doc.length&&s++,{from:n,to:s}))),i=es(e.selection,n=>t.moveVertically(n,!0)).map(r);return t.dispatch({changes:r,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function bC(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=Rt(t).resolveInner(e),i=r.childBefore(e),n=r.childAfter(e),s;return i&&n&&i.to<=e&&n.from>=e&&(s=i.type.prop(Ce.closedBy))&&s.indexOf(n.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(n.from).from?{from:i.to,to:n.from}:null}const TC=L3(!1),vC=L3(!0);function L3(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let i=e.changeByRange(n=>{let{from:s,to:a}=n,o=e.doc.lineAt(s),l=!t&&s==a&&bC(e,s);t&&(s=a=(a<=o.to?o:e.doc.lineAt(a)).to);let u=new wl(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=sh(u,s);for(c==null&&(c=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);a<o.to&&/\s/.test(o.text[a-o.from]);)a++;l?{from:s,to:a}=l:s>o.from&&s<o.from+100&&!/\S/.test(o.text.slice(0,s))&&(s=o.from);let h=["",Ws(e,c)];return l&&h.push(Ws(e,u.lineIndent(o.from,-1))),{changes:{from:s,to:a,insert:Le.of(h)},range:Y.cursor(s+1+h[1].length)}});return r(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function uh(t,e){let r=-1;return t.changeByRange(i=>{let n=[];for(let a=i.from;a<=i.to;){let o=t.doc.lineAt(a);o.number>r&&(i.empty||i.to>o.from)&&(e(o,n,i),r=o.number),a=o.to+1}let s=t.changes(n);return{changes:n,range:Y.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const EC=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Object.create(null),i=new wl(t,{overrideIndentation:s=>{let a=r[s];return a??-1}}),n=uh(t,(s,a,o)=>{let l=sh(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],c=Ws(t,l);(u!=c||o.from<s.from+u.length)&&(r[s.from]=l,a.push({from:s.from,to:s.from+u.length,insert:c}))});return n.changes.empty||e(t.update(n,{userEvent:"indent"})),!0},P3=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(uh(t,(r,i)=>{i.push({from:r.from,insert:t.facet(Sl)})}),{userEvent:"input.indent"})),!0),B3=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(uh(t,(r,i)=>{let n=/^\s*/.exec(r.text)[0];if(!n)return;let s=ra(n,t.tabSize),a=0,o=Ws(t,Math.max(0,s-Fo(t)));for(;a<n.length&&a<o.length&&n.charCodeAt(a)==o.charCodeAt(a);)a++;i.push({from:r.from+a,to:r.from+n.length,insert:o.slice(a)})}),{userEvent:"delete.dedent"})),!0),yC=[{key:"Ctrl-b",run:f3,shift:y3,preventDefault:!0},{key:"Ctrl-f",run:d3,shift:A3},{key:"Ctrl-p",run:g3,shift:w3},{key:"Ctrl-n",run:b3,shift:C3},{key:"Ctrl-a",run:Vw,shift:rC},{key:"Ctrl-e",run:Ww,shift:iC},{key:"Ctrl-d",run:O3},{key:"Ctrl-h",run:Vu},{key:"Ctrl-k",run:M3},{key:"Ctrl-Alt-h",run:I3},{key:"Ctrl-o",run:cC},{key:"Ctrl-t",run:hC},{key:"Ctrl-v",run:qu}],AC=[{key:"ArrowLeft",run:f3,shift:y3,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Lw,shift:Xw,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:$w,shift:eC,preventDefault:!0},{key:"ArrowRight",run:d3,shift:A3,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Pw,shift:Kw,preventDefault:!0},{mac:"Cmd-ArrowRight",run:qw,shift:tC,preventDefault:!0},{key:"ArrowUp",run:g3,shift:w3,preventDefault:!0},{mac:"Cmd-ArrowUp",run:am,shift:lm},{mac:"Ctrl-ArrowUp",run:im,shift:nm},{key:"ArrowDown",run:b3,shift:C3,preventDefault:!0},{mac:"Cmd-ArrowDown",run:om,shift:um},{mac:"Ctrl-ArrowDown",run:qu,shift:sm},{key:"PageUp",run:im,shift:nm},{key:"PageDown",run:qu,shift:sm},{key:"Home",run:zw,shift:Zw,preventDefault:!0},{key:"Mod-Home",run:am,shift:lm},{key:"End",run:Uw,shift:Jw,preventDefault:!0},{key:"Mod-End",run:om,shift:um},{key:"Enter",run:TC},{key:"Mod-a",run:nC},{key:"Backspace",run:Vu,shift:Vu},{key:"Delete",run:O3},{key:"Mod-Backspace",mac:"Alt-Backspace",run:I3},{key:"Mod-Delete",mac:"Alt-Delete",run:lC},{mac:"Mod-Backspace",run:uC},{mac:"Mod-Delete",run:M3}].concat(yC.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),xC=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Fw,shift:jw},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Hw,shift:Qw},{key:"Alt-ArrowUp",run:fC},{key:"Shift-Alt-ArrowUp",run:mC},{key:"Alt-ArrowDown",run:dC},{key:"Shift-Alt-ArrowDown",run:pC},{key:"Escape",run:oC},{key:"Mod-Enter",run:vC},{key:"Alt-l",mac:"Ctrl-l",run:sC},{key:"Mod-i",run:aC,preventDefault:!0},{key:"Mod-[",run:B3},{key:"Mod-]",run:P3},{key:"Mod-Alt-\\",run:EC},{key:"Shift-Mod-k",run:gC},{key:"Shift-Mod-\\",run:Gw},{key:"Mod-/",run:pw},{key:"Alt-A",run:bw}].concat(AC),SC={key:"Tab",run:P3,shift:B3};function Ke(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var n=r[i];typeof n=="string"?t.setAttribute(i,n):n!=null&&(t[i]=n)}e++}for(;e<arguments.length;e++)F3(t,arguments[e]);return t}function F3(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)F3(t,e[r]);else throw new RangeError("Unsupported child node: "+e)}const cm=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Yn{constructor(e,r,i=0,n=e.length,s,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,n),this.bufferStart=i,this.normalize=s?o=>s(cm(o)):cm,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return It(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=qc(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=Tr(e);let n=this.normalize(r);for(let s=0,a=i;;s++){let o=n.charCodeAt(s),l=this.match(o,a);if(l)return this.value=l,this;if(s==n.length-1)break;a==i&&s<r.length&&r.charCodeAt(s)==o&&a++}}}match(e,r){let i=null;for(let n=0;n<this.matches.length;n+=2){let s=this.matches[n],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[n+1],to:r+1}:(this.matches[n]++,a=!0)),a||(this.matches.splice(n,2),n-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:r,to:r+1}:this.matches.push(1,r)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferPos)&&(i=null),i}}typeof Symbol<"u"&&(Yn.prototype[Symbol.iterator]=function(){return this});const H3={from:-1,to:-1,match:/.*/.exec("")},ch="gm"+(/x/.unicode==null?"":"u");class U3{constructor(e,r,i,n=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=H3,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new z3(e,r,i,n,s);this.re=new RegExp(r,ch+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let a=e.lineAt(n);this.curLineStart=a.from,this.matchPos=$o(e,n),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let i=this.curLineStart+r.index,n=i+r[0].length;if(this.matchPos=$o(this.text,n+(i==n?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<n||i>this.value.to)&&(!this.test||this.test(i,n,r)))return this.value={from:i,to:n,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const _0=new WeakMap;class Pn{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,i){let n=_0.get(e);if(!n||n.from>=i||n.to<=r){let o=new Pn(r,e.sliceString(r,i));return _0.set(e,o),o}if(n.from==r&&n.to==i)return n;let{text:s,from:a}=n;return a>r&&(s=e.sliceString(r,a)+s,a=r),n.to<i&&(s+=e.sliceString(n.to,i)),_0.set(e,new Pn(a,s)),new Pn(r,s.slice(r-a,i-a))}}class z3{constructor(e,r,i,n,s){this.text=e,this.to=s,this.done=!1,this.value=H3,this.matchPos=$o(e,n),this.re=new RegExp(r,ch+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=Pn.get(e,n,this.chunkEnd(n+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let i=this.flat.from+r.index,n=i+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,n,r)))return this.value={from:i,to:n,match:r},this.matchPos=$o(this.text,n+(i==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Pn.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(U3.prototype[Symbol.iterator]=z3.prototype[Symbol.iterator]=function(){return this});function wC(t){try{return new RegExp(t,ch),!0}catch{return!1}}function $o(t,e){if(e>=t.length)return e;let r=t.lineAt(e),i;for(;e<r.to&&(i=r.text.charCodeAt(e-r.from))>=56320&&i<57344;)e++;return e}function Wu(t){let e=Ke("input",{class:"cm-textfield",name:"line"}),r=Ke("form",{class:"cm-gotoLine",onkeydown:n=>{n.keyCode==27?(n.preventDefault(),t.dispatch({effects:qo.of(!1)}),t.focus()):n.keyCode==13&&(n.preventDefault(),i())},onsubmit:n=>{n.preventDefault(),i()}},Ke("label",t.state.phrase("Go to line"),": ",e)," ",Ke("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!n)return;let{state:s}=t,a=s.doc.lineAt(s.selection.main.head),[,o,l,u,c]=n,h=u?+u.slice(1):0,m=l?+l:a.number;if(l&&c){let b=m/100;o&&(b=b*(o=="-"?-1:1)+a.number/s.doc.lines),m=Math.round(s.doc.lines*b)}else l&&o&&(m=m*(o=="-"?-1:1)+a.number);let p=s.doc.line(Math.max(1,Math.min(s.doc.lines,m)));t.dispatch({effects:qo.of(!1),selection:Y.cursor(p.from+Math.max(0,Math.min(h,p.length))),scrollIntoView:!0}),t.focus()}return{dom:r}}const qo=Ae.define(),hm=Lt.define({create(){return!0},update(t,e){for(let r of e.effects)r.is(qo)&&(t=r.value);return t},provide:t=>Vs.from(t,e=>e?Wu:null)}),CC=t=>{let e=qs(t,Wu);if(!e){let r=[qo.of(!0)];t.state.field(hm,!1)==null&&r.push(Ae.appendConfig.of([hm,kC])),t.dispatch({effects:r}),e=qs(t,Wu)}return e&&e.dom.querySelector("input").focus(),!0},kC=le.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),_C={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},$3=oe.define({combine(t){return Jr(t,_C,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function OC(t){let e=[RC,DC];return t&&e.push($3.of(t)),e}const NC=ue.mark({class:"cm-selectionMatch"}),IC=ue.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function fm(t,e,r,i){return(r==0||t(e.sliceDoc(r-1,r))!=tt.Word)&&(i==e.doc.length||t(e.sliceDoc(i,i+1))!=tt.Word)}function MC(t,e,r,i){return t(e.sliceDoc(r,r+1))==tt.Word&&t(e.sliceDoc(i-1,i))==tt.Word}const DC=ft.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet($3),{state:r}=t,i=r.selection;if(i.ranges.length>1)return ue.none;let n=i.main,s,a=null;if(n.empty){if(!e.highlightWordAroundCursor)return ue.none;let l=r.wordAt(n.head);if(!l)return ue.none;a=r.charCategorizer(n.head),s=r.sliceDoc(l.from,l.to)}else{let l=n.to-n.from;if(l<e.minSelectionLength||l>200)return ue.none;if(e.wholeWords){if(s=r.sliceDoc(n.from,n.to),a=r.charCategorizer(n.head),!(fm(a,r,n.from,n.to)&&MC(a,r,n.from,n.to)))return ue.none}else if(s=r.sliceDoc(n.from,n.to).trim(),!s)return ue.none}let o=[];for(let l of t.visibleRanges){let u=new Yn(r.doc,s,l.from,l.to);for(;!u.next().done;){let{from:c,to:h}=u.value;if((!a||fm(a,r,c,h))&&(n.empty&&c<=n.from&&h>=n.to?o.push(IC.range(c,h)):(c>=n.to||h<=n.from)&&o.push(NC.range(c,h)),o.length>e.maxMatches))return ue.none}}return ue.set(o)}},{decorations:t=>t.decorations}),RC=le.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),LC=({state:t,dispatch:e})=>{let{selection:r}=t,i=Y.create(r.ranges.map(n=>t.wordAt(n.head)||Y.cursor(n.head)),r.mainIndex);return i.eq(r)?!1:(e(t.update({selection:i})),!0)};function PC(t,e){let{main:r,ranges:i}=t.selection,n=t.wordAt(r.head),s=n&&n.from==r.from&&n.to==r.to;for(let a=!1,o=new Yn(t.doc,e,i[i.length-1].to);;)if(o.next(),o.done){if(a)return null;o=new Yn(t.doc,e,0,Math.max(0,i[i.length-1].from-1)),a=!0}else{if(a&&i.some(l=>l.from==o.value.from))continue;if(s){let l=t.wordAt(o.value.from);if(!l||l.from!=o.value.from||l.to!=o.value.to)continue}return o.value}}const BC=({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(s=>s.from===s.to))return LC({state:t,dispatch:e});let i=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=i))return!1;let n=PC(t,i);return n?(e(t.update({selection:t.selection.addRange(Y.range(n.from,n.to),!1),effects:le.scrollIntoView(n.to)})),!0):!1},hh=oe.define({combine(t){return Jr(t,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new KC(e)})}});class q3{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||wC(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new zC(this):new HC(this)}getCursor(e,r=0,i){let n=e.doc?e:Ie.create({doc:e});return i==null&&(i=n.doc.length),this.regexp?xn(this,n,r,i):An(this,n,r,i)}}class V3{constructor(e){this.spec=e}}function An(t,e,r,i){return new Yn(e.doc,t.unquoted,r,i,t.caseSensitive?void 0:n=>n.toLowerCase(),t.wholeWord?FC(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function FC(t,e){return(r,i,n,s)=>((s>r||s+n.length<i)&&(s=Math.max(0,r-2),n=t.sliceString(s,Math.min(t.length,i+2))),(e(Vo(n,r-s))!=tt.Word||e(Wo(n,r-s))!=tt.Word)&&(e(Wo(n,i-s))!=tt.Word||e(Vo(n,i-s))!=tt.Word))}class HC extends V3{constructor(e){super(e)}nextMatch(e,r,i){let n=An(this.spec,e,i,e.doc.length).nextOverlapping();return n.done&&(n=An(this.spec,e,0,r).nextOverlapping()),n.done?null:n.value}prevMatchInRange(e,r,i){for(let n=i;;){let s=Math.max(r,n-1e4-this.spec.unquoted.length),a=An(this.spec,e,s,n),o=null;for(;!a.nextOverlapping().done;)o=a.value;if(o)return o;if(s==r)return null;n-=1e4}}prevMatch(e,r,i){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let i=An(this.spec,e,0,e.doc.length),n=[];for(;!i.next().done;){if(n.length>=r)return null;n.push(i.value)}return n}highlight(e,r,i,n){let s=An(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)n(s.value.from,s.value.to)}}function xn(t,e,r,i){return new U3(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?UC(e.charCategorizer(e.selection.main.head)):void 0},r,i)}function Vo(t,e){return t.slice(qt(t,e,!1),e)}function Wo(t,e){return t.slice(e,qt(t,e))}function UC(t){return(e,r,i)=>!i[0].length||(t(Vo(i.input,i.index))!=tt.Word||t(Wo(i.input,i.index))!=tt.Word)&&(t(Wo(i.input,i.index+i[0].length))!=tt.Word||t(Vo(i.input,i.index+i[0].length))!=tt.Word)}class zC extends V3{nextMatch(e,r,i){let n=xn(this.spec,e,i,e.doc.length).next();return n.done&&(n=xn(this.spec,e,0,r).next()),n.done?null:n.value}prevMatchInRange(e,r,i){for(let n=1;;n++){let s=Math.max(r,i-n*1e4),a=xn(this.spec,e,s,i),o=null;for(;!a.next().done;)o=a.value;if(o&&(s==r||o.from>s+10))return o;if(s==r)return null}}prevMatch(e,r,i){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(r,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:r))}matchAll(e,r){let i=xn(this.spec,e,0,e.doc.length),n=[];for(;!i.next().done;){if(n.length>=r)return null;n.push(i.value)}return n}highlight(e,r,i,n){let s=xn(this.spec,e,Math.max(0,r-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)n(s.value.from,s.value.to)}}const Ys=Ae.define(),fh=Ae.define(),Mi=Lt.define({create(t){return new O0(Yu(t).create(),null)},update(t,e){for(let r of e.effects)r.is(Ys)?t=new O0(r.value.create(),t.panel):r.is(fh)&&(t=new O0(t.query,r.value?dh:null));return t},provide:t=>Vs.from(t,e=>e.panel)});class O0{constructor(e,r){this.query=e,this.panel=r}}const $C=ue.mark({class:"cm-searchMatch"}),qC=ue.mark({class:"cm-searchMatch cm-searchMatch-selected"}),VC=ft.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Mi))}update(t){let e=t.state.field(Mi);(e!=t.startState.field(Mi)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return ue.none;let{view:r}=this,i=new Hi;for(let n=0,s=r.visibleRanges,a=s.length;n<a;n++){let{from:o,to:l}=s[n];for(;n<a-1&&l>s[n+1].from-2*250;)l=s[++n].to;t.highlight(r.state,o,l,(u,c)=>{let h=r.state.selection.ranges.some(m=>m.from==u&&m.to==c);i.add(u,c,h?qC:$C)})}return i.finish()}},{decorations:t=>t.decorations});function aa(t){return e=>{let r=e.state.field(Mi,!1);return r&&r.query.spec.valid?t(e,r):W3(e)}}const Yo=aa((t,{query:e})=>{let{to:r}=t.state.selection.main,i=e.nextMatch(t.state,r,r);return i?(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:mh(t,i),userEvent:"select.search"}),!0):!1}),Go=aa((t,{query:e})=>{let{state:r}=t,{from:i}=r.selection.main,n=e.prevMatch(r,i,i);return n?(t.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:mh(t,n),userEvent:"select.search"}),!0):!1}),WC=aa((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!r||!r.length?!1:(t.dispatch({selection:Y.create(r.map(i=>Y.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),YC=({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:i,to:n}=r.main,s=[],a=0;for(let o=new Yn(t.doc,t.sliceDoc(i,n));!o.next().done;){if(s.length>1e3)return!1;o.value.from==i&&(a=s.length),s.push(Y.range(o.value.from,o.value.to))}return e(t.update({selection:Y.create(s,a),userEvent:"select.search.matches"})),!0},dm=aa((t,{query:e})=>{let{state:r}=t,{from:i,to:n}=r.selection.main;if(r.readOnly)return!1;let s=e.nextMatch(r,i,i);if(!s)return!1;let a=[],o,l,u=[];if(s.from==i&&s.to==n&&(l=r.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(r,s.from,s.to),u.push(le.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(i).number)+"."))),s){let c=a.length==0||a[0].from>=s.to?0:s.to-s.from-l.length;o={anchor:s.from-c,head:s.to-c},u.push(mh(t,s))}return t.dispatch({changes:a,selection:o,scrollIntoView:!!o,effects:u,userEvent:"input.replace"}),!0}),GC=aa((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(n=>{let{from:s,to:a}=n;return{from:s,to:a,insert:e.getReplacement(n)}});if(!r.length)return!1;let i=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:le.announce.of(i),userEvent:"input.replace.all"}),!0});function dh(t){return t.state.facet(hh).createPanel(t)}function Yu(t,e){var r,i,n,s;let a=t.selection.main,o=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!o)return e;let l=t.facet(hh);return new q3({search:((r=e==null?void 0:e.literal)!==null&&r!==void 0?r:l.literal)?o:o.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:l.caseSensitive,literal:(n=e==null?void 0:e.literal)!==null&&n!==void 0?n:l.literal,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:l.wholeWord})}const W3=t=>{let e=t.state.field(Mi,!1);if(e&&e.panel){let r=qs(t,dh);if(!r)return!1;let i=r.dom.querySelector("[main-field]");if(i&&i!=t.root.activeElement){let n=Yu(t.state,e.query.spec);n.valid&&t.dispatch({effects:Ys.of(n)}),i.focus(),i.select()}}else t.dispatch({effects:[fh.of(!0),e?Ys.of(Yu(t.state,e.query.spec)):Ae.appendConfig.of(QC)]});return!0},Y3=t=>{let e=t.state.field(Mi,!1);if(!e||!e.panel)return!1;let r=qs(t,dh);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:fh.of(!1)}),!0},XC=[{key:"Mod-f",run:W3,scope:"editor search-panel"},{key:"F3",run:Yo,shift:Go,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Yo,shift:Go,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Y3,scope:"editor search-panel"},{key:"Mod-Shift-l",run:YC},{key:"Alt-g",run:CC},{key:"Mod-d",run:BC,preventDefault:!0}];class KC{constructor(e){this.view=e;let r=this.query=e.state.field(Mi).query.spec;this.commit=this.commit.bind(this),this.searchField=Ke("input",{value:r.search,placeholder:ar(e,"Find"),"aria-label":ar(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ke("input",{value:r.replace,placeholder:ar(e,"Replace"),"aria-label":ar(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ke("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=Ke("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=Ke("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function i(n,s,a){return Ke("button",{class:"cm-button",name:n,onclick:s,type:"button"},a)}this.dom=Ke("div",{onkeydown:n=>this.keydown(n),class:"cm-search"},[this.searchField,i("next",()=>Yo(e),[ar(e,"next")]),i("prev",()=>Go(e),[ar(e,"previous")]),i("select",()=>WC(e),[ar(e,"all")]),Ke("label",null,[this.caseField,ar(e,"match case")]),Ke("label",null,[this.reField,ar(e,"regexp")]),Ke("label",null,[this.wordField,ar(e,"by word")]),...e.state.readOnly?[]:[Ke("br"),this.replaceField,i("replace",()=>dm(e),[ar(e,"replace")]),i("replaceAll",()=>GC(e),[ar(e,"replace all")])],Ke("button",{name:"close",onclick:()=>Y3(e),"aria-label":ar(e,"close"),type:"button"},["×"])])}commit(){let e=new q3({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Ys.of(e)}))}keydown(e){hx(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Go:Yo)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),dm(this.view))}update(e){for(let r of e.transactions)for(let i of r.effects)i.is(Ys)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(hh).top}}function ar(t,e){return t.state.phrase(e)}const $a=30,qa=/[\s\.,:;?!]/;function mh(t,{from:e,to:r}){let i=t.state.doc.lineAt(e),n=t.state.doc.lineAt(r).to,s=Math.max(i.from,e-$a),a=Math.min(n,r+$a),o=t.state.sliceDoc(s,a);if(s!=i.from){for(let l=0;l<$a;l++)if(!qa.test(o[l+1])&&qa.test(o[l])){o=o.slice(l);break}}if(a!=n){for(let l=o.length-1;l>o.length-$a;l--)if(!qa.test(o[l-1])&&qa.test(o[l])){o=o.slice(0,l);break}}return le.announce.of(`${t.state.phrase("current match")}. ${o} ${t.state.phrase("on line")} ${i.number}.`)}const jC=le.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),QC=[Mi,Zn.lowest(VC),jC];class G3{constructor(e,r,i){this.state=e,this.pos=r,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let r=Rt(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),i=Math.max(r.from,this.pos-250),n=r.text.slice(i-r.from,this.pos-r.from),s=n.search(X3(e,!1));return s<0?null:{from:i+s,to:this.pos,text:n.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,r){e=="abort"&&this.abortListeners&&this.abortListeners.push(r)}}function mm(t){let e=Object.keys(t).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function JC(t){let e=Object.create(null),r=Object.create(null);for(let{label:n}of t){e[n[0]]=!0;for(let s=1;s<n.length;s++)r[n[s]]=!0}let i=mm(e)+mm(r)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function ZC(t){let e=t.map(n=>typeof n=="string"?{label:n}:n),[r,i]=e.every(n=>/^\w+$/.test(n.label))?[/\w*$/,/\w+$/]:JC(e);return n=>{let s=n.matchBefore(i);return s||n.explicit?{from:s?s.from:n.pos,options:e,validFor:r}:null}}class pm{constructor(e,r,i){this.completion=e,this.source=r,this.match=i}}function Di(t){return t.selection.main.head}function X3(t,e){var r;let{source:i}=t,n=e&&i[0]!="^",s=i[i.length-1]!="$";return!n&&!s?t:new RegExp(`${n?"^":""}(?:${i})${s?"$":""}`,(r=t.flags)!==null&&r!==void 0?r:t.ignoreCase?"i":"")}const ek=gi.define();function tk(t,e,r,i){return Object.assign(Object.assign({},t.changeByRange(n=>{if(n==t.selection.main)return{changes:{from:r,to:i,insert:e},range:Y.cursor(r+e.length)};let s=i-r;return!n.empty||s&&t.sliceDoc(n.from-s,n.from)!=t.sliceDoc(r,i)?{range:n}:{changes:{from:n.from-s,to:n.from,insert:e},range:Y.cursor(n.from-s+e.length)}})),{userEvent:"input.complete"})}function K3(t,e){const r=e.completion.apply||e.completion.label;let i=e.source;typeof r=="string"?t.dispatch(Object.assign(Object.assign({},tk(t.state,r,i.from,i.to)),{annotations:ek.of(e.completion)})):r(t,e.completion,i.from,i.to)}const gm=new WeakMap;function rk(t){if(!Array.isArray(t))return t;let e=gm.get(t);return e||gm.set(t,e=ZC(t)),e}class ik{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let r=0;r<e.length;){let i=It(e,r),n=Tr(i);this.chars.push(i);let s=e.slice(r,r+n),a=s.toUpperCase();this.folded.push(It(a==s?s.toLowerCase():a,0)),r+=n}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;let{chars:r,folded:i,any:n,precise:s,byWord:a}=this;if(r.length==1){let R=It(e,0),I=Tr(R),P=I==e.length?0:-100;if(R!=r[0])if(R==i[0])P+=-200;else return null;return[P,0,I]}let o=e.indexOf(this.pattern);if(o==0)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let l=r.length,u=0;if(o<0){for(let R=0,I=Math.min(e.length,200);R<I&&u<l;){let P=It(e,R);(P==r[u]||P==i[u])&&(n[u++]=R),R+=Tr(P)}if(u<l)return null}let c=0,h=0,m=!1,p=0,b=-1,A=-1,x=/[a-z]/.test(e),S=!0;for(let R=0,I=Math.min(e.length,200),P=0;R<I&&h<l;){let N=It(e,R);o<0&&(c<l&&N==r[c]&&(s[c++]=R),p<l&&(N==r[p]||N==i[p]?(p==0&&(b=R),A=R+1,p++):p=0));let $,_=N<255?N>=48&&N<=57||N>=97&&N<=122?2:N>=65&&N<=90?1:0:($=qc(N))!=$.toLowerCase()?1:$!=$.toUpperCase()?2:0;(!R||_==1&&x||P==0&&_!=0)&&(r[h]==N||i[h]==N&&(m=!0)?a[h++]=R:a.length&&(S=!1)),P=_,R+=Tr(N)}return h==l&&a[0]==0&&S?this.result(-100+(m?-200:0),a,e):p==l&&b==0?[-200-e.length+(A==e.length?0:-100),0,A]:o>-1?[-700-e.length,o,o+this.pattern.length]:p==l?[-200+-700-e.length,b,A]:h==l?this.result(-100+(m?-200:0)+-700+(S?0:-1100),a,e):r.length==2?null:this.result((n[0]?-700:0)+-200+-1100,n,e)}result(e,r,i){let n=[e-i.length],s=1;for(let a of r){let o=a+(this.astral?Tr(It(i,a)):1);s>1&&n[s-1]==a?n[s-1]=o:(n[s++]=a,n[s++]=o)}return n}}const Sr=oe.define({combine(t){return Jr(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>i=>bm(e(i),r(i)),optionClass:(e,r)=>i=>bm(e(i),r(i)),addToOptions:(e,r)=>e.concat(r)})}});function bm(t,e){return t?e?t+" "+e:t:e}function nk(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(r){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),r.type&&i.classList.add(...r.type.split(/\s+/g).map(n=>"cm-completionIcon-"+n)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(r,i,n){let s=document.createElement("span");s.className="cm-completionLabel";let{label:a}=r,o=0;for(let l=1;l<n.length;){let u=n[l++],c=n[l++];u>o&&s.appendChild(document.createTextNode(a.slice(o,u)));let h=s.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(a.slice(u,c))),h.className="cm-completionMatchedText",o=c}return o<a.length&&s.appendChild(document.createTextNode(a.slice(o))),s},position:50},{render(r){if(!r.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=r.detail,i},position:80}),e.sort((r,i)=>r.position-i.position).map(r=>r.render)}function Tm(t,e,r){if(t<=r)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let n=Math.floor(e/r);return{from:n*r,to:(n+1)*r}}let i=Math.floor((t-e)/r);return{from:t-(i+1)*r,to:t-i*r}}class sk{constructor(e,r){this.view=e,this.stateField=r,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:o=>this.positionInfo(o),key:this},this.space=null,this.currentClass="";let i=e.state.field(r),{options:n,selected:s}=i.open,a=e.state.facet(Sr);this.optionContent=nk(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Tm(n.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",o=>{for(let l=o.target,u;l&&l!=this.dom;l=l.parentNode)if(l.nodeName=="LI"&&(u=/-(\d+)$/.exec(l.id))&&+u[1]<n.length){K3(e,n[+u[1]]),o.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(n,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){var r,i,n;let s=e.state.field(this.stateField),a=e.startState.field(this.stateField);this.updateTooltipClass(e.state),s!=a&&(this.updateSel(),((r=s.open)===null||r===void 0?void 0:r.disabled)!=((i=a.open)===null||i===void 0?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((n=s.open)===null||n===void 0)&&n.disabled)))}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of r.split(" "))i&&this.dom.classList.add(i);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=Tm(r.options.length,r.selected,this.view.state.facet(Sr).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(r.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(r.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=r.options[r.selected],{info:n}=i;if(!n)return;let s=typeof n=="string"?document.createTextNode(n):n(i);if(!s)return;"then"in s?s.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a)}).catch(a=>hr(this.view.state,a,"completion info")):this.addInfoPane(s)}}addInfoPane(e){let r=this.info=document.createElement("div");r.className="cm-tooltip cm-completionInfo",r.appendChild(e),this.dom.appendChild(r),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let r=null;for(let i=this.list.firstChild,n=this.range.from;i;i=i.nextSibling,n++)n==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),r=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return r&&ok(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),n=e.getBoundingClientRect(),s=this.space;if(!s){let b=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:b.innerWidth,bottom:b.innerHeight}}if(n.top>Math.min(s.bottom,r.bottom)-10||n.bottom<Math.max(s.top,r.top)+10)return null;let a=this.view.textDirection==at.RTL,o=a,l=!1,u,c="",h="",m=r.left-s.left,p=s.right-r.right;if(o&&m<Math.min(i.width,p)?o=!1:!o&&p<Math.min(i.width,m)&&(o=!0),i.width<=(o?m:p))c=Math.max(s.top,Math.min(n.top,s.bottom-i.height))-r.top+"px",u=Math.min(400,o?m:p)+"px";else{l=!0,u=Math.min(400,(a?r.right:s.right-r.left)-30)+"px";let b=s.bottom-r.bottom;b>=i.height||b>r.top?c=n.bottom-r.top+"px":h=r.bottom-n.top+"px"}return{top:c,bottom:h,maxWidth:u,class:l?a?"left-narrow":"right-narrow":o?"left":"right"}}positionInfo(e){this.info&&(e?(this.info.style.top=e.top,this.info.style.bottom=e.bottom,this.info.style.maxWidth=e.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+e.class):this.info.style.top="-1e6px")}createListBox(e,r,i){const n=document.createElement("ul");n.id=r,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let s=i.from;s<i.to;s++){let{completion:a,match:o}=e[s];const l=n.appendChild(document.createElement("li"));l.id=r+"-"+s,l.setAttribute("role","option");let u=this.optionClass(a);u&&(l.className=u);for(let c of this.optionContent){let h=c(a,this.view.state,o);h&&l.appendChild(h)}}return i.from&&n.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&n.classList.add("cm-completionListIncompleteBottom"),n}}function ak(t){return e=>new sk(e,t)}function ok(t,e){let r=t.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<r.top?t.scrollTop-=r.top-i.top:i.bottom>r.bottom&&(t.scrollTop+=i.bottom-r.bottom)}function vm(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function lk(t,e){let r=[],i=0;for(let o of t)if(o.hasResult())if(o.result.filter===!1){let l=o.result.getMatch;for(let u of o.result.options){let c=[1e9-i++];if(l)for(let h of l(u))c.push(h);r.push(new pm(u,o,c))}}else{let l=new ik(e.sliceDoc(o.from,o.to)),u;for(let c of o.result.options)(u=l.match(c.label))&&(c.boost!=null&&(u[0]+=c.boost),r.push(new pm(c,o,u)))}let n=[],s=null,a=e.facet(Sr).compareCompletions;for(let o of r.sort((l,u)=>u.match[0]-l.match[0]||a(l.completion,u.completion)))!s||s.label!=o.completion.label||s.detail!=o.completion.detail||s.type!=null&&o.completion.type!=null&&s.type!=o.completion.type||s.apply!=o.completion.apply?n.push(o):vm(o.completion)>vm(s)&&(n[n.length-1]=o),s=o.completion;return n}class kn{constructor(e,r,i,n,s,a){this.options=e,this.attrs=r,this.tooltip=i,this.timestamp=n,this.selected=s,this.disabled=a}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new kn(this.options,Em(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,i,n,s){let a=lk(e,r);if(!a.length)return n&&e.some(l=>l.state==1)?new kn(n.options,n.attrs,n.tooltip,n.timestamp,n.selected,!0):null;let o=r.facet(Sr).selectOnOpen?0:-1;if(n&&n.selected!=o&&n.selected!=-1){let l=n.options[n.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==l){o=u;break}}return new kn(a,Em(i,o),{pos:e.reduce((l,u)=>u.hasResult()?Math.min(l,u.from):l,1e8),create:ak(gr),above:s.aboveCursor},n?n.timestamp:Date.now(),o,!1)}map(e){return new kn(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Xo{constructor(e,r,i){this.active=e,this.id=r,this.open=i}static start(){return new Xo(hk,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,i=r.facet(Sr),s=(i.override||r.languageDataAt("autocomplete",Di(r)).map(rk)).map(o=>(this.active.find(u=>u.source==o)||new Zt(o,this.active.some(u=>u.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((o,l)=>o==this.active[l])&&(s=this.active);let a=this.open;a&&e.docChanged&&(a=a.map(e.changes)),e.selection||s.some(o=>o.hasResult()&&e.changes.touchesRange(o.from,o.to))||!uk(s,this.active)?a=kn.build(s,r,this.id,a,i):a&&a.disabled&&!s.some(o=>o.state==1)&&(a=null),!a&&s.every(o=>o.state!=1)&&s.some(o=>o.hasResult())&&(s=s.map(o=>o.hasResult()?new Zt(o.source,0):o));for(let o of e.effects)o.is(Q3)&&(a=a&&a.setSelected(o.value,this.id));return s==this.active&&a==this.open?this:new Xo(s,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:ck}}function uk(t,e){if(t==e)return!0;for(let r=0,i=0;;){for(;r<t.length&&!t[r].hasResult;)r++;for(;i<e.length&&!e[i].hasResult;)i++;let n=r==t.length,s=i==e.length;if(n||s)return n==s;if(t[r++].result!=e[i++].result)return!1}}const ck={"aria-autocomplete":"list"};function Em(t,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(r["aria-activedescendant"]=t+"-"+e),r}const hk=[];function Gu(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class Zt{constructor(e,r,i=-1){this.source=e,this.state=r,this.explicitPos=i}hasResult(){return!1}update(e,r){let i=Gu(e),n=this;i?n=n.handleUserEvent(e,i,r):e.docChanged?n=n.handleChange(e):e.selection&&n.state!=0&&(n=new Zt(n.source,0));for(let s of e.effects)if(s.is(ph))n=new Zt(n.source,1,s.value?Di(e.state):-1);else if(s.is(Ko))n=new Zt(n.source,0);else if(s.is(j3))for(let a of s.value)a.source==n.source&&(n=a);return n}handleUserEvent(e,r,i){return r=="delete"||!i.activateOnTyping?this.map(e.changes):new Zt(this.source,1)}handleChange(e){return e.changes.touchesRange(Di(e.startState))?new Zt(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Zt(this.source,this.state,e.mapPos(this.explicitPos))}}class _s extends Zt{constructor(e,r,i,n,s){super(e,2,r),this.result=i,this.from=n,this.to=s}hasResult(){return!0}handleUserEvent(e,r,i){var n;let s=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),o=Di(e.state);if((this.explicitPos<0?o<=s:o<this.from)||o>a||r=="delete"&&Di(e.startState)==this.from)return new Zt(this.source,r=="input"&&i.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),u;return fk(this.result.validFor,e.state,s,a)?new _s(this.source,l,this.result,s,a):this.result.update&&(u=this.result.update(this.result,s,a,new G3(e.state,o,l>=0)))?new _s(this.source,l,u,u.from,(n=u.to)!==null&&n!==void 0?n:Di(e.state)):new Zt(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Zt(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new _s(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function fk(t,e,r,i){if(!t)return!1;let n=e.sliceDoc(r,i);return typeof t=="function"?t(n,r,i,e):X3(t,!0).test(n)}const ph=Ae.define(),Ko=Ae.define(),j3=Ae.define({map(t,e){return t.map(r=>r.map(e))}}),Q3=Ae.define(),gr=Lt.define({create(){return Xo.start()},update(t,e){return t.update(e)},provide:t=>[Zc.from(t,e=>e.tooltip),le.contentAttributes.from(t,e=>e.attrs)]});function Va(t,e="option"){return r=>{let i=r.state.field(gr,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<r.state.facet(Sr).interactionDelay)return!1;let n=1,s;e=="page"&&(s=Zx(r,i.open.tooltip))&&(n=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=i.open.options,o=i.open.selected>-1?i.open.selected+n*(t?1:-1):t?0:a-1;return o<0?o=e=="page"?0:a-1:o>=a&&(o=e=="page"?a-1:0),r.dispatch({effects:Q3.of(o)}),!0}}const dk=t=>{let e=t.state.field(gr,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<t.state.facet(Sr).interactionDelay?!1:(e.open.disabled||K3(t,e.open.options[e.open.selected]),!0)},mk=t=>t.state.field(gr,!1)?(t.dispatch({effects:ph.of(!0)}),!0):!1,pk=t=>{let e=t.state.field(gr,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(t.dispatch({effects:Ko.of(null)}),!0)};class gk{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const ym=50,bk=50,Tk=1e3,vk=ft.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(gr).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(gr);if(!t.selectionSet&&!t.docChanged&&t.startState.field(gr)==e)return;let r=t.transactions.some(i=>(i.selection||i.docChanged)&&!Gu(i));for(let i=0;i<this.running.length;i++){let n=this.running[i];if(r||n.updates.length+t.transactions.length>bk&&Date.now()-n.time>Tk){for(let s of n.context.abortListeners)try{s()}catch(a){hr(this.view.state,a)}n.context.abortListeners=null,this.running.splice(i--,1)}else n.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(n=>n.active.source==i.source))?setTimeout(()=>this.startUpdate(),ym):-1,this.composing!=0)for(let i of t.transactions)Gu(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(gr);for(let r of e.active)r.state==1&&!this.running.some(i=>i.active.source==r.source)&&this.startQuery(r)}startQuery(t){let{state:e}=this.view,r=Di(e),i=new G3(e,r,t.explicitPos==r),n=new gk(t,i);this.running.push(n),Promise.resolve(t.source(i)).then(s=>{n.context.aborted||(n.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Ko.of(null)}),hr(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),ym))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(Sr);for(let i=0;i<this.running.length;i++){let n=this.running[i];if(n.done===void 0)continue;if(this.running.splice(i--,1),n.done){let a=new _s(n.active.source,n.active.explicitPos,n.done,n.done.from,(t=n.done.to)!==null&&t!==void 0?t:Di(n.updates.length?n.updates[0].startState:this.view.state));for(let o of n.updates)a=a.update(o,r);if(a.hasResult()){e.push(a);continue}}let s=this.view.state.field(gr).active.find(a=>a.source==n.active.source);if(s&&s.state==1)if(n.done==null){let a=new Zt(n.active.source,0);for(let o of n.updates)a=a.update(o,r);a.state!=1&&e.push(a)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:j3.of(e)})}},{eventHandlers:{blur(){let t=this.view.state.field(gr,!1);t&&t.tooltip&&this.view.state.facet(Sr).closeOnBlur&&this.view.dispatch({effects:Ko.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ph.of(!1)}),20),this.composing=0}}}),Ek=le.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:`${400}px`,boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`${30}px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`${30}px`},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Gs={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},nn=Ae.define({map(t,e){let r=e.mapPos(t,-1,zt.TrackAfter);return r??void 0}}),gh=Ae.define({map(t,e){return e.mapPos(t)}}),bh=new class extends un{};bh.startSide=1;bh.endSide=-1;const J3=Lt.define({create(){return qe.empty},update(t,e){if(e.selection){let r=e.state.doc.lineAt(e.selection.main.head).from,i=e.startState.doc.lineAt(e.startState.selection.main.head).from;r!=e.changes.mapPos(i,-1)&&(t=qe.empty)}t=t.map(e.changes);for(let r of e.effects)r.is(nn)?t=t.update({add:[bh.range(r.value,r.value+1)]}):r.is(gh)&&(t=t.update({filter:i=>i!=r.value}));return t}});function yk(){return[xk,J3]}const N0="()[]{}<>";function Z3(t){for(let e=0;e<N0.length;e+=2)if(N0.charCodeAt(e)==t)return N0.charAt(e+1);return qc(t<128?t:t+1)}function e6(t,e){return t.languageDataAt("closeBrackets",e)[0]||Gs}const Ak=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),xk=le.inputHandler.of((t,e,r,i)=>{if((Ak?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let n=t.state.selection.main;if(i.length>2||i.length==2&&Tr(It(i,0))==1||e!=n.from||r!=n.to)return!1;let s=Ck(t.state,i);return s?(t.dispatch(s),!0):!1}),Sk=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=e6(t,t.selection.main.head).brackets||Gs.brackets,n=null,s=t.changeByRange(a=>{if(a.empty){let o=kk(t.doc,a.head);for(let l of i)if(l==o&&Dl(t.doc,a.head)==Z3(It(l,0)))return{changes:{from:a.head-l.length,to:a.head+l.length},range:Y.cursor(a.head-l.length)}}return{range:n=a}});return n||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!n},wk=[{key:"Backspace",run:Sk}];function Ck(t,e){let r=e6(t,t.selection.main.head),i=r.brackets||Gs.brackets;for(let n of i){let s=Z3(It(n,0));if(e==n)return s==n?Nk(t,n,i.indexOf(n+n+n)>-1,r):_k(t,n,s,r.before||Gs.before);if(e==s&&t6(t,t.selection.main.from))return Ok(t,n,s)}return null}function t6(t,e){let r=!1;return t.field(J3).between(0,t.doc.length,i=>{i==e&&(r=!0)}),r}function Dl(t,e){let r=t.sliceString(e,e+2);return r.slice(0,Tr(It(r,0)))}function kk(t,e){let r=t.sliceString(e-2,e);return Tr(It(r,0))==r.length?r:r.slice(1)}function _k(t,e,r,i){let n=null,s=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:r,from:a.to}],effects:nn.of(a.to+e.length),range:Y.range(a.anchor+e.length,a.head+e.length)};let o=Dl(t.doc,a.head);return!o||/\s/.test(o)||i.indexOf(o)>-1?{changes:{insert:e+r,from:a.head},effects:nn.of(a.head+e.length),range:Y.cursor(a.head+e.length)}:{range:n=a}});return n?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Ok(t,e,r){let i=null,n=t.selection.ranges.map(s=>s.empty&&Dl(t.doc,s.head)==r?Y.cursor(s.head+r.length):i=s);return i?null:t.update({selection:Y.create(n,t.selection.mainIndex),scrollIntoView:!0,effects:t.selection.ranges.map(({from:s})=>gh.of(s))})}function Nk(t,e,r,i){let n=i.stringPrefixes||Gs.stringPrefixes,s=null,a=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:nn.of(o.to+e.length),range:Y.range(o.anchor+e.length,o.head+e.length)};let l=o.head,u=Dl(t.doc,l),c;if(u==e){if(Am(t,l))return{changes:{insert:e+e,from:l},effects:nn.of(l+e.length),range:Y.cursor(l+e.length)};if(t6(t,l)){let h=r&&t.sliceDoc(l,l+e.length*3)==e+e+e;return{range:Y.cursor(l+e.length*(h?3:1)),effects:gh.of(l)}}}else{if(r&&t.sliceDoc(l-2*e.length,l)==e+e&&(c=xm(t,l-2*e.length,n))>-1&&Am(t,c))return{changes:{insert:e+e+e+e,from:l},effects:nn.of(l+e.length),range:Y.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=tt.Word&&xm(t,l,n)>-1&&!Ik(t,l,e,n))return{changes:{insert:e+e,from:l},effects:nn.of(l+e.length),range:Y.cursor(l+e.length)}}return{range:s=o}});return s?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function Am(t,e){let r=Rt(t).resolveInner(e+1);return r.parent&&r.from==e}function Ik(t,e,r,i){let n=Rt(t).resolveInner(e,-1),s=i.reduce((a,o)=>Math.max(a,o.length),0);for(let a=0;a<5;a++){let o=t.sliceDoc(n.from,Math.min(n.to,n.from+r.length+s)),l=o.indexOf(r);if(!l||l>-1&&i.indexOf(o.slice(0,l))>-1){let c=n.firstChild;for(;c&&c.from==n.from&&c.to-c.from>r.length+l;){if(t.sliceDoc(c.to-r.length,c.to)==r)return!1;c=c.firstChild}return!0}let u=n.to==e&&n.parent;if(!u)break;n=u}return!1}function xm(t,e,r){let i=t.charCategorizer(e);if(i(t.sliceDoc(e-1,e))!=tt.Word)return e;for(let n of r){let s=e-n.length;if(t.sliceDoc(s,e)==n&&i(t.sliceDoc(s-1,s))!=tt.Word)return s}return-1}function Mk(t={}){return[gr,Sr.of(t),vk,Dk,Ek]}const r6=[{key:"Ctrl-Space",run:mk},{key:"Escape",run:pk},{key:"ArrowDown",run:Va(!0)},{key:"ArrowUp",run:Va(!1)},{key:"PageDown",run:Va(!0,"page")},{key:"PageUp",run:Va(!1,"page")},{key:"Enter",run:dk}],Dk=Zn.highest(xl.computeN([Sr],t=>t.facet(Sr).defaultKeymap?[r6]:[]));class Rk{constructor(e,r,i){this.from=e,this.to=r,this.diagnostic=i}}class en{constructor(e,r,i){this.diagnostics=e,this.panel=r,this.selected=i}static init(e,r,i){let n=e,s=i.facet(_n).markerFilter;s&&(n=s(n));let a=ue.set(n.map(o=>o.from==o.to||o.from==o.to-1&&i.doc.lineAt(o.from).to==o.from?ue.widget({widget:new Vk(o),diagnostic:o}).range(o.from):ue.mark({attributes:{class:"cm-lintRange cm-lintRange-"+o.severity},diagnostic:o}).range(o.from,o.to)),!0);return new en(a,r,Gn(a))}}function Gn(t,e=null,r=0){let i=null;return t.between(r,1e9,(n,s,{spec:a})=>{if(!(e&&a.diagnostic!=e))return i=new Rk(n,s,a.diagnostic),!1}),i}function Lk(t,e){return!!(t.effects.some(r=>r.is(Th))||t.changes.touchesRange(e.pos))}function i6(t,e){return t.field(cr,!1)?e:e.concat(Ae.appendConfig.of([cr,le.decorations.compute([cr],r=>{let{selected:i,panel:n}=r.field(cr);return!i||!n||i.from==i.to?ue.none:ue.set([Bk.range(i.from,i.to)])}),Jx(Fk,{hideOn:Lk}),Yk]))}function Pk(t,e){return{effects:i6(t,[Th.of(e)])}}const Th=Ae.define(),vh=Ae.define(),n6=Ae.define(),cr=Lt.define({create(){return new en(ue.none,null,null)},update(t,e){if(e.docChanged){let r=t.diagnostics.map(e.changes),i=null;if(t.selected){let n=e.changes.mapPos(t.selected.from,1);i=Gn(r,t.selected.diagnostic,n)||Gn(r,null,n)}t=new en(r,t.panel,i)}for(let r of e.effects)r.is(Th)?t=en.init(r.value,t.panel,e.state):r.is(vh)?t=new en(t.diagnostics,r.value?Rl.open:null,t.selected):r.is(n6)&&(t=new en(t.diagnostics,t.panel,r.value));return t},provide:t=>[Vs.from(t,e=>e.panel),le.decorations.from(t,e=>e.diagnostics)]}),Bk=ue.mark({class:"cm-lintRange cm-lintRange-active"});function Fk(t,e,r){let{diagnostics:i}=t.state.field(cr),n=[],s=2e8,a=0;i.between(e-(r<0?1:0),e+(r>0?1:0),(l,u,{spec:c})=>{e>=l&&e<=u&&(l==u||(e>l||r>0)&&(e<u||r<0))&&(n.push(c.diagnostic),s=Math.min(l,s),a=Math.max(u,a))});let o=t.state.facet(_n).tooltipFilter;return o&&(n=o(n)),n.length?{pos:s,end:a,above:t.state.doc.lineAt(s).to<a,create(){return{dom:Hk(t,n)}}}:null}function Hk(t,e){return Ke("ul",{class:"cm-tooltip-lint"},e.map(r=>a6(t,r,!1)))}const Uk=t=>{let e=t.state.field(cr,!1);(!e||!e.panel)&&t.dispatch({effects:i6(t.state,[vh.of(!0)])});let r=qs(t,Rl.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},Sm=t=>{let e=t.state.field(cr,!1);return!e||!e.panel?!1:(t.dispatch({effects:vh.of(!1)}),!0)},zk=t=>{let e=t.state.field(cr,!1);if(!e)return!1;let r=t.state.selection.main,i=e.diagnostics.iter(r.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==r.from&&i.to==r.to)?!1:(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},$k=[{key:"Mod-Shift-m",run:Uk,preventDefault:!0},{key:"F8",run:zk}],qk=ft.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(_n);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:r}=e.facet(_n);Promise.all(r.map(i=>Promise.resolve(i(this.view)))).then(i=>{let n=i.reduce((s,a)=>s.concat(a));this.view.state.doc==e.doc&&this.view.dispatch(Pk(this.view.state,n))},i=>{hr(this.view.state,i)})}}update(t){let e=t.state.facet(_n);(t.docChanged||e!=t.startState.facet(_n)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),_n=oe.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},Jr(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,r)=>e?r?i=>e(i)||r(i):e:r}))},enables:qk});function s6(t){let e=[];if(t)e:for(let{name:r}of t){for(let i=0;i<r.length;i++){let n=r[i];if(/[a-zA-Z]/.test(n)&&!e.some(s=>s.toLowerCase()==n.toLowerCase())){e.push(n);continue e}}e.push("")}return e}function a6(t,e,r){var i;let n=r?s6(e.actions):[];return Ke("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Ke("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,a)=>{let o=!1,l=m=>{if(m.preventDefault(),o)return;o=!0;let p=Gn(t.state.field(cr).diagnostics,e);p&&s.apply(t,p.from,p.to)},{name:u}=s,c=n[a]?u.indexOf(n[a]):-1,h=c<0?u:[u.slice(0,c),Ke("u",u.slice(c,c+1)),u.slice(c+1)];return Ke("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${n[a]})"`}.`},h)}),e.source&&Ke("div",{class:"cm-diagnosticSource"},e.source))}class Vk extends bi{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Ke("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class wm{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=a6(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Rl{constructor(e){this.view=e,this.items=[];let r=n=>{if(n.keyCode==27)Sm(this.view),this.view.focus();else if(n.keyCode==38||n.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(n.keyCode==40||n.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(n.keyCode==36)this.moveSelection(0);else if(n.keyCode==35)this.moveSelection(this.items.length-1);else if(n.keyCode==13)this.view.focus();else if(n.keyCode>=65&&n.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],a=s6(s.actions);for(let o=0;o<a.length;o++)if(a[o].toUpperCase().charCodeAt(0)==n.keyCode){let l=Gn(this.view.state.field(cr).diagnostics,s);l&&s.actions[o].apply(e,l.from,l.to)}}else return;n.preventDefault()},i=n=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(n.target)&&this.moveSelection(s)};this.list=Ke("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:i}),this.dom=Ke("div",{class:"cm-panel-lint"},this.list,Ke("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Sm(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(cr).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(cr),i=0,n=!1,s=null;for(e.between(0,this.view.state.doc.length,(a,o,{spec:l})=>{let u=-1,c;for(let h=i;h<this.items.length;h++)if(this.items[h].diagnostic==l.diagnostic){u=h;break}u<0?(c=new wm(this.view,l.diagnostic),this.items.splice(i,0,c),n=!0):(c=this.items[u],u>i&&(this.items.splice(i,u-i),n=!0)),r&&c.diagnostic==r.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),s=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();this.items.length==0&&(this.items.push(new wm(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:o})=>{a.top<o.top?this.list.scrollTop-=o.top-a.top:a.bottom>o.bottom&&(this.list.scrollTop+=a.bottom-o.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let e=this.list.firstChild;function r(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)r();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(cr),i=Gn(r.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:n6.of(i)})}static open(e){return new Rl(e)}}function Wk(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function I0(t){return Wk(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Yk=le.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:I0("#d11")},".cm-lintRange-warning":{backgroundImage:I0("orange")},".cm-lintRange-info":{backgroundImage:I0("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),Gk=(()=>[lS(),hS(),_x(),ww(),QS(),bx(),Ax(),Ie.allowMultipleSelections.of(!0),HS(),ZS(rw,{fallback:!0}),uw(),yk(),Mk(),$x(),Wx(),Rx(),OC(),xl.of([...wk,...xC,...XC,...Rw,...XS,...r6,...$k])])();function Xk(t,e,r=!1){let i;return function(...s){const a=this;i?clearTimeout(i):r&&t.apply(a,s),i=setTimeout(o,e||100);function o(){r||t.apply(a,s),i=null}}}function Kk(t){let e,r,i,n,s,a,o,l,u,c;return{c(){e=Fe("div"),r=Fe("div"),i=Fe("div"),n=pt(),s=Fe("p"),a=Se("Loading editor..."),o=pt(),l=Fe("pre"),u=Se(t[0]),this.h()},l(h){e=He(h,"DIV",{class:!0});var m=$e(e);r=He(m,"DIV",{class:!0});var p=$e(r);i=He(p,"DIV",{class:!0}),$e(i).forEach(q),n=gt(p),s=He(p,"P",{class:!0});var b=$e(s);a=we(b,"Loading editor..."),b.forEach(q),p.forEach(q),o=gt(m),l=He(m,"PRE",{class:!0});var A=$e(l);u=we(A,t[0]),A.forEach(q),m.forEach(q),this.h()},h(){Nt(i,"class","scm-loading__spinner svelte-kcx0g9"),Nt(s,"class","scm-loading__text svelte-kcx0g9"),Nt(r,"class","scm-waiting__loading scm-loading svelte-kcx0g9"),Nt(l,"class","scm-pre cm-editor svelte-kcx0g9"),Nt(e,"class",c="scm-waiting "+t[1]+" svelte-kcx0g9")},m(h,m){J(h,e,m),et(e,r),et(r,i),et(r,n),et(r,s),et(s,a),et(e,o),et(e,l),et(l,u)},p(h,m){m&1&&bt(u,h[0]),m&2&&c!==(c="scm-waiting "+h[1]+" svelte-kcx0g9")&&Nt(e,"class",c)},d(h){h&&q(e)}}}function jk(t){let e,r;return{c(){e=Fe("div"),this.h()},l(i){e=He(i,"DIV",{class:!0}),$e(e).forEach(q),this.h()},h(){Nt(e,"class",r="codemirror-wrapper "+t[1]+" svelte-kcx0g9")},m(i,n){J(i,e,n),t[17](e)},p(i,n){n&2&&r!==(r="codemirror-wrapper "+i[1]+" svelte-kcx0g9")&&Nt(e,"class",r)},d(i){i&&q(e),t[17](null)}}}function Qk(t){let e;function r(s,a){return s[3]?jk:Kk}let n=r(t)(t);return{c(){n.c(),e=ke()},l(s){n.l(s),e=ke()},m(s,a){n.m(s,a),J(s,e,a)},p(s,[a]){n.p(s,a)},i:Ft,o:Ft,d(s){n.d(s),s&&q(e)}}}function Jk(t,e,r){let i,{class:n=""}=e,{value:s=""}=e,{basic:a=!0}=e,{lang:o=void 0}=e,{theme:l=void 0}=e,{extensions:u=[]}=e,{useTab:c=!0}=e,{tabSize:h=2}=e,{styles:m=void 0}=e,{lineWrapping:p=!1}=e,{editable:b=!0}=e,{readonly:A=!1}=e,{placeholder:x=void 0}=e;const S=typeof window<"u",R=d6();let I,P,N=!1,$=!1,_=!0,B=!0;m6(()=>r(15,P=z())),p6(()=>P==null?void 0:P.destroy());function z(){const se=Xk(Ee,300);return new le({parent:I,state:We(s),dispatch(Ue){P.update([Ue]),!N&&Ue.docChanged&&se()}})}function M(){if(_){_=!1;return}P.dispatch({effects:Ae.reconfigure.of(i)})}function ne(se){if(B){B=!1;return}if($){$=!1;return}N=!0,P.setState(We(se)),N=!1}function Ee(){const se=P.state.doc.toString();se!==s&&($=!0,r(0,s=se),R("change",s))}function We(se){return Ie.create({doc:se??void 0,extensions:i})}function De(se,Ue,Be,ze,At,ut,mr,ei){const sr=[Sl.of(" ".repeat(Be)),le.editable.of(ut),Ie.readOnly.of(mr)];return se&&sr.push(Gk),Ue&&sr.push(xl.of([SC])),At&&sr.push(Fx(At)),ei&&sr.push(ei),ze&&sr.push(le.lineWrapping),sr}function Re(se,Ue){const Be=[];return Ue&&Be.push(le.theme(Ue)),se&&Be.push(se),Be}function Ye(se){$m[se?"unshift":"push"](()=>{I=se,r(2,I)})}return t.$$set=se=>{"class"in se&&r(1,n=se.class),"value"in se&&r(0,s=se.value),"basic"in se&&r(4,a=se.basic),"lang"in se&&r(5,o=se.lang),"theme"in se&&r(6,l=se.theme),"extensions"in se&&r(7,u=se.extensions),"useTab"in se&&r(8,c=se.useTab),"tabSize"in se&&r(9,h=se.tabSize),"styles"in se&&r(10,m=se.styles),"lineWrapping"in se&&r(11,p=se.lineWrapping),"editable"in se&&r(12,b=se.editable),"readonly"in se&&r(13,A=se.readonly),"placeholder"in se&&r(14,x=se.placeholder)},t.$$.update=()=>{t.$$.dirty&32752&&r(16,i=[...De(a,c,h,p,x,b,A,o),...Re(l,m),...u]),t.$$.dirty&32769&&P&&ne(s),t.$$.dirty&98304&&P&&i&&M()},[s,n,I,S,a,o,l,u,c,h,m,p,b,A,x,P,i,Ye]}class Zk extends Tt{constructor(e){super(),vt(this,e,Jk,Qk,Et,{class:1,value:0,basic:4,lang:5,theme:6,extensions:7,useTab:8,tabSize:9,styles:10,lineWrapping:11,editable:12,readonly:13,placeholder:14})}}class jo{constructor(e,r,i,n,s,a,o,l,u,c=0,h){this.p=e,this.stack=r,this.state=i,this.reducePos=n,this.pos=s,this.score=a,this.buffer=o,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,i=0){let n=e.parser.context;return new jo(e,[],r,i,i,0,[],0,n?new Cm(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let i=e>>19,n=e&65535,{parser:s}=this.p,a=s.dynamicPrecedence(n);if(a&&(this.score+=a),i==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),this.reduceContext(n,this.reducePos);return}let o=this.stack.length-(i-1)*3-(e&262144?6:0),l=o?this.stack[o-2]:this.p.ranges[0].from,u=this.reducePos-l;u>=2e3&&!(!((r=this.p.parser.nodeSet.types[n])===null||r===void 0)&&r.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=u));let c=o?this.stack[o-1]:0,h=this.bufferBase+this.buffer.length-c;if(n<s.minRepeatTerm||e&131072){let m=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,l,m,h+4,!0)}if(e&262144)this.state=this.stack[o];else{let m=this.stack[o-3];this.state=s.getGoto(m,n,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(n,l)}storeNode(e,r,i,n=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,o=this.buffer.length;if(o==0&&a.parent&&(o=a.bufferBase-a.parent.bufferBase,a=a.parent),o>0&&a.buffer[o-4]==0&&a.buffer[o-1]>-1){if(r==i)return;if(a.buffer[o-2]>=r){a.buffer[o-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,r,i,n);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0)for(;a>0&&this.buffer[a-2]>i;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,n>4&&(n-=4);this.buffer[a]=e,this.buffer[a+1]=r,this.buffer[a+2]=i,this.buffer[a+3]=n}}shift(e,r,i){let n=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(r,n),r<=this.p.parser.maxNode&&this.buffer.push(r,n,i,4);else{let s=e,{parser:a}=this.p;(i>this.pos||r<=a.maxNode)&&(this.pos=i,a.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,n),this.shiftContext(r,n),r<=a.maxNode&&this.buffer.push(r,n,i,4)}}apply(e,r,i){e&65536?this.reduce(e):this.shift(e,r,i)}useNode(e,r){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(r,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let i=e.buffer.slice(r),n=e.bufferBase+r;for(;e&&n==e.bufferBase;)e=e.parent;return new jo(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,i?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new e_(this);;){let i=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(i==0)return!1;if(!(i&65536))return!0;r.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>4<<1||this.stack.length>=120){let n=[];for(let s=0,a;s<r.length;s+=2)(a=r[s+1])!=this.state&&this.p.parser.hasAction(a,e)&&n.push(r[s],a);if(this.stack.length<120)for(let s=0;n.length<4<<1&&s<r.length;s+=2){let a=r[s+1];n.some((o,l)=>l&1&&o==a)||n.push(r[s],a)}r=n}let i=[];for(let n=0;n<r.length&&i.length<4;n+=2){let s=r[n+1];if(s==this.state)continue;let a=this.split();a.pushState(s,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(r[n],this.pos),a.score-=200,i.push(a)}return i}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(!(e&65536))return!1;let{parser:r}=this.p;if(!r.validAction(this.state,e)){let i=e>>19,n=e&65535,s=this.stack.length-i*3;if(s<0||r.getGoto(this.stack[s],n,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new Cm(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Cm{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}var km;(function(t){t[t.Insert=200]="Insert",t[t.Delete=190]="Delete",t[t.Reduce=100]="Reduce",t[t.MaxNext=4]="MaxNext",t[t.MaxInsertStackDepth=300]="MaxInsertStackDepth",t[t.DampenInsertStackDepth=120]="DampenInsertStackDepth",t[t.MinBigReduction=2e3]="MinBigReduction"})(km||(km={}));class e_{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=n}}class Qo{constructor(e,r,i){this.stack=e,this.pos=r,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new Qo(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Qo(this.stack,this.pos,this.index)}}function Wa(t,e=Uint16Array){if(typeof t!="string")return t;let r=null;for(let i=0,n=0;i<t.length;){let s=0;for(;;){let a=t.charCodeAt(i++),o=!1;if(a==126){s=65535;break}a>=92&&a--,a>=34&&a--;let l=a-32;if(l>=46&&(l-=46,o=!0),s+=l,o)break;s*=46}r?r[n++]=s:r=new e(s)}return r}class no{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const _m=new no;class t_{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=_m,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let i=this.range,n=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!n)return null;let a=this.ranges[--n];s-=i.from-a.to,i=a}for(;r<0?s>i.to:s>=i.to;){if(n==this.ranges.length-1)return null;let a=this.ranges[++n];s+=a.from-i.to,i=a}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,i,n;if(r>=0&&r<this.chunk.length)i=this.pos+e,n=this.chunk.charCodeAt(r);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let a=this.rangeIndex,o=this.range;for(;o.to<=i;)o=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-i)),n=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),n}acceptToken(e,r=0){let i=r?this.resolveOffset(r,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=_m,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let i="";for(let n of this.ranges){if(n.from>=r)break;n.to>e&&(i+=this.input.read(Math.max(n.from,e),Math.min(n.to,r)))}return i}}class Bn{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:i}=r.p;r_(this.data,e,r,this.id,i.data,i.tokenPrecTable)}}Bn.prototype.contextual=Bn.prototype.fallback=Bn.prototype.extend=!1;Bn.prototype.fallback=Bn.prototype.extend=!1;class o6{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function r_(t,e,r,i,n,s){let a=0,o=1<<i,{dialect:l}=r.p.parser;e:for(;o&t[a];){let u=t[a+1];for(let p=a+3;p<u;p+=2)if((t[p+1]&o)>0){let b=t[p];if(l.allows(b)&&(e.token.value==-1||e.token.value==b||i_(b,e.token.value,n,s))){e.acceptToken(b);break}}let c=e.next,h=0,m=t[a+2];if(e.next<0&&m>h&&t[u+m*3-3]==65535&&t[u+m*3-3]==65535){a=t[u+m*3-1];continue e}for(;h<m;){let p=h+m>>1,b=u+p+(p<<1),A=t[b],x=t[b+1]||65536;if(c<A)m=p;else if(c>=x)h=p+1;else{a=t[b+2],e.advance();continue e}}break}}function Om(t,e,r){for(let i=e,n;(n=t[i])!=65535;i++)if(n==r)return i-e;return-1}function i_(t,e,r,i){let n=Om(r,i,e);return n<0||Om(r,i,t)<n}const Cr=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let M0=null;var Nm;(function(t){t[t.Margin=25]="Margin"})(Nm||(Nm={}));function Im(t,e,r){let i=t.cursor(Dt.IncludeAnonymous);for(i.moveTo(e);;)if(!(r<0?i.childBefore(e):i.childAfter(e)))for(;;){if((r<0?i.to<e:i.from>e)&&!i.type.isError)return r<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(t.length,Math.max(i.from+1,e+25));if(r<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return r<0?0:t.length}}class n_{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Im(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Im(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let i=this.trees[r],n=this.index[r];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[n],a=this.start[r]+i.positions[n];if(a>e)return this.nextStart=a,null;if(s instanceof mt){if(a==e){if(a<this.safeFrom)return null;let o=a+s.length;if(o<=this.safeTo){let l=s.prop(Ce.lookAhead);if(!l||o+l<this.fragment.to)return s}}this.index[r]++,a+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(a),this.index.push(0))}else this.index[r]++,this.nextStart=a+s.length}}}class s_{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new no)}getActions(e){let r=0,i=null,{parser:n}=e.p,{tokenizers:s}=n,a=n.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if(!(1<<u&a))continue;let c=s[u],h=this.tokens[u];if(!(i&&!c.fallback)&&((c.contextual||h.start!=e.pos||h.mask!=a||h.context!=o)&&(this.updateCachedToken(h,c,e),h.mask=a,h.context=o),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let m=r;if(h.extended>-1&&(r=this.addActions(e,h.extended,h.end,r)),r=this.addActions(e,h.value,h.end,r),!c.extend&&(i=h,r>m))break}}for(;this.actions.length>r;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new no,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,r=this.addActions(e,i.value,i.end,r)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new no,{pos:i,p:n}=e;return r.start=i,r.end=Math.min(i+1,n.stream.end),r.value=i==n.stream.end?n.parser.eofTerm:0,r}updateCachedToken(e,r,i){let n=this.stream.clipPos(i.pos);if(r.token(this.stream.reset(n,e),i),e.value>-1){let{parser:s}=i.p;for(let a=0;a<s.specialized.length;a++)if(s.specialized[a]==e.value){let o=s.specializers[a](this.stream.read(e.start,e.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){o&1?e.extended=o>>1:e.value=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(n+1)}putAction(e,r,i,n){for(let s=0;s<n;s+=3)if(this.actions[s]==e)return n;return this.actions[n++]=e,this.actions[n++]=r,this.actions[n++]=i,n}addActions(e,r,i,n){let{state:s}=e,{parser:a}=e.p,{data:o}=a;for(let l=0;l<2;l++)for(let u=a.stateSlot(s,l?2:1);;u+=3){if(o[u]==65535)if(o[u+1]==1)u=ni(o,u+2);else{n==0&&o[u+1]==2&&(n=this.putAction(ni(o,u+2),r,i,n));break}o[u]==r&&(n=this.putAction(ni(o,u+1),r,i,n))}return n}}var Mm;(function(t){t[t.Distance=5]="Distance",t[t.MaxRemainingPerStep=3]="MaxRemainingPerStep",t[t.MinBufferLengthPrune=500]="MinBufferLengthPrune",t[t.ForceReduceLimit=10]="ForceReduceLimit",t[t.CutDepth=15e3]="CutDepth",t[t.CutTo=9e3]="CutTo",t[t.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",t[t.MaxStackCount=12]="MaxStackCount"})(Mm||(Mm={}));class a_{constructor(e,r,i,n){this.parser=e,this.input=r,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new t_(r,n),this.tokens=new s_(e,this.stream),this.topTerm=e.top[1];let{from:s}=n[0];this.stacks=[jo.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new n_(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,i=this.stacks=[],n,s;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let o=e[a];for(;;){if(this.tokens.mainToken=null,o.pos>r)i.push(o);else{if(this.advanceStack(o,i,e))continue;{n||(n=[],s=[]),n.push(o);let l=this.tokens.getMainToken(o);s.push(l.value,l.end)}}break}}if(!i.length){let a=n&&u_(n);if(a)return this.stackToTree(a);if(this.parser.strict)throw Cr&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&n){let a=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,i);if(a)return this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(i.length>a)for(i.sort((o,l)=>l.score-o.score);i.length>a;)i.pop();i.some(o=>o.reducePos>r)&&this.recovering--}else if(i.length>1){e:for(let a=0;a<i.length-1;a++){let o=i[a];for(let l=a+1;l<i.length;l++){let u=i[l];if(o.sameState(u)||o.buffer.length>500&&u.buffer.length>500)if((o.score-u.score||o.buffer.length-u.buffer.length)>0)i.splice(l--,1);else{i.splice(a--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let a=1;a<i.length;a++)i[a].pos<this.minStackPos&&(this.minStackPos=i[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,i){let n=e.pos,{parser:s}=this,a=Cr?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,c=u?e.curContext.hash:0;for(let h=this.fragments.nodeAt(n);h;){let m=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(m>-1&&h.length&&(!u||(h.prop(Ce.contextHash)||0)==c))return e.useNode(h,m),Cr&&console.log(a+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof mt)||h.children.length==0||h.positions[0]>0)break;let p=h.children[0];if(p instanceof mt&&h.positions[0]==0)h=p;else break}}let o=s.stateSlot(e.state,4);if(o>0)return e.reduce(o),Cr&&console.log(a+this.stackID(e)+` (via always-reduce ${s.getName(o&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let c=l[u++],h=l[u++],m=l[u++],p=u==l.length||!i,b=p?e:e.split();if(b.apply(c,h,m),Cr&&console.log(a+this.stackID(b)+` (via ${c&65536?`reduce of ${s.getName(c&65535)}`:"shift"} for ${s.getName(h)} @ ${n}${b==e?"":", split"})`),p)return!0;b.pos>n?r.push(b):i.push(b)}return!1}advanceFully(e,r){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Dm(e,r),!0}}runRecovery(e,r,i){let n=null,s=!1;for(let a=0;a<e.length;a++){let o=e[a],l=r[a<<1],u=r[(a<<1)+1],c=Cr?this.stackID(o)+" -> ":"";if(o.deadEnd&&(s||(s=!0,o.restart(),Cr&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))))continue;let h=o.split(),m=c;for(let p=0;h.forceReduce()&&p<10&&(Cr&&console.log(m+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,i));p++)Cr&&(m=this.stackID(h)+" -> ");for(let p of o.recoverByInsert(l))Cr&&console.log(c+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,i);this.stream.end>o.pos?(u==o.pos&&(u++,l=0),o.recoverByDelete(l,u),Cr&&console.log(c+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),Dm(o,i)):(!n||n.score<o.score)&&(n=o)}return n}stackToTree(e){return e.close(),mt.build({buffer:Qo.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(M0||(M0=new WeakMap)).get(e);return r||M0.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function Dm(t,e){for(let r=0;r<e.length;r++){let i=e[r];if(i.pos==t.pos&&i.sameState(t)){e[r].score<t.score&&(e[r]=t);return}}e.push(t)}class o_{constructor(e,r,i){this.source=e,this.flags=r,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const D0=t=>t;class l_{constructor(e){this.start=e.start,this.shift=e.shift||D0,this.reduce=e.reduce||D0,this.reuse=e.reuse||D0,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Jo extends U4{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (${14})`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let o=0;o<e.repeatNodeCount;o++)r.push("");let i=Object.keys(e.topRules).map(o=>e.topRules[o][1]),n=[];for(let o=0;o<r.length;o++)n.push([]);function s(o,l,u){n[o].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let o of e.nodeProps){let l=o[0];typeof l=="string"&&(l=Ce[l]);for(let u=1;u<o.length;){let c=o[u++];if(c>=0)s(c,l,o[u++]);else{let h=o[u+-c];for(let m=-c;m>0;m--)s(o[u++],l,h);u++}}}this.nodeSet=new th(r.map((o,l)=>ir.define({name:l>=this.minRepeatTerm?void 0:o,id:l,props:n[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=B4;let a=Wa(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(Rm),this.states=Wa(e.states,Uint32Array),this.data=Wa(e.stateData),this.goto=Wa(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new Bn(a,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,i){let n=new a_(this,e,r,i);for(let s of this.wrappers)n=s(n,e,r,i);return n}getGoto(e,r,i=!1){let n=this.goto;if(r>=n[0])return-1;for(let s=n[r+1];;){let a=n[s++],o=a&1,l=n[s++];if(o&&i)return l;for(let u=s+(a>>1);s<u;s++)if(n[s]==e)return l;if(o)return-1}}hasAction(e,r){let i=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(e,n?2:1),a;;s+=3){if((a=i[s])==65535)if(i[s+1]==1)a=i[s=ni(i,s+2)];else{if(i[s+1]==2)return ni(i,s+2);break}if(a==r||a==0)return ni(i,s+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){if(r==this.stateSlot(e,4))return!0;for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=ni(this.data,i+2);else return!1;if(r==ni(this.data,i+1))return!0}}nextStates(e){let r=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=ni(this.data,i+2);else break;if(!(this.data[i+2]&1)){let n=this.data[i+1];r.some((s,a)=>a&1&&s==n)||r.push(this.data[i],n)}}return r}configure(e){let r=Object.assign(Object.create(Jo.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=i}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(i=>{let n=e.tokenizers.find(s=>s.from==i);return n?n.to:i})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((i,n)=>{let s=e.specializers.find(o=>o.from==i.external);if(!s)return i;let a=Object.assign(Object.assign({},i),{external:s.to});return r.specializers[n]=Rm(a),a})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),i=r.map(()=>!1);if(e)for(let s of e.split(" ")){let a=r.indexOf(s);a>=0&&(i[a]=!0)}let n=null;for(let s=0;s<r.length;s++)if(!i[s])for(let a=this.dialects[r[s]],o;(o=this.data[a++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[o]=1;return new o_(e,i,n)}static deserialize(e){return new Jo(e)}}function ni(t,e){return t[e]|t[e+1]<<16}function u_(t){let e=null;for(let r of t){let i=r.p.stoppedAt;(r.pos==r.p.stream.end||i!=null&&r.pos>i)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function Rm(t){if(t.external){let e=t.extend?1:0;return(r,i)=>t.external(r,i)<<1|e}return t.get}const Xu=1,c_=2,h_=3,f_=4,d_=5,m_=35,p_=36,g_=37,b_=11,T_=13;function v_(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function E_(t){return t==9||t==10||t==13||t==32}let Lm=null,Pm=null,Bm=0;function Ku(t,e){let r=t.pos+e;if(Pm==t&&Bm==r)return Lm;for(;E_(t.peek(e));)e++;let i="";for(;;){let n=t.peek(e);if(!v_(n))break;i+=String.fromCharCode(n),e++}return Pm=t,Bm=r,Lm=i||null}function Fm(t,e){this.name=t,this.parent=e,this.hash=e?e.hash:0;for(let r=0;r<t.length;r++)this.hash+=(this.hash<<4)+t.charCodeAt(r)+(t.charCodeAt(r)<<8)}const y_=new l_({start:null,shift(t,e,r,i){return e==Xu?new Fm(Ku(i,1)||"",t):t},reduce(t,e){return e==b_&&t?t.parent:t},reuse(t,e,r,i){let n=e.type.id;return n==Xu||n==T_?new Fm(Ku(i,1)||"",t):t},hash(t){return t?t.hash:0},strict:!1}),A_=new o6((t,e)=>{if(t.next==60){if(t.advance(),t.next==47){t.advance();let r=Ku(t,0);if(!r)return t.acceptToken(d_);if(e.context&&r==e.context.name)return t.acceptToken(c_);for(let i=e.context;i;i=i.parent)if(i.name==r)return t.acceptToken(h_,-2);t.acceptToken(f_)}else if(t.next!=33&&t.next!=63)return t.acceptToken(Xu)}},{contextual:!0});function Eh(t,e){return new o6(r=>{for(let i=0,n=0;;n++){if(r.next<0){n&&r.acceptToken(t);break}if(r.next==e.charCodeAt(i)){if(i++,i==e.length){n>=e.length&&r.acceptToken(t,1-e.length);break}}else i=r.next==e.charCodeAt(0)?1:0;r.advance()}})}const x_=Eh(m_,"-->"),S_=Eh(p_,"?>"),w_=Eh(g_,"]]>"),C_=z4({Text:Q.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":Q.angleBracket,TagName:Q.tagName,"MismatchedCloseTag/Tagname":[Q.tagName,Q.invalid],AttributeName:Q.attributeName,AttributeValue:Q.attributeValue,Is:Q.definitionOperator,"EntityReference CharacterReference":Q.character,Comment:Q.blockComment,ProcessingInst:Q.processingInstruction,DoctypeDecl:Q.documentMeta,Cdata:Q.special(Q.string)}),k_=Jo.deserialize({version:14,states:",SOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DS'#DSOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C{'#C{O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C|'#C|O$dOrO,59^OOOP,59^,59^OOOS'#C}'#C}O$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6y-E6yOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6z-E6zOOOP1G.x1G.xOOOS-E6{-E6{OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'jO!bO,59eOOOO-E6w-E6wO'xOpO1G.uO'xOpO1G.uOOOP1G.u1G.uO(QOpO7+$fOOOP7+$f7+$fO(YO!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(eO#tO'#CnOOOO1G.q1G.qO(sOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO({O#tO,59YOOOO,59Y,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.t",stateData:")Z~OPQOSVOTWOVWOWWOXWOiXOxPO}TO!PUO~OuZOw]O~O^`Oy^O~OPQOQcOSVOTWOVWOWWOXWOxPO}TO!PUO~ORdO~P!SOseO|gO~OthO!OjO~O^lOy^O~OuZOwoO~O^qOy^O~O[vO`sOdwOy^O~ORyO~P!SO^{Oy^O~OseO|}O~OthO!O!PO~O^!QOy^O~O[!SOy^O~O[!VO`sOd!WOy^O~Oa!YOy^O~Oy^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oy^O~O[!_Oy^O~O[!aOy^O~O[!cO`sOd!dOy^O~O[!cO`sOd!dO~Oa!eOy^O~Oy^Oz!gO~Oy^O[ma`madma~O[!jOy^O~O[!kOy^O~O[!lO`sOd!mO~OW!pOX!pOz!rO{!pO~O[!sOy^O~OW!pOX!pOz!vO{!pO~O",goto:"%[wPPPPPPPPPPxxP!OP!UPP!_!iP!oxxxP!u!{#R$Z$j$p$v$|PPPP%SXWORYbXRORYb_t`qru!T!U!bQ!h!YS!o!e!fR!t!nQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!i!nQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!i!]R!n!eQu`S!UqrU![u!U!bR!b!TQ!q!gR!u!qQbRRxbQfTR|fQiUR!OiSXOYTaRb",nodeNames:"⚠ StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",maxTerm:47,context:y_,nodeProps:[["closedBy",1,"SelfCloseEndTag EndTag",13,"CloseTag MissingCloseTag"],["openedBy",12,"StartTag StartCloseTag",19,"OpenTag",20,"StartTag"]],propSources:[C_],skippedNodes:[0],repeatNodeCount:8,tokenData:"IX~R!XOX$nXY&kYZ&kZ]$n]^&k^p$npq&kqr$nrs'ssv$nvw(Zw}$n}!O*l!O!P$n!P!Q,{!Q![$n![!].e!]!^$n!^!_1v!_!`Cz!`!aDm!a!bE`!b!c$n!c!}.e!}#P$n#P#QFx#Q#R$n#R#S.e#S#T$n#T#o.e#o%W$n%W%o.e%o%p$n%p&a.e&a&b$n&b1p.e1p4U$n4U4d.e4d4e$n4e$IS.e$IS$I`$n$I`$Ib.e$Ib$Kh$n$Kh%#t.e%#t&/x$n&/x&Et.e&Et&FV$n&FV;'S.e;'S;:j1p;:j;=`&e<%l?&r$n?&r?Ah.e?Ah?BY$n?BY?Mn.e?MnO$nX$uWVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nP%dTVPOv%_w!^%_!_;'S%_;'S;=`%s<%lO%_P%vP;=`<%l%_W&OT{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yW&bP;=`<%l%yX&hP;=`<%l$n_&t_VP{WyUOX$nXY&kYZ&kZ]$n]^&k^p$npq&kqr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZ'zTzYVPOv%_w!^%_!_;'S%_;'S;=`%s<%lO%_~(^VOp(sqs(sst)ht!](s!^;'S(s;'S;=`)b<%lO(s~(vVOp(sqs(st!](s!]!^)]!^;'S(s;'S;=`)b<%lO(s~)bOW~~)eP;=`<%l(s~)kTOp)zq!])z!^;'S)z;'S;=`*f<%lO)z~)}UOp)zq!])z!]!^*a!^;'S)z;'S;=`*f<%lO)z~*fOX~~*iP;=`<%l)zZ*sYVP{WOr$nrs%_sv$nw}$n}!O+c!O!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZ+jYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!a,Y!a;'S$n;'S;=`&e<%lO$nZ,cW|QVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n]-SYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!a-r!a;'S$n;'S;=`&e<%lO$n]-{WdSVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n_.p!O`S^QVP{WOr$nrs%_sv$nw}$n}!O.e!O!P.e!P!Q$n!Q![.e![!].e!]!^$n!^!_%y!_!c$n!c!}.e!}#R$n#R#S.e#S#T$n#T#o.e#o$}$n$}%O.e%O%W$n%W%o.e%o%p$n%p&a.e&a&b$n&b1p.e1p4U.e4U4d.e4d4e$n4e$IS.e$IS$I`$n$I`$Ib.e$Ib$Je$n$Je$Jg.e$Jg$Kh$n$Kh%#t.e%#t&/x$n&/x&Et.e&Et&FV$n&FV;'S.e;'S;:j1p;:j;=`&e<%l?&r$n?&r?Ah.e?Ah?BY$n?BY?Mn.e?MnO$n_1sP;=`<%l.eX1{W{WOq%yqr2esv%yw!a%y!a!bCd!b;'S%y;'S;=`&_<%lO%yX2j]{WOr%ysv%yw}%y}!O3c!O!f%y!f!g4e!g!}%y!}#O9t#O#W%y#W#X@Q#X;'S%y;'S;=`&_<%lO%yX3hV{WOr%ysv%yw}%y}!O3}!O;'S%y;'S;=`&_<%lO%yX4UT}P{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yX4jV{WOr%ysv%yw!q%y!q!r5P!r;'S%y;'S;=`&_<%lO%yX5UV{WOr%ysv%yw!e%y!e!f5k!f;'S%y;'S;=`&_<%lO%yX5pV{WOr%ysv%yw!v%y!v!w6V!w;'S%y;'S;=`&_<%lO%yX6[V{WOr%ysv%yw!{%y!{!|6q!|;'S%y;'S;=`&_<%lO%yX6vV{WOr%ysv%yw!r%y!r!s7]!s;'S%y;'S;=`&_<%lO%yX7bV{WOr%ysv%yw!g%y!g!h7w!h;'S%y;'S;=`&_<%lO%yX7|X{WOr7wrs8isv7wvw8iw!`7w!`!a9W!a;'S7w;'S;=`9n<%lO7wP8lTO!`8i!`!a8{!a;'S8i;'S;=`9Q<%lO8iP9QOiPP9TP;=`<%l8iX9_TiP{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yX9qP;=`<%l7wX9yX{WOr%ysv%yw!e%y!e!f:f!f#V%y#V#W=t#W;'S%y;'S;=`&_<%lO%yX:kV{WOr%ysv%yw!f%y!f!g;Q!g;'S%y;'S;=`&_<%lO%yX;VV{WOr%ysv%yw!c%y!c!d;l!d;'S%y;'S;=`&_<%lO%yX;qV{WOr%ysv%yw!v%y!v!w<W!w;'S%y;'S;=`&_<%lO%yX<]V{WOr%ysv%yw!c%y!c!d<r!d;'S%y;'S;=`&_<%lO%yX<wV{WOr%ysv%yw!}%y!}#O=^#O;'S%y;'S;=`&_<%lO%yX=eT{WxPOr%ysv%yw;'S%y;'S;=`&_<%lO%yX=yV{WOr%ysv%yw#W%y#W#X>`#X;'S%y;'S;=`&_<%lO%yX>eV{WOr%ysv%yw#T%y#T#U>z#U;'S%y;'S;=`&_<%lO%yX?PV{WOr%ysv%yw#h%y#h#i?f#i;'S%y;'S;=`&_<%lO%yX?kV{WOr%ysv%yw#T%y#T#U<r#U;'S%y;'S;=`&_<%lO%yX@VV{WOr%ysv%yw#c%y#c#d@l#d;'S%y;'S;=`&_<%lO%yX@qV{WOr%ysv%yw#V%y#V#WAW#W;'S%y;'S;=`&_<%lO%yXA]V{WOr%ysv%yw#h%y#h#iAr#i;'S%y;'S;=`&_<%lO%yXAwV{WOr%ysv%yw#m%y#m#nB^#n;'S%y;'S;=`&_<%lO%yXBcV{WOr%ysv%yw#d%y#d#eBx#e;'S%y;'S;=`&_<%lO%yXB}V{WOr%ysv%yw#X%y#X#Y7w#Y;'S%y;'S;=`&_<%lO%yXCkT!PP{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yZDTWaQVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n_DvW[UVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZEgYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!aFV!a;'S$n;'S;=`&e<%lO$nZF`W!OQVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZGPYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_#P$n#P#QGo#Q;'S$n;'S;=`&e<%lO$nZGvYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!aHf!a;'S$n;'S;=`&e<%lO$nZHoWwQVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n",tokenizers:[A_,x_,S_,w_,0,1,2,3],topRules:{Document:[0,6]},tokenPrec:0});function so(t,e){let r=e&&e.getChild("TagName");return r?t.sliceString(r.from,r.to):""}function R0(t,e){let r=e&&e.firstChild;return!r||r.name!="OpenTag"?"":so(t,r)}function __(t,e,r){let i=e&&e.getChildren("Attribute").find(s=>s.from<=r&&s.to>=r),n=i&&i.getChild("AttributeName");return n?t.sliceString(n.from,n.to):""}function L0(t){for(let e=t&&t.parent;e;e=e.parent)if(e.name=="Element")return e;return null}function O_(t,e){var r;let i=Rt(t).resolveInner(e,-1),n=null;for(let s=i;!n&&s.parent;s=s.parent)(s.name=="OpenTag"||s.name=="CloseTag"||s.name=="SelfClosingTag"||s.name=="MismatchedCloseTag")&&(n=s);if(n&&(n.to>e||n.lastChild.type.isError)){let s=n.parent;if(i.name=="TagName")return n.name=="CloseTag"||n.name=="MismatchedCloseTag"?{type:"closeTag",from:i.from,context:s}:{type:"openTag",from:i.from,context:L0(s)};if(i.name=="AttributeName")return{type:"attrName",from:i.from,context:n};if(i.name=="AttributeValue")return{type:"attrValue",from:i.from,context:n};let a=i==n||i.name=="Attribute"?i.childBefore(e):i;return(a==null?void 0:a.name)=="StartTag"?{type:"openTag",from:e,context:L0(s)}:(a==null?void 0:a.name)=="StartCloseTag"&&a.to<=e?{type:"closeTag",from:e,context:s}:(a==null?void 0:a.name)=="Is"?{type:"attrValue",from:e,context:n}:a?{type:"attrName",from:e,context:n}:null}else if(i.name=="StartCloseTag")return{type:"closeTag",from:e,context:i.parent};for(;i.parent&&i.to==e&&!(!((r=i.lastChild)===null||r===void 0)&&r.type.isError);)i=i.parent;return i.name=="Element"||i.name=="Text"||i.name=="Document"?{type:"tag",from:e,context:i.name=="Element"?i:L0(i)}:null}class N_{constructor(e,r,i){this.attrs=r,this.attrValues=i,this.children=[],this.name=e.name,this.completion=Object.assign(Object.assign({type:"type"},e.completion||{}),{label:this.name}),this.openCompletion=Object.assign(Object.assign({},this.completion),{label:"<"+this.name}),this.closeCompletion=Object.assign(Object.assign({},this.completion),{label:"</"+this.name+">",boost:2}),this.closeNameCompletion=Object.assign(Object.assign({},this.completion),{label:this.name+">"}),this.text=e.textContent?e.textContent.map(n=>({label:n,type:"text"})):[]}}const P0=/^[:\-\.\w\u00b7-\uffff]*$/;function Hm(t){return Object.assign(Object.assign({type:"property"},t.completion||{}),{label:t.name})}function Um(t){return typeof t=="string"?{label:`"${t}"`,type:"constant"}:/^"/.test(t.label)?t:Object.assign(Object.assign({},t),{label:`"${t.label}"`})}function I_(t,e){let r=[],i=[],n=Object.create(null);for(let l of e){let u=Hm(l);r.push(u),l.global&&i.push(u),l.values&&(n[l.name]=l.values.map(Um))}let s=[],a=[],o=Object.create(null);for(let l of t){let u=i,c=n;l.attributes&&(u=u.concat(l.attributes.map(m=>typeof m=="string"?r.find(p=>p.label==m)||{label:m,type:"property"}:(m.values&&(c==n&&(c=Object.create(c)),c[m.name]=m.values.map(Um)),Hm(m)))));let h=new N_(l,u,c);o[h.name]=h,s.push(h),l.top&&a.push(h)}a.length||(a=s);for(let l=0;l<s.length;l++){let u=t[l],c=s[l];if(u.children)for(let h of u.children)o[h]&&c.children.push(o[h]);else c.children=s}return l=>{var u;let{doc:c}=l.state,h=O_(l.state,l.pos);if(!h||h.type=="tag"&&!l.explicit)return null;let{type:m,from:p,context:b}=h;if(m=="openTag"){let A=a,x=R0(c,b);if(x){let S=o[x];A=(S==null?void 0:S.children)||s}return{from:p,options:A.map(S=>S.completion),validFor:P0}}else if(m=="closeTag"){let A=R0(c,b);return A?{from:p,to:l.pos+(c.sliceString(l.pos,l.pos+1)==">"?1:0),options:[((u=o[A])===null||u===void 0?void 0:u.closeNameCompletion)||{label:A+">",type:"type"}],validFor:P0}:null}else if(m=="attrName"){let A=o[so(c,b)];return{from:p,options:(A==null?void 0:A.attrs)||i,validFor:P0}}else if(m=="attrValue"){let A=__(c,b,p);if(!A)return null;let x=o[so(c,b)],S=((x==null?void 0:x.attrValues)||n)[A];return!S||!S.length?null:{from:p,to:l.pos+(c.sliceString(l.pos,l.pos+1)=='"'?1:0),options:S,validFor:/^"[^"]*"?$/}}else if(m=="tag"){let A=R0(c,b),x=o[A],S=[],R=b&&b.lastChild;A&&(!R||R.name!="CloseTag"||so(c,R)!=A)&&S.push(x?x.closeCompletion:{label:"</"+A+">",type:"type",boost:2});let I=S.concat(((x==null?void 0:x.children)||(b?s:a)).map(P=>P.openCompletion));if(b&&(x!=null&&x.text.length)){let P=b.firstChild;P.to>l.pos-20&&!/\S/.test(l.state.sliceDoc(P.to,l.pos))&&(I=I.concat(x.text))}return{from:p,options:I,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}else return null}}const zm=Po.define({name:"xml",parser:k_.configure({props:[W4.add({Element(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),G4.add({Element(t){let e=t.firstChild,r=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:r.name=="CloseTag"?r.from:t.to}}}),n3.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/$/}});function M_(t={}){return new OS(zm,zm.data.of({autocomplete:I_(t.elements||[],t.attributes||[])}))}function D_(t){let e,r,i,n,s,a,o,l,u,c,h,m,p,b,A;function x(R){t[2](R)}let S={lang:M_(),tabSize:4,styles:{"&":{border:"1px solid #aaa"}}};return t[0]!==void 0&&(S.value=t[0]),c=new Zk({props:S}),$m.push(()=>g6(c,"value",x)),b=new wy({props:{stx:t[0]}}),{c(){e=Fe("h1"),r=Se("SpaTeXt "),i=Se(t[1]),n=pt(),s=Fe("h3"),a=Se("Simplified PreTeXt for Apps"),o=pt(),l=Fe("div"),u=Fe("div"),ge(c.$$.fragment),m=pt(),p=Fe("div"),ge(b.$$.fragment),this.h()},l(R){e=He(R,"H1",{});var I=$e(e);r=we(I,"SpaTeXt "),i=we(I,t[1]),I.forEach(q),n=gt(R),s=He(R,"H3",{style:!0});var P=$e(s);a=we(P,"Simplified PreTeXt for Apps"),P.forEach(q),o=gt(R),l=He(R,"DIV",{class:!0});var N=$e(l);u=He(N,"DIV",{class:!0});var $=$e(u);be(c.$$.fragment,$),$.forEach(q),m=gt(N),p=He(N,"DIV",{class:!0});var _=$e(p);be(b.$$.fragment,_),_.forEach(q),N.forEach(q),this.h()},h(){Os(s,"color","#444"),Nt(u,"class","column svelte-1elbvs0"),Nt(p,"class","column svelte-1elbvs0"),Nt(l,"class","flex-container svelte-1elbvs0")},m(R,I){J(R,e,I),et(e,r),et(e,i),J(R,n,I),J(R,s,I),et(s,a),J(R,o,I),J(R,l,I),et(l,u),Te(c,u,null),et(l,m),et(l,p),Te(b,p,null),A=!0},p(R,[I]){const P={};!h&&I&1&&(h=!0,P.value=R[0],b6(()=>h=!1)),c.$set(P);const N={};I&1&&(N.stx=R[0]),b.$set(N)},i(R){A||(H(c.$$.fragment,R),H(b.$$.fragment,R),A=!0)},o(R){V(c.$$.fragment,R),V(b.$$.fragment,R),A=!1},d(R){R&&q(e),R&&q(n),R&&q(s),R&&q(o),R&&q(l),ve(c),ve(b)}}}function R_(t,e,r){let i=Cy;const n="0.3.0-beta.20230312";function s(a){i=a,r(0,i)}return[i,n,s]}class W_ extends Tt{constructor(e){super(),vt(this,e,R_,D_,Et,{})}}export{W_ as default};
